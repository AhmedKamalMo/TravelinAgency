# دليل إدارة الصفحة الرئيسية - نظام CMS

## نظرة عامة

تم تطوير نظام إدارة محتوى شامل للصفحة الرئيسية يتيح للإدارة تعديل جميع محتويات الصفحة الرئيسية من لوحة التحكم مع الحفاظ على التصميم الأصلي والفيديوهات والصور.

## المميزات الجديدة

### 🏠 إدارة الصفحة الرئيسية
- **تعديل ديناميكي**: إمكانية تعديل جميع أقسام الصفحة الرئيسية من لوحة الإدارة
- **أقسام متعددة**: Hero، Services، About، Contact، Testimonials، Generic
- **محتوى مرن**: إضافة وتعديل وحذف الأقسام بسهولة
- **معاينة مباشرة**: إمكانية معاينة التغييرات قبل النشر

### 🎨 أنواع الأقسام المتاحة

#### 1. قسم البطل (Hero)
- عنوان رئيسي وعنوان فرعي
- محتوى نصي
- **دعم الفيديوهات**: فيديوهات خلفية للديسكتوب والموبايل
- **الصور**: صور خلفية مع poster images
- ألوان خلفية ونص قابلة للتخصيص
- أزرار تفاعلية
- **التصميم الأصلي**: يحافظ على نفس التصميم مع الفيديوهات

#### 2. قسم الخدمات (Services)
- عرض الخدمات في شبكة
- أيقونات وألوان قابلة للتخصيص
- روابط للصفحات المختلفة

#### 3. قسم من نحن (About)
- معلومات عن الشركة
- إحصائيات وأرقام
- صور ومحتوى نصي

#### 4. قسم الشهادات (Testimonials)
- آراء العملاء
- تقييمات النجوم
- صور العملاء

#### 5. قسم التواصل (Contact)
- نموذج اتصال
- معلومات التواصل
- خرائط ومواقع

#### 6. قسم عام (Generic)
- محتوى مرن قابل للتخصيص
- دعم للنصوص والصور والفيديوهات
- تخطيطات متعددة

## كيفية الاستخدام

### 1. الوصول لإدارة الصفحة الرئيسية
1. ادخل إلى لوحة الإدارة: `/admin`
2. اذهب إلى "إدارة المحتوى" → "الصفحة الرئيسية"
3. أو مباشرة: `/admin/cms/homepage`

### 2. إضافة قسم جديد
1. اضغط على "إضافة قسم"
2. اختر نوع القسم من القائمة
3. أدخل العنوان والمحتوى
4. اضبط الألوان والإعدادات
5. اضغط "إضافة"

### 3. تعديل قسم موجود
1. اضغط على "تعديل" بجانب القسم المطلوب
2. عدّل المحتوى والإعدادات
3. اضغط "حفظ التغييرات"

### 4. إدارة حالة الأقسام
- **نشط**: القسم يظهر في الصفحة الرئيسية
- **غير نشط**: القسم مخفي عن الزوار
- **ترتيب**: يمكن تغيير ترتيب الأقسام

### 5. حفظ التغييرات
- اضغط "حفظ التغييرات" لحفظ جميع التعديلات
- اضغط "معاينة" لرؤية الصفحة الرئيسية

## API Endpoints

### إدارة الصفحة الرئيسية
- `GET /api/cms/pages/home` - جلب بيانات الصفحة الرئيسية للإدارة
- `PUT /api/cms/pages/{id}` - تحديث معلومات الصفحة

### إدارة الأقسام
- `POST /api/cms/sections` - إضافة قسم جديد
- `PUT /api/cms/sections/{id}` - تحديث قسم موجود
- `DELETE /api/cms/sections/{id}` - حذف قسم

### العرض العام
- `GET /api/public/pages/home` - جلب محتوى الصفحة الرئيسية للزوار

## قاعدة البيانات

### الجداول المستخدمة
- `cms_pages`: معلومات الصفحات
- `cms_sections`: أقسام الصفحات
- `cms_content_blocks`: كتل المحتوى داخل الأقسام

### المحتوى الافتراضي
تم إنشاء محتوى افتراضي للصفحة الرئيسية يشمل:
- **قسم البطل**: مع فيديوهات خلفية للديسكتوب والموبايل
- **قسم الخدمات**: مع 8 خدمات شاملة وصور خلفية
- **قسم من نحن**: مع إحصائيات وبيانات الشركة
- **قسم التواصل**: مع نموذج اتصال

### التصميم الأصلي
النظام يحافظ على:
- **الفيديوهات**: فيديوهات خلفية متجاوبة
- **الصور**: صور عالية الجودة مع تحسين الأداء
- **التنسيقات**: نفس التصميم الأصلي مع Tailwind CSS
- **التفاعل**: نفس التجربة التفاعلية والانتقالات

## الملفات المحدثة

### الصفحة الرئيسية
- `pages/index.vue` - تحويل لاستخدام نظام CMS

### لوحة الإدارة
- `pages/admin/cms/homepage.vue` - صفحة إدارة الصفحة الرئيسية
- `pages/admin/cms/index.vue` - إضافة رابط للصفحة الرئيسية

### API Endpoints
- `server/api/cms/pages/home.get.ts` - جلب بيانات الصفحة للإدارة
- `server/api/public/pages/home.get.ts` - جلب المحتوى للزوار
- `server/api/cms/sections/[id].delete.ts` - حذف الأقسام

### مكونات CMS
- `components/cms/CMSRenderer.vue` - مكون عرض الأقسام
- جميع مكونات CMS تم إصلاحها لدعم JavaScript

### السكريبت
- `mysql/create-homepage-content.js` - إنشاء المحتوى الافتراضي

## التشغيل

### إنشاء المحتوى الافتراضي
```bash
cd mysql
node create-homepage-content.js
```

### الوصول للنظام
1. **الصفحة الرئيسية**: `/`
2. **إدارة الصفحة الرئيسية**: `/admin/cms/homepage`
3. **لوحة الإدارة**: `/admin`

## المميزات التقنية

### الأمان
- حماية API endpoints
- التحقق من صلاحيات الإدارة
- تنظيف البيانات المدخلة

### الأداء
- تحميل محتوى ديناميكي
- معاينة فورية للتغييرات
- نظام fallback للمحتوى الثابت

### سهولة الاستخدام
- واجهة إدارة بديهية
- معاينة مباشرة للتغييرات
- حفظ تلقائي للإعدادات

## الدعم والمساعدة

في حالة وجود أي مشاكل أو استفسارات:
1. تحقق من console المتصفح للأخطاء
2. تأكد من اتصال قاعدة البيانات
3. تحقق من صلاحيات الإدارة
4. راجع ملفات الـ API logs

---

**تم تطوير هذا النظام لضمان سهولة إدارة محتوى الصفحة الرئيسية دون الحاجة لمعرفة تقنية متقدمة.**
