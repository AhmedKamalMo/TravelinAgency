import{d as s,g as t,c as e}from"../../../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"vue";import"@iconify/utils";import"node:crypto";import"consola";import"node:url";import"ipx";import"node:fs";import"node:path";const o=s((async s=>{try{const o=t(s,"slug");if(!o)throw e({statusCode:400,statusMessage:"Page slug is required"});const a={"":1,packages:2,"custom-package":3,about:4}[o];if(!a)throw e({statusCode:404,statusMessage:"Page not found"});try{const s=await import("fs/promises"),t=(await import("path")).join(process.cwd(),"page-statuses.json"),e=await s.readFile(t,"utf-8"),i=JSON.parse(e)[a.toString()]||"published";return{success:!0,pageId:a,slug:o,status:i,isPublished:"published"===i}}catch(s){return{success:!0,pageId:a,slug:o,status:"published",isPublished:!0}}}catch(s){throw e({statusCode:s.statusCode||500,statusMessage:s.statusMessage||"Failed to check page status"})}}));export{o as default};
//# sourceMappingURL=status.get.mjs.map
