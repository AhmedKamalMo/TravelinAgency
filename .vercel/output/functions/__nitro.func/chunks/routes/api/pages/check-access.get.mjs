import{d as s,a as t,c as e}from"../../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"vue";import"@iconify/utils";import"node:crypto";import"consola";import"node:url";import"ipx";import"node:fs";import"node:path";const a=s((async s=>{try{const{path:a}=t(s);if(!a)throw e({statusCode:400,statusMessage:"Path is required"});const o={"/":1,"/packages/":2,"/custom-package/":3,"/about/":4}[a];if(!o)return{success:!0,accessible:!0,reason:"Not a main page"};try{const s=await import("fs/promises"),t=(await import("path")).join(process.cwd(),"page-statuses.json"),e=await s.readFile(t,"utf-8"),a=JSON.parse(e)[o.toString()],i="published"===a;return{success:!0,accessible:i,pageId:o,status:a,reason:i?"Page is published":"Page is not published"}}catch(s){return{success:!0,accessible:!0,pageId:o,status:"published",reason:"Status file not found, assuming published"}}}catch(s){throw e({statusCode:s.statusCode||500,statusMessage:s.statusMessage||"Failed to check page access"})}}));export{a as default};
//# sourceMappingURL=check-access.get.mjs.map
