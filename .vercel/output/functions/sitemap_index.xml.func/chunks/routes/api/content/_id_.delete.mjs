import{d as e,g as t,c as o}from"../../../_/nitro.mjs";import{executeQuery as s}from"../../../_/database.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"vue";import"@iconify/utils";import"node:crypto";import"consola";import"node:url";import"ipx";import"node:fs";import"node:path";import"mysql2/promise";import"bcryptjs";import"jsonwebtoken";const a=e((async e=>{try{const a=t(e,"id");if(!a)throw o({statusCode:400,statusMessage:"Page ID is required"});try{const e=await s("\n        SELECT id FROM content_pages WHERE id = ?\n      ",[a]);if(!e||0===e.length)throw o({statusCode:404,statusMessage:"Page not found"});await s("\n        DELETE FROM content_pages WHERE id = ?\n      ",[a])}catch(e){return console.log("Database delete not available, page deletion applied locally only"),{success:!0,message:"Page deleted successfully (local only)",pageId:a,note:"Database not available - deletion applied locally only"}}return{success:!0,message:"Page deleted successfully"}}catch(e){if(console.error("Error deleting page:",e),e.statusCode)throw e;throw o({statusCode:500,statusMessage:"Failed to delete page"})}}));export{a as default};
//# sourceMappingURL=_id_.delete.mjs.map
