import{M as e}from"./nuxt-link.mjs";import{q as r}from"./index2.mjs";import{defineComponent as s,ref as a,computed as t,mergeProps as l,unref as i,withCtx as o,createVNode as n,createTextVNode as d,useSSRContext as c}from"vue";import{ssrRenderAttrs as p,ssrInterpolate as u,ssrRenderComponent as m,ssrIncludeBooleanAttr as b,ssrRenderAttr as y,ssrLooseContain as g,ssrLooseEqual as v}from"vue/server-renderer";import{j as x,H as h}from"./server.mjs";import"@iconify/utils/lib/css/icon";import"@iconify/vue";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"node:crypto";import"consola";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";const w=s({__name:"edit",__ssrInlineRender:!0,setup(s){x().params.id;const c=a(null),w=a(!0),A=a(!1),_=a({email:"",full_name:"",phone:"",role:"user",status:"active",bio:"",date_of_birth:"",gender:"male",nationality:"",address:"",city:"",country:"",postal_code:"",preferences:{language:"ar",timezone:"Asia/Riyadh",notifications:{email:!0,sms:!0,push:!0},privacy:{profile_visibility:"public",show_email:!1,show_phone:!1}}}),$=t((()=>_.value.email&&_.value.full_name)),f=e=>new Date(e).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return h({title:"تعديل المستخدم - Wonder Land Admin",meta:[{name:"description",content:"تعديل بيانات المستخدم"},{name:"robots",content:"noindex, nofollow"}]}),(s,a,t,x)=>{var h;const k=e,j=r;a(`<div${p(l({class:"space-y-6"},x))}><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900">تعديل المستخدم</h1><p class="text-gray-600 mt-1">تعديل بيانات المستخدم: ${u((null==(h=i(c))?void 0:h.full_name)||"غير محدد")}</p></div><div class="flex items-center space-x-3 space-x-reverse">`),a(m(k,{to:"/admin/users",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},{default:o(((e,r,s,a)=>{if(!r)return[n(j,{name:"material-symbols:arrow-back",class:"h-4 w-4 ml-2"}),d(" العودة ")];r(m(j,{name:"material-symbols:arrow-back",class:"h-4 w-4 ml-2"},null,s,a)),r(" العودة ")})),_:1},t)),a(`<button${b(i(A)||!i($))?" disabled":""} class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed">`),a(m(j,{name:"material-symbols:save",class:["h-4 w-4 ml-2",{"animate-spin":i(A)}]},null,t)),a(` ${u(i(A)?"جاري الحفظ...":"حفظ التغييرات")}</button></div></div>`),i(w)?(a('<div class="flex justify-center items-center py-12">'),a(m(j,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"},null,t)),a('<span class="mr-3 text-gray-600">جارٍ تحميل بيانات المستخدم...</span></div>')):i(c)?(a(`<div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">المعلومات الشخصية</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">الاسم الكامل *</label><input${y("value",i(_).full_name)} type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل الاسم الكامل"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">البريد الإلكتروني *</label><input${y("value",i(_).email)} type="email" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل البريد الإلكتروني"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">رقم الهاتف</label><input${y("value",i(_).phone)} type="tel" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="+966501234567"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">تاريخ الميلاد</label><input${y("value",i(_).date_of_birth)} type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">الجنس</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${b(Array.isArray(i(_).gender)?g(i(_).gender,""):v(i(_).gender,""))?" selected":""}>اختر الجنس</option><option value="male"${b(Array.isArray(i(_).gender)?g(i(_).gender,"male"):v(i(_).gender,"male"))?" selected":""}>ذكر</option><option value="female"${b(Array.isArray(i(_).gender)?g(i(_).gender,"female"):v(i(_).gender,"female"))?" selected":""}>أنثى</option><option value="other"${b(Array.isArray(i(_).gender)?g(i(_).gender,"other"):v(i(_).gender,"other"))?" selected":""}>آخر</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">الجنسية</label><input${y("value",i(_).nationality)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="الجنسية"></div></div><div class="mt-4"><label class="block text-sm font-medium text-gray-700 mb-2">نبذة شخصية</label><textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل نبذة شخصية">${u(i(_).bio)}</textarea></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">العنوان</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="md:col-span-2"><label class="block text-sm font-medium text-gray-700 mb-2">العنوان الكامل</label><input${y("value",i(_).address)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل العنوان الكامل"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">المدينة</label><input${y("value",i(_).city)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="المدينة"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">البلد</label><input${y("value",i(_).country)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="البلد"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">الرمز البريدي</label><input${y("value",i(_).postal_code)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="الرمز البريدي"></div></div></div></div><div class="space-y-6"><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">الحالة والدور</h2><div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">الدور</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="user"${b(Array.isArray(i(_).role)?g(i(_).role,"user"):v(i(_).role,"user"))?" selected":""}>مستخدم</option><option value="moderator"${b(Array.isArray(i(_).role)?g(i(_).role,"moderator"):v(i(_).role,"moderator"))?" selected":""}>مشرف</option><option value="admin"${b(Array.isArray(i(_).role)?g(i(_).role,"admin"):v(i(_).role,"admin"))?" selected":""}>مدير</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">الحالة</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="active"${b(Array.isArray(i(_).status)?g(i(_).status,"active"):v(i(_).status,"active"))?" selected":""}>نشط</option><option value="inactive"${b(Array.isArray(i(_).status)?g(i(_).status,"inactive"):v(i(_).status,"inactive"))?" selected":""}>غير نشط</option><option value="suspended"${b(Array.isArray(i(_).status)?g(i(_).status,"suspended"):v(i(_).status,"suspended"))?" selected":""}>معلق</option></select></div></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">الإعدادات</h2><div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">اللغة</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="ar"${b(Array.isArray(i(_).preferences.language)?g(i(_).preferences.language,"ar"):v(i(_).preferences.language,"ar"))?" selected":""}>العربية</option><option value="en"${b(Array.isArray(i(_).preferences.language)?g(i(_).preferences.language,"en"):v(i(_).preferences.language,"en"))?" selected":""}>English</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">المنطقة الزمنية</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="Asia/Riyadh"${b(Array.isArray(i(_).preferences.timezone)?g(i(_).preferences.timezone,"Asia/Riyadh"):v(i(_).preferences.timezone,"Asia/Riyadh"))?" selected":""}>الرياض (GMT+3)</option><option value="Asia/Dubai"${b(Array.isArray(i(_).preferences.timezone)?g(i(_).preferences.timezone,"Asia/Dubai"):v(i(_).preferences.timezone,"Asia/Dubai"))?" selected":""}>دبي (GMT+4)</option><option value="UTC"${b(Array.isArray(i(_).preferences.timezone)?g(i(_).preferences.timezone,"UTC"):v(i(_).preferences.timezone,"UTC"))?" selected":""}>UTC (GMT+0)</option></select></div></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">الإشعارات</h2><div class="space-y-3"><label class="flex items-center"><input${b(Array.isArray(i(_).preferences.notifications.email)?g(i(_).preferences.notifications.email,null):i(_).preferences.notifications.email)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><span class="mr-2 text-sm text-gray-700">إشعارات البريد الإلكتروني</span></label><label class="flex items-center"><input${b(Array.isArray(i(_).preferences.notifications.sms)?g(i(_).preferences.notifications.sms,null):i(_).preferences.notifications.sms)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><span class="mr-2 text-sm text-gray-700">إشعارات الرسائل النصية</span></label><label class="flex items-center"><input${b(Array.isArray(i(_).preferences.notifications.push)?g(i(_).preferences.notifications.push,null):i(_).preferences.notifications.push)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><span class="mr-2 text-sm text-gray-700">الإشعارات الفورية</span></label></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">الخصوصية</h2><div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">رؤية الملف الشخصي</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="public"${b(Array.isArray(i(_).preferences.privacy.profile_visibility)?g(i(_).preferences.privacy.profile_visibility,"public"):v(i(_).preferences.privacy.profile_visibility,"public"))?" selected":""}>عام</option><option value="private"${b(Array.isArray(i(_).preferences.privacy.profile_visibility)?g(i(_).preferences.privacy.profile_visibility,"private"):v(i(_).preferences.privacy.profile_visibility,"private"))?" selected":""}>خاص</option><option value="friends"${b(Array.isArray(i(_).preferences.privacy.profile_visibility)?g(i(_).preferences.privacy.profile_visibility,"friends"):v(i(_).preferences.privacy.profile_visibility,"friends"))?" selected":""}>الأصدقاء فقط</option></select></div><div class="space-y-2"><label class="flex items-center"><input${b(Array.isArray(i(_).preferences.privacy.show_email)?g(i(_).preferences.privacy.show_email,null):i(_).preferences.privacy.show_email)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><span class="mr-2 text-sm text-gray-700">إظهار البريد الإلكتروني</span></label><label class="flex items-center"><input${b(Array.isArray(i(_).preferences.privacy.show_phone)?g(i(_).preferences.privacy.show_phone,null):i(_).preferences.privacy.show_phone)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><span class="mr-2 text-sm text-gray-700">إظهار رقم الهاتف</span></label></div></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">معلومات إضافية</h2><div class="space-y-3 text-sm text-gray-600"><div class="flex justify-between"><span>تاريخ التسجيل:</span><span>${u(f(i(c).created_at))}</span></div><div class="flex justify-between"><span>آخر تحديث:</span><span>${u(f(i(c).updated_at))}</span></div><div class="flex justify-between"><span>آخر دخول:</span><span>${u(i(c).last_login?f(i(c).last_login):"لم يسجل دخول")}</span></div><div class="flex justify-between"><span>عدد مرات الدخول:</span><span>${u(i(c).login_count||0)}</span></div><div class="flex justify-between"><span>البريد مؤكد:</span><span class="flex items-center">`),a(m(j,{name:i(c).email_verified?"material-symbols:check-circle":"material-symbols:cancel",class:[i(c).email_verified?"text-green-500":"text-red-500","h-4 w-4 ml-1"]},null,t)),a(` ${u(i(c).email_verified?"نعم":"لا")}</span></div><div class="flex justify-between"><span>الهاتف مؤكد:</span><span class="flex items-center">`),a(m(j,{name:i(c).phone_verified?"material-symbols:check-circle":"material-symbols:cancel",class:[i(c).phone_verified?"text-green-500":"text-red-500","h-4 w-4 ml-1"]},null,t)),a(` ${u(i(c).phone_verified?"نعم":"لا")}</span></div></div></div></div></div>`)):(a('<div class="text-center py-12">'),a(m(j,{name:"material-symbols:person-off",class:"h-16 w-16 text-gray-300 mx-auto mb-4"},null,t)),a('<h3 class="text-lg font-medium text-gray-900 mb-2">المستخدم غير موجود</h3><p class="text-gray-500 mb-6">لم يتم العثور على المستخدم المطلوب</p>'),a(m(k,{to:"/admin/users",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:o(((e,r,s,a)=>{if(!r)return[n(j,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),d(" العودة إلى قائمة المستخدمين ")];r(m(j,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"},null,s,a)),r(" العودة إلى قائمة المستخدمين ")})),_:1},t)),a("</div>")),a("</div>")}}}),A=w.setup;w.setup=(e,r)=>{const s=c();return(s.modules||(s.modules=new Set)).add("pages/admin/users/[id]/edit.vue"),A?A(e,r):void 0};export{w as default};
//# sourceMappingURL=edit.vue.mjs.map
