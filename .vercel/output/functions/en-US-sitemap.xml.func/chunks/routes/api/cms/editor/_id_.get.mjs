import{d as t,g as e,c as a}from"../../../../_/nitro.mjs";import{executeQuery as n}from"../../../../_/database.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"vue";import"@iconify/utils";import"node:crypto";import"consola";import"node:url";import"ipx";import"node:fs";import"node:path";import"mysql2/promise";import"bcryptjs";import"jsonwebtoken";const o=t((async t=>{try{const o=e(t,"id");if(!o)throw a({statusCode:400,statusMessage:"Page ID is required"});try{const t=await n("\n      SELECT \n        id, \n          title_ar,\n          title_en,\n          content_ar,\n          content_en,\n          type,\n        status,\n          url,\n          slug,\n          components,\n        created_at,\n        updated_at\n        FROM content_pages \n      WHERE id = ?\n      ",[o]);if(t&&t.length>0){const e=t[0];let a=[];try{e.components&&(a="string"==typeof e.components?JSON.parse(e.components):e.components)}catch(t){console.log("Error parsing components:",t),a=[]}return{success:!0,message:"Page retrieved successfully from database",page:{id:e.id,title:e.title_ar||e.title_en,title_ar:e.title_ar,title_en:e.title_en,content:e.content_ar||e.content_en,content_ar:e.content_ar,content_en:e.content_en,type:e.type||"page",status:e.status||"draft",url:e.url||`/${e.slug||""}`,slug:e.slug,created_at:e.created_at,updated_at:e.updated_at,components:a}}}}catch(t){console.log("Database page not available, using default page data...")}const s={1:{id:1,title_ar:"الصفحة الرئيسية",title_en:"Home Page",content_ar:"الصفحة الرئيسية لموقع وكالة السفر",content_en:"Main homepage of the travel agency website",type:"page",status:"published",url:"/",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},2:{id:2,title_ar:"الباقات السياحية",title_en:"Travel Packages",content_ar:"عرض جميع الباقات السياحية المتاحة",content_en:"View all available travel packages",type:"page",status:"published",url:"/packages/",created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString()},3:{id:3,title_ar:"باقة مخصصة",title_en:"Custom Package",content_ar:"إنشاء باقة سياحية مخصصة حسب احتياجاتك",content_en:"Create a custom travel package according to your needs",type:"page",status:"published",url:"/custom-package/",created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString()},4:{id:4,title_ar:"من نحن",title_en:"About Us",content_ar:"تعرف على وكالة السفر وخدماتنا",content_en:"Learn about our travel agency and services",type:"page",status:"published",url:"/about/",created_at:new Date(Date.now()-2592e5).toISOString(),updated_at:new Date(Date.now()-2592e5).toISOString()}}[o];if(s){let t=[];return"1"===o?t=[{type:"hero",props:{title:"مرحباً بك في Wonder Land",subtitle:"اكتشف أجمل الوجهات السياحية",backgroundImage:"/images/hero-bg.jpg",buttonText:"اكتشف الآن",buttonLink:"/packages"}},{type:"about",props:{title:"من نحن",content:"نحن وكالة سفر رائدة في المملكة العربية السعودية، نقدم أفضل خدمات السفر والسياحة لعملائنا الكرام.",image:"/images/about.jpg"}}]:"2"===o?t=[{type:"heading",props:{title:"الباقات السياحية",subtitle:"اكتشف أفضل العروض والرحلات"}},{type:"services",props:{title:"باقاتنا المميزة",services:[{title:"باقة دبي",description:"رحلة لمدة 3 أيام",price:"1500 ريال"},{title:"باقة تركيا",description:"رحلة لمدة 5 أيام",price:"2500 ريال"},{title:"باقة ماليزيا",description:"رحلة لمدة 7 أيام",price:"3500 ريال"}]}}]:"3"===o?t=[{type:"heading",props:{title:"باقة مخصصة",subtitle:"صمم رحلتك حسب احتياجاتك"}},{type:"contact",props:{title:"تواصل معنا",description:"أخبرنا عن رحلتك المثالية وسنساعدك في تصميمها"}}]:"4"===o&&(t=[{type:"heading",props:{title:"من نحن",subtitle:"تعرف على وكالة السفر وخدماتنا"}},{type:"about",props:{title:"قصتنا",content:"نحن وكالة سفر رائدة في المملكة العربية السعودية، نقدم أفضل خدمات السفر والسياحة لعملائنا الكرام. نسعى دائماً لتوفير تجارب سفر لا تُنسى.",image:"/images/about.jpg"}},{type:"testimonials",props:{title:"آراء عملائنا",testimonials:[{name:"أحمد محمد",text:"تجربة رائعة، شكراً لكم"},{name:"فاطمة علي",text:"خدمة ممتازة ورحلة لا تُنسى"}]}}]),{success:!0,message:"Page retrieved successfully from default data",page:{...s,title:s.title_ar||s.title_en,content:s.content_ar||s.content_en,components:t}}}throw a({statusCode:404,statusMessage:"Page not found"})}catch(t){if(console.error("Error fetching page for editor:",t),t.statusCode)throw t;throw a({statusCode:500,statusMessage:"Failed to fetch page data"})}}));export{o as default};
//# sourceMappingURL=_id_.get.mjs.map
