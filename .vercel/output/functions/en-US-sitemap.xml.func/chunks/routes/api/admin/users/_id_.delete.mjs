import{d as s,c as t,g as e}from"../../../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"vue";import"@iconify/utils";import"node:crypto";import"consola";import"node:url";import"ipx";import"node:fs";import"node:path";const o=s((async s=>{try{const o=await getServerSession(s);if(!o?.user?.role||!["admin"].includes(o.user.role))throw t({statusCode:403,statusMessage:"غير مصرح بالوصول - صلاحيات المدير مطلوبة"});const r=e(s,"id");if(!r)throw t({statusCode:400,statusMessage:"معرف المستخدم مطلوب"});if("1"===r)throw t({statusCode:400,statusMessage:"لا يمكن حذف المدير الرئيسي"});if(o.user.id?.toString()===r)throw t({statusCode:400,statusMessage:"لا يمكن حذف حسابك الخاص"});return console.log(`Deleting user with ID: ${r}`),{success:!0,message:"تم حذف المستخدم بنجاح"}}catch(s){return console.error("Error deleting user:",s),{success:!1,error:s.message||"فشل في حذف المستخدم"}}}));export{o as default};
//# sourceMappingURL=_id_.delete.mjs.map
