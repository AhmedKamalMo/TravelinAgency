import{d as e}from"../../_/nitro.mjs";import{executeQuery as t}from"../../_/database.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"vue";import"@iconify/utils";import"node:crypto";import"consola";import"node:url";import"ipx";import"node:fs";import"node:path";import"mysql2/promise";import"bcryptjs";import"jsonwebtoken";const a=e((async e=>{try{return{messages:(await t("\n      SELECT \n        id, \n        name,\n        email,\n        phone,\n        subject,\n        message,\n        type,\n        status,\n        source,\n        related_package_id,\n        related_destination_id,\n        ip_address,\n        user_agent,\n        created_at,\n        updated_at\n      FROM contact_messages \n      ORDER BY created_at DESC\n    ")).map((e=>({id:e.id,name:e.name,email:e.email,phone:e.phone,subject:e.subject,message:e.message,type:e.type||"general",status:e.status||"new",source:e.source||"website",related_package_id:e.related_package_id,related_destination_id:e.related_destination_id,is_read:"read"===e.status?1:0,created_at:e.created_at,updated_at:e.updated_at})))}}catch(e){return console.error("Error fetching contact messages:",e),{error:"Failed to fetch contact messages"}}}));export{a as default};
//# sourceMappingURL=contact-messages.mjs.map
