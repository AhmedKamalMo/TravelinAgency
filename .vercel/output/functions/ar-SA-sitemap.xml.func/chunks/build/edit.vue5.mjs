import{M as e}from"./nuxt-link.mjs";import{q as r}from"./index2.mjs";import{ref as t,computed as a,mergeProps as s,unref as i,withCtx as o,createVNode as l,createTextVNode as n,useSSRContext as d}from"vue";import{ssrRenderAttrs as c,ssrRenderComponent as m,ssrRenderAttr as u,ssrInterpolate as p,ssrIncludeBooleanAttr as b,ssrLooseContain as g,ssrLooseEqual as y}from"vue/server-renderer";import{y as f}from"./ImageUpload.vue.mjs";import{j as v,H as x}from"./server.mjs";import{w as h}from"./useNotifications.mjs";import"@iconify/utils/lib/css/icon";import"@iconify/vue";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"@iconify/utils";import"node:crypto";import"consola";import"node:url";import"ipx";import"node:fs";import"node:path";import"vue-router";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";const w={__name:"edit",__ssrInlineRender:!0,setup(d){const w=v().params.id,_=t(!0),$=t(!1),k=t(null),j=t({name_ar:"",name_en:"",description_ar:"",description_en:"",category:"international",image_url:"",active:!0,featured:!1}),R=e=>{const{showSuccess:r}=h();r("تم رفع الصورة","تم رفع الصورة بنجاح!")},L=e=>{const{showError:r}=h();r("خطأ في رفع الصورة",e.message||"حدث خطأ في رفع الصورة")};return x({title:a((()=>{var e;return`تحرير ${(null==(e=k.value)?void 0:e.name_ar)||"الوجهة"} - Wonder Land Admin`})),meta:[{name:"description",content:"تحرير معلومات الوجهة السياحية"},{name:"robots",content:"noindex, nofollow"}]}),(t,a,d,v)=>{const x=e,h=r;a(`<div${c(s({class:"space-y-6"},v))}><div class="h-16"></div><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between"><div><h1 class="text-2xl font-bold text-gray-900">تحرير الوجهة</h1><p class="mt-1 text-sm text-gray-600">تحرير معلومات الوجهة السياحية</p></div><div class="mt-4 sm:mt-0 flex space-x-3 space-x-reverse">`),a(m(x,{to:`/admin/destinations/${i(w)}`,class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:o(((e,r,t,a)=>{if(!r)return[l(h,{name:"material-symbols:visibility",class:"h-5 w-5 ml-2"}),n(" عرض ")];r(m(h,{name:"material-symbols:visibility",class:"h-5 w-5 ml-2"},null,t,a)),r(" عرض ")})),_:1},d)),a(m(x,{to:"/admin/destinations",class:"inline-flex items-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"},{default:o(((e,r,t,a)=>{if(!r)return[l(h,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),n(" العودة للقائمة ")];r(m(h,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"},null,t,a)),r(" العودة للقائمة ")})),_:1},d)),a("</div></div>"),i(_)?(a('<div class="flex justify-center items-center py-12">'),a(m(h,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"},null,d)),a('<span class="mr-3 text-gray-600">جارٍ تحميل بيانات الوجهة...</span></div>')):i(k)?(a(`<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><form class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="name_ar" class="block text-sm font-medium text-gray-700 mb-2"> الاسم بالعربية * </label><input id="name_ar"${u("value",i(j).name_ar)} type="text" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل اسم الوجهة بالعربية"></div><div><label for="name_en" class="block text-sm font-medium text-gray-700 mb-2"> الاسم بالإنجليزية * </label><input id="name_en"${u("value",i(j).name_en)} type="text" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter destination name in English"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="description_ar" class="block text-sm font-medium text-gray-700 mb-2"> الوصف بالعربية * </label><textarea id="description_ar" required rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل وصف الوجهة بالعربية">${p(i(j).description_ar)}</textarea></div><div><label for="description_en" class="block text-sm font-medium text-gray-700 mb-2"> الوصف بالإنجليزية * </label><textarea id="description_en" required rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter destination description in English">${p(i(j).description_en)}</textarea></div></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div><label for="category" class="block text-sm font-medium text-gray-700 mb-2"> نوع الوجهة * </label><select id="category" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="international"${b(Array.isArray(i(j).category)?g(i(j).category,"international"):y(i(j).category,"international"))?" selected":""}>عالمي</option><option value="saudi"${b(Array.isArray(i(j).category)?g(i(j).category,"saudi"):y(i(j).category,"saudi"))?" selected":""}>سعودي</option></select></div><div class="md:col-span-2"><label class="block text-sm font-medium text-gray-700 mb-2"> صورة الوجهة </label>`),a(m(f,{modelValue:i(j).image_url,"onUpdate:modelValue":e=>i(j).image_url=e,alt:"صورة الوجهة",onUploadComplete:R,onUploadError:L},null,d)),a(`<p class="mt-2 text-xs text-gray-500"> يمكنك رفع صورة JPG, PNG, JPEG بحجم أقصى 5MB </p></div><div><label for="active" class="block text-sm font-medium text-gray-700 mb-2"> حالة الوجهة </label><select id="active" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option${u("value",!0)}${b(Array.isArray(i(j).active)?g(i(j).active,!0):y(i(j).active,!0))?" selected":""}>نشط</option><option${u("value",!1)}${b(Array.isArray(i(j).active)?g(i(j).active,!1):y(i(j).active,!1))?" selected":""}>غير نشط</option></select></div></div><div class="flex items-center space-x-4 space-x-reverse"><label class="flex items-center"><input${b(Array.isArray(i(j).featured)?g(i(j).featured,null):i(j).featured)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><span class="mr-2 text-sm text-gray-700">وجهة مميزة</span></label></div><div class="flex items-center justify-end space-x-4 space-x-reverse pt-6 border-t border-gray-200">`),a(m(x,{to:"/admin/destinations",class:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},{default:o(((e,r,t,a)=>{if(!r)return[n(" إلغاء ")];r(" إلغاء ")})),_:1},d)),a(`<button type="submit"${b(i($))?" disabled":""} class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">`),i($)?a(m(h,{name:"material-symbols:progress-activity",class:"animate-spin h-5 w-5 ml-2"},null,d)):a("\x3c!----\x3e"),a(` ${p(i($)?"جاري الحفظ...":"حفظ التغييرات")}</button></div></form></div>`)):(a('<div class="text-center py-12">'),a(m(h,{name:"material-symbols:place",class:"h-16 w-16 text-gray-300 mx-auto mb-4"},null,d)),a('<h3 class="text-lg font-medium text-gray-900 mb-2">الوجهة غير موجودة</h3><p class="text-gray-500 mb-6">لم يتم العثور على الوجهة المطلوبة</p>'),a(m(x,{to:"/admin/destinations",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:o(((e,r,t,a)=>{if(!r)return[n(" العودة للقائمة ")];r(" العودة للقائمة ")})),_:1},d)),a("</div>")),a("</div>")}}},_=w.setup;w.setup=(e,r)=>{const t=d();return(t.modules||(t.modules=new Set)).add("pages/admin/destinations/[id]/edit.vue"),_?_(e,r):void 0};export{w as default};
//# sourceMappingURL=edit.vue5.mjs.map
