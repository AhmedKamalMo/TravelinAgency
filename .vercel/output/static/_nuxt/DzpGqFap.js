import C from"./CjUD-tqt.js";import{_ as U}from"./TxntYzv-.js";import{_ as V,h as u,I as h,l as L,J as N,n as m,K as T,c as x,o as c,a as e,b as a,i as j,f as g,j as w,v as A,u as o,L as B,t as v,k as I,d as M,e as D}from"./DHjegAIK.js";import{u as q}from"./DOtPdQ7M.js";const E={class:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4 relative overflow-hidden",dir:"rtl"},S={class:"max-w-md w-full space-y-8 relative z-10"},W={class:"bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20"},z={class:"text-center mb-8"},F={class:"mx-auto h-24 w-24 bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 rounded-2xl flex items-center justify-center mb-6 shadow-lg"},H={class:"relative group"},J=["disabled"],K={class:"relative group"},P=["type","disabled"],$=["disabled"],G={key:0,class:"bg-red-500/20 border border-red-500/30 rounded-xl p-4 backdrop-blur-sm"},O={class:"flex items-center"},Q={class:"text-sm text-red-200"},R=["disabled"],X={class:"text-lg"},Y={class:"mt-8 text-center"},Z={__name:"login",setup(ee){const r=u({email:"admin@wonderland.com",password:"admin123"}),i=u(!1),{user:d,login:y,loading:l,error:p}=h(),b=u(!1);L(async()=>{if(N("auth-token").value){const{checkAuth:t}=h();try{const s=await t(!0);if(s&&s.role&&["admin","super_admin","moderator"].includes(s.role)){console.log("User is already authenticated as admin, redirecting to dashboard"),await m("/admin/dashboard");return}}catch{console.log("User not authenticated, staying on login page")}}setTimeout(()=>{b.value=!0},500)}),T(()=>{b.value&&d.value&&d.value.role&&["admin","super_admin","moderator"].includes(d.value.role)&&(console.log("User state changed to admin after login, redirecting to dashboard"),m("/admin/dashboard"))});const _=async()=>{(await y(r.value.email,r.value.password)).success&&await m("/admin/dashboard")};return q({title:"تسجيل دخول الإدارة - Wonder Land",meta:[{name:"description",content:"صفحة تسجيل دخول لوحة تحكم الإدارة"},{name:"robots",content:"noindex, nofollow"}]}),(f,t)=>{const s=C,k=U;return c(),x("div",E,[t[9]||(t[9]=e("div",{class:"absolute inset-0 overflow-hidden"},[e("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),e("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),e("div",{class:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})],-1)),e("div",S,[e("div",W,[e("div",z,[e("div",F,[a(s,{name:"material-symbols:admin-panel-settings",class:"h-12 w-12 text-white"})]),t[3]||(t[3]=e("h2",{class:"text-3xl font-bold text-white mb-3 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent"}," لوحة تحكم الإدارة ",-1)),t[4]||(t[4]=e("p",{class:"text-gray-300 text-lg"}," تسجيل الدخول للوصول إلى لوحة التحكم ",-1))]),e("form",{onSubmit:j(_,["prevent"]),class:"space-y-6"},[e("div",null,[t[5]||(t[5]=e("label",{for:"email",class:"block text-sm font-medium text-white mb-3"}," البريد الإلكتروني ",-1)),e("div",H,[w(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=n=>o(r).email=n),type:"email",required:"",class:"w-full px-4 py-4 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent transition-all duration-300 pr-12 text-white placeholder-gray-300 backdrop-blur-sm",placeholder:"أدخل البريد الإلكتروني",disabled:o(l)},null,8,J),[[A,o(r).email]]),a(s,{name:"material-symbols:mail-outline",class:"absolute right-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-300 group-focus-within:text-purple-400 transition-colors"})])]),e("div",null,[t[6]||(t[6]=e("label",{for:"password",class:"block text-sm font-medium text-white mb-3"}," كلمة المرور ",-1)),e("div",K,[w(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=n=>o(r).password=n),type:o(i)?"text":"password",required:"",class:"w-full px-4 py-4 bg-white/10 border border-white/20 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-transparent transition-all duration-300 pr-12 pl-12 text-white placeholder-gray-300 backdrop-blur-sm",placeholder:"أدخل كلمة المرور",disabled:o(l)},null,8,P),[[B,o(r).password]]),a(s,{name:"material-symbols:lock-outline",class:"absolute right-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-300 group-focus-within:text-purple-400 transition-colors"}),e("button",{type:"button",onClick:t[2]||(t[2]=n=>i.value=!o(i)),class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-300 hover:text-white transition-colors",disabled:o(l)},[a(s,{name:o(i)?"material-symbols:visibility-off":"material-symbols:visibility",class:"h-5 w-5"},null,8,["name"])],8,$)])]),o(p)?(c(),x("div",G,[e("div",O,[a(s,{name:"material-symbols:error-outline",class:"h-5 w-5 text-red-300 ml-2"}),e("p",Q,v(o(p)),1)])])):g("",!0),e("button",{type:"submit",disabled:o(l),class:"w-full bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 text-white py-4 px-6 rounded-xl font-semibold hover:from-purple-600 hover:via-pink-600 hover:to-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-400 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-[1.02]"},[o(l)?(c(),I(s,{key:0,name:"material-symbols:progress-activity",class:"animate-spin h-5 w-5 ml-2"})):g("",!0),e("span",X,v(o(l)?"جارٍ تسجيل الدخول...":"تسجيل الدخول"),1)],8,R)],32),e("div",Y,[a(k,{to:"/",class:"inline-flex items-center text-sm text-white/80 hover:text-white transition-colors group"},{default:M(()=>[a(s,{name:"material-symbols:arrow-back",class:"h-4 w-4 ml-2 group-hover:transform group-hover:-translate-x-1 transition-transform"}),t[7]||(t[7]=D(" العودة إلى الموقع الرئيسي "))]),_:1})])]),t[8]||(t[8]=e("div",{class:"text-center"},[e("p",{class:"text-sm text-white/60"}," © 2025 Wonder Land Traveling Agency ")],-1))])])}}},re=V(Z,[["__scopeId","data-v-69adc654"]]);export{re as default};
