import k from"./CjUD-tqt.js";import{_ as S}from"./TxntYzv-.js";import{A as M,h as y,l as N,B as L,c as d,o as l,a as t,b as n,d as c,e as i,u as o,f as $,t as g,H as D,F as H,r as A,k as B,C as j,D as P}from"./DHjegAIK.js";import{u as T}from"./DOtPdQ7M.js";const V={class:"min-h-screen bg-gray-50"},F={class:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between"},I={class:"flex items-center space-x-4 space-x-reverse"},E={class:"flex items-center space-x-3 space-x-reverse"},W={key:0,class:"flex justify-center items-center py-12"},z={key:1,class:"max-w-6xl mx-auto p-6"},G={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},R={class:"flex items-center justify-between"},q={class:"text-2xl font-bold text-gray-900"},J={class:"text-sm text-gray-600 mt-1"},K={key:0,class:"text-sm text-gray-500 mt-1"},O=["href"],Q={class:"text-sm text-gray-500"},U={class:"space-y-6"},X={key:0},Y={class:"text-gray-500 text-sm mb-4 p-3 bg-green-50 rounded-lg"},Z={class:"border border-gray-200 rounded-lg p-4 bg-white"},ee={class:"text-xs text-gray-500 mb-2 font-mono bg-gray-100 px-2 py-1 rounded inline-block"},te={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},se={class:"prose max-w-none"},oe={class:"text-gray-500 text-sm mb-4 p-3 bg-blue-50 rounded-lg"},ne=["innerHTML"],ae={key:2,class:"text-center py-12 bg-white rounded-lg border-2 border-dashed border-gray-300"},re={class:"flex justify-center space-x-3 space-x-reverse"},le={key:2,class:"text-center py-12"},pe={__name:"[id]",setup(ie){const u=M().params.id,s=y(null),x=y(!0),b=async()=>{try{x.value=!0;const a=await $fetch(`/api/cms/editor/${u}`);a.success&&a.page?s.value=a.page:s.value=null}catch(a){console.error("Error loading page:",a),s.value=null}finally{x.value=!1}},f=()=>{b()},v=a=>({hero:"CMSHero",about:"CMSAbout",services:"CMSServices",testimonials:"CMSTestimonials",contact:"CMSContact",heading:"CMSHeading",paragraph:"CMSParagraph",image:"CMSImage",navigation:"CMSNavigation",footer:"CMSFooter"})[a]||"CMSGeneric",_=a=>new Date(a).toLocaleDateString("ar-SA"),h=a=>({published:"منشور",draft:"مسودة",archived:"مؤرشف"})[a]||a,w=a=>({published:"bg-green-100 text-green-800",draft:"bg-orange-100 text-orange-800",archived:"bg-gray-100 text-gray-800"})[a]||"bg-gray-100 text-gray-800";return N(()=>{b()}),T({title:L(()=>s.value?`معاينة ${s.value.title_ar||s.value.title} - Wonder Land Admin`:"معاينة الصفحة - Wonder Land Admin"),meta:[{name:"description",content:"معاينة الصفحة قبل النشر"},{name:"robots",content:"noindex, nofollow"}]}),(a,e)=>{const r=k,m=S;return l(),d("div",V,[e[17]||(e[17]=t("div",{class:"h-16"},null,-1)),t("div",F,[t("div",I,[n(m,{to:"/admin/content",class:"flex items-center text-gray-600 hover:text-gray-900"},{default:c(()=>[n(r,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),e[0]||(e[0]=i(" العودة للإدارة "))]),_:1}),e[1]||(e[1]=t("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e[2]||(e[2]=t("h1",{class:"text-lg font-semibold text-gray-900"},"معاينة الصفحة",-1))]),t("div",E,[n(m,{to:`/admin/content/editor?page=${o(u)}`,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center"},{default:c(()=>[n(r,{name:"material-symbols:design-services",class:"h-4 w-4 ml-2"}),e[3]||(e[3]=i(" محرر متقدم "))]),_:1},8,["to"]),n(m,{to:`/admin/content/${o(u)}/edit`,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center"},{default:c(()=>[n(r,{name:"material-symbols:edit",class:"h-4 w-4 ml-2"}),e[4]||(e[4]=i(" تحرير أساسي "))]),_:1},8,["to"]),t("button",{onClick:f,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center"},[n(r,{name:"material-symbols:refresh",class:"h-4 w-4 ml-2"}),e[5]||(e[5]=i(" تحديث "))])])]),o(x)?(l(),d("div",W,[n(r,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"}),e[6]||(e[6]=t("span",{class:"mr-3 text-gray-600"},"جارٍ تحميل الصفحة...",-1))])):o(s)?(l(),d("div",z,[t("div",G,[t("div",R,[t("div",null,[t("h1",q,g(o(s).title_ar||o(s).title_en||o(s).title),1),t("p",J,[e[7]||(e[7]=i(" الحالة: ")),t("span",{class:D([w(o(s).status),"px-2 py-1 text-xs font-medium rounded-full"])},g(h(o(s).status)),3)]),o(s).url?(l(),d("p",K,[e[8]||(e[8]=i(" الرابط: ")),t("a",{href:o(s).url,target:"_blank",class:"text-blue-600 hover:text-blue-800 font-mono"},g(o(s).url),9,O)])):$("",!0)]),t("div",Q," آخر تحديث: "+g(_(o(s).updated_at)),1)])]),t("div",U,[o(s).components&&o(s).components.length>0?(l(),d("div",X,[t("div",Y,[n(r,{name:"material-symbols:check-circle",class:"h-4 w-4 inline ml-1 text-green-600"}),i(" تم العثور على "+g(o(s).components.length)+" مكون في هذه الصفحة ",1)]),(l(!0),d(H,null,A(o(s).components,(p,C)=>(l(),d("div",{key:p.id||C,class:"mb-6"},[t("div",Z,[t("div",ee,g(p.type),1),(l(),B(P(v(p.type)),j({ref_for:!0},p.props,{class:p.classes}),null,16,["class"]))])]))),128))])):o(s).content_ar||o(s).content_en||o(s).content?(l(),d("div",te,[t("div",se,[t("div",oe,[n(r,{name:"material-symbols:info",class:"h-4 w-4 inline ml-1"}),e[9]||(e[9]=i(" هذه معاينة للمحتوى النصي. لتحرير المكونات المتقدمة، استخدم المحرر المتقدم. "))]),t("div",{innerHTML:o(s).content_ar||o(s).content_en||o(s).content},null,8,ne)])])):(l(),d("div",ae,[n(r,{name:"material-symbols:article",class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e[12]||(e[12]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"لا يوجد محتوى",-1)),e[13]||(e[13]=t("p",{class:"text-gray-500 mb-6"},"هذه الصفحة لا تحتوي على أي محتوى أو مكونات",-1)),t("div",re,[n(m,{to:`/admin/content/editor?page=${o(u)}`,class:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"},{default:c(()=>[n(r,{name:"material-symbols:design-services",class:"h-5 w-5 ml-2"}),e[10]||(e[10]=i(" محرر متقدم "))]),_:1},8,["to"]),n(m,{to:`/admin/content/${o(u)}/edit`,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:c(()=>[n(r,{name:"material-symbols:edit",class:"h-5 w-5 ml-2"}),e[11]||(e[11]=i(" تحرير أساسي "))]),_:1},8,["to"])])]))])])):(l(),d("div",le,[n(r,{name:"material-symbols:article",class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"الصفحة غير موجودة",-1)),e[16]||(e[16]=t("p",{class:"text-gray-500 mb-6"},"لم يتم العثور على الصفحة المطلوبة",-1)),n(m,{to:"/admin/content",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:c(()=>e[14]||(e[14]=[i(" العودة للقائمة ")])),_:1})]))])}}};export{pe as default};
