import q from"./BOaYbNxV.js";import{_ as B,S as O,a as R,b as U,c as z,d as D}from"./C8nSdJLz.js";import{_ as F,a as G,b as A}from"./DMjpGEEy.js";import{c as s,o as e,b as t,e as r,n as k,t as c,F as S,r as C,a as d,u as V,f as H,g as w,h as a,w as W,i as T,v as P,s as I,j as p,k as L,l as N,m as J}from"./DbWDakc_.js";import{u as K}from"./D6hYrwdZ.js";import{_ as Q}from"./BzZnr7Wd.js";import{u as X}from"./B8JiDYaF.js";import"./B_HSHqRL.js";import"./DbDmTxx0.js";import"./VRhtI0VV.js";import"./De1xOYBn.js";import"./DT7sJ5yo.js";import"./DjHjoP5o.js";import"./x_rD_Ya3.js";const Y={class:"container mx-auto px-4"},Z={class:"max-w-6xl mx-auto"},tt={key:0,class:"text-center mb-16"},et={key:1,class:"text-lg text-gray-600 max-w-2xl mx-auto"},st={key:1},ot={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},nt={class:"mb-6"},it={class:"text-gray-700 italic"},lt={class:"flex items-center"},rt={key:0,class:"ml-4"},at=["src","alt"],ct={key:0,class:"font-semibold text-gray-900"},dt={key:1,class:"text-sm text-gray-600"},ut={key:0,class:"mt-4"},mt={class:"flex items-center"},gt={__name:"CMSTestimonials",props:{section:{type:Object,required:!0,default:()=>({id:0,section_type:"testimonials",title:"",subtitle:"",background_color:"#f8fafc",text_color:"#000000",content_blocks:[]})}},setup(n){return(u,x)=>{const g=q;return e(),s("section",{class:"py-16 md:py-24",style:k({backgroundColor:n.section.background_color||"#f8fafc"})},[t("div",Y,[t("div",Z,[n.section.title||n.section.subtitle?(e(),s("div",tt,[n.section.title?(e(),s("h2",{key:0,class:"text-3xl md:text-4xl font-bold mb-4",style:k({color:n.section.text_color||"#1f2937"})},c(n.section.title),5)):r("",!0),n.section.subtitle?(e(),s("p",et,c(n.section.subtitle),1)):r("",!0)])):r("",!0),n.section.content_blocks&&n.section.content_blocks.length>0?(e(),s("div",st,[t("div",ot,[(e(!0),s(S,null,C(n.section.content_blocks,l=>{var o,f;return e(),s("div",{key:l.id,class:"bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-shadow"},[t("div",nt,[d(g,{name:"material-symbols:format-quote",class:"h-8 w-8 text-blue-600 mb-4"}),t("blockquote",it,' "'+c(l.content)+'" ',1)]),t("div",lt,[l.image_url?(e(),s("div",rt,[t("img",{src:l.image_url,alt:l.title||"Customer",class:"w-12 h-12 rounded-full object-cover"},null,8,at)])):r("",!0),t("div",null,[l.title?(e(),s("h4",ct,c(l.title),1)):r("",!0),(o=l.settings)!=null&&o.position?(e(),s("p",dt,c(l.settings.position),1)):r("",!0)])]),(f=l.settings)!=null&&f.rating?(e(),s("div",ut,[t("div",mt,[(e(),s(S,null,C(5,m=>t("div",{key:m,class:"text-yellow-400"},[d(g,{name:m<=l.settings.rating?"material-symbols:star":"material-symbols:star-border",class:"h-5 w-5"},null,8,["name"])])),64))])])):r("",!0)])}),128))])])):r("",!0)])])],4)}}},_t=()=>{const n=V("cms.siteSettings",()=>({})),u=V("cms.navigation",()=>({})),x=V("cms.currentPage",()=>null),g=async()=>{try{const _=await $fetch("/api/public/site-settings");return n.value=_.data.settings,_.data.settings}catch(_){return console.error("Error loading site settings:",_),{}}},l=async _=>{try{const y=_?`/api/public/navigation?menu_name=${_}`:"/api/public/navigation",v=await $fetch(y);return u.value=v.data.menus,v.data.menus}catch(y){return console.error("Error loading navigation:",y),{}}},o=async _=>{try{const y=await $fetch(`/api/public/pages/${_}`);return x.value=y.data,y.data}catch(y){return console.error("Error loading page:",y),null}},f=(_,y,v="")=>{var $;return(($=n.value[_])==null?void 0:$[y])||v},m=_=>u.value[_]||[],i=()=>x.value,h=_=>{var y;return(y=x.value)!=null&&y.sections?x.value.sections.find(v=>v.section_type===_):null},b=_=>{var y;return(y=x.value)!=null&&y.sections?x.value.sections.filter(v=>v.section_type===_):[]},M=(_,y)=>{var $;if(!(($=x.value)!=null&&$.sections))return[];const v=x.value.sections.find(E=>E.id===_);return v!=null&&v.content_blocks?y?v.content_blocks.filter(E=>E.block_type===y):v.content_blocks:[]},j=async()=>{await Promise.all([g(),l()])};return{siteSettings:H(n),navigation:H(u),currentPage:H(x),loadSiteSettings:g,loadNavigation:l,loadPage:o,getSetting:f,getMenu:m,getCurrentPage:i,getPageSection:h,getPageSections:b,getSectionBlocks:M,initializeCMS:j}},yt={class:"container mx-auto px-4"},xt={class:"max-w-6xl mx-auto"},ft={key:0,class:"text-center mb-16"},ht={key:1,class:"text-lg text-gray-600 max-w-2xl mx-auto"},bt={class:"grid grid-cols-1 lg:grid-cols-2 gap-12"},vt={class:"space-y-6"},pt={class:"flex items-start"},wt={class:"p-3 bg-blue-100 rounded-lg ml-4"},kt={class:"text-gray-600"},$t={class:"flex items-start"},St={class:"p-3 bg-green-100 rounded-lg ml-4"},Ct={class:"text-gray-600"},Mt={class:"flex items-start"},jt={class:"p-3 bg-purple-100 rounded-lg ml-4"},Tt={class:"text-gray-600"},Pt={class:"mt-8"},qt={class:"flex space-x-4 space-x-reverse"},Et=["href"],Vt=["href"],Ht=["href"],It={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Lt={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4"},Nt={class:"flex items-center gap-3"},Bt={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4"},Ot={class:"flex items-center gap-3"},Rt={class:"pt-2"},Ut=["disabled"],zt={__name:"CMSContact",props:{section:{type:Object,required:!0,default:()=>({id:0,section_type:"contact",title:"",subtitle:"",background_color:"#ffffff",text_color:"#000000"})}},setup(n){const{getSetting:u}=_t(),{playSuccessSound:x,playErrorSound:g}=K(),l=w({name:"",email:"",subject:"",message:""}),o=w(!1),f=async()=>{try{o.value=!0,(await $fetch("/api/contact-messages",{method:"POST",body:{name:l.value.name,email:l.value.email,phone:"",subject:l.value.subject,message:l.value.message,type:"general",source:"cms"}})).success?(showSuccess.value=!0,x(),l.value={name:"",email:"",subject:"",message:""}):(I.value=!0,g())}catch(m){console.error("Error submitting form:",m),g()}finally{o.value=!1}};return(m,i)=>{const h=q;return e(),s("section",{class:"py-16 md:py-24",style:k({backgroundColor:n.section.background_color||"#ffffff"})},[t("div",yt,[t("div",xt,[n.section.title||n.section.subtitle?(e(),s("div",ft,[n.section.title?(e(),s("h2",{key:0,class:"text-3xl md:text-4xl font-bold mb-4",style:k({color:n.section.text_color||"#1f2937"})},c(n.section.title),5)):r("",!0),n.section.subtitle?(e(),s("p",ht,c(n.section.subtitle),1)):r("",!0)])):r("",!0),t("div",bt,[t("div",null,[i[8]||(i[8]=t("h3",{class:"text-2xl font-semibold mb-8 text-gray-900"},"معلومات التواصل",-1)),t("div",vt,[t("div",pt,[t("div",wt,[d(h,{name:"material-symbols:location-on",class:"h-6 w-6 text-blue-600"})]),t("div",null,[i[4]||(i[4]=t("h4",{class:"font-semibold text-gray-900 mb-2"},"العنوان",-1)),t("p",kt,c(a(u)("contact","contact_address","الرياض، المملكة العربية السعودية")),1)])]),t("div",$t,[t("div",St,[d(h,{name:"material-symbols:phone",class:"h-6 w-6 text-green-600"})]),t("div",null,[i[5]||(i[5]=t("h4",{class:"font-semibold text-gray-900 mb-2"},"الهاتف",-1)),t("p",Ct,c(a(u)("contact","contact_phone","+966 50 123 4567")),1)])]),t("div",Mt,[t("div",jt,[d(h,{name:"material-symbols:email",class:"h-6 w-6 text-purple-600"})]),t("div",null,[i[6]||(i[6]=t("h4",{class:"font-semibold text-gray-900 mb-2"},"البريد الإلكتروني",-1)),t("p",Tt,c(a(u)("contact","contact_email","info@wonderland.com")),1)])])]),t("div",Pt,[i[7]||(i[7]=t("h4",{class:"font-semibold text-gray-900 mb-4"},"تابعنا على",-1)),t("div",qt,[a(u)("social","social_facebook")?(e(),s("a",{key:0,href:a(u)("social","social_facebook"),target:"_blank",class:"p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},[d(h,{name:"material-symbols:facebook",class:"h-6 w-6"})],8,Et)):r("",!0),a(u)("social","social_twitter")?(e(),s("a",{key:1,href:a(u)("social","social_twitter"),target:"_blank",class:"p-3 bg-blue-400 text-white rounded-lg hover:bg-blue-500 transition-colors"},[d(h,{name:"material-symbols:twitter",class:"h-6 w-6"})],8,Vt)):r("",!0),a(u)("social","social_instagram")?(e(),s("a",{key:2,href:a(u)("social","social_instagram"),target:"_blank",class:"p-3 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors"},[d(h,{name:"material-symbols:instagram",class:"h-6 w-6"})],8,Ht)):r("",!0)])])]),t("div",null,[i[15]||(i[15]=t("h3",{class:"text-2xl font-semibold mb-8 text-gray-900"},"أرسل لنا رسالة",-1)),t("form",{onSubmit:W(f,["prevent"]),class:"space-y-4"},[t("div",It,[t("div",null,[i[9]||(i[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"الاسم",-1)),T(t("input",{"onUpdate:modelValue":i[0]||(i[0]=b=>a(l).name=b),type:"text",required:"",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary transition-colors text-sm"},null,512),[[P,a(l).name]])]),t("div",null,[i[10]||(i[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"البريد الإلكتروني",-1)),T(t("input",{"onUpdate:modelValue":i[1]||(i[1]=b=>a(l).email=b),type:"email",required:"",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary transition-colors text-sm"},null,512),[[P,a(l).email]])])]),t("div",null,[i[11]||(i[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"الموضوع",-1)),T(t("input",{"onUpdate:modelValue":i[2]||(i[2]=b=>a(l).subject=b),type:"text",required:"",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary transition-colors text-sm"},null,512),[[P,a(l).subject]])]),t("div",null,[i[12]||(i[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"الرسالة",-1)),T(t("textarea",{"onUpdate:modelValue":i[3]||(i[3]=b=>a(l).message=b),rows:"4",required:"",class:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary transition-colors text-sm resize-none"},null,512),[[P,a(l).message]])]),m.showSuccess?(e(),s("div",Lt,[t("div",Nt,[d(h,{name:"material-symbols:check-circle",class:"h-6 w-6 text-green-600"}),i[13]||(i[13]=t("div",null,[t("h4",{class:"text-green-800 font-medium text-sm"},"تم الإرسال بنجاح!"),t("p",{class:"text-green-700 text-xs mt-1"},"شكراً لك! تم إرسال رسالتك وسنتواصل معك قريباً.")],-1))])])):r("",!0),("showError"in m?m.showError:a(I))?(e(),s("div",Bt,[t("div",Ot,[d(h,{name:"material-symbols:error",class:"h-6 w-6 text-red-600"}),i[14]||(i[14]=t("div",null,[t("h4",{class:"text-red-800 font-medium text-sm"},"حدث خطأ"),t("p",{class:"text-red-700 text-xs mt-1"},"عذراً، حدث خطأ في إرسال الرسالة. يرجى المحاولة مرة أخرى.")],-1))])])):r("",!0),t("div",Rt,[t("button",{type:"submit",disabled:a(o),class:"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 px-6 rounded-lg hover:from-primary-dark hover:to-primary transition-all duration-200 disabled:opacity-50 flex items-center justify-center gap-2"},[a(o)?(e(),p(h,{key:0,name:"material-symbols:refresh",class:"h-4 w-4 animate-spin"})):r("",!0),t("span",null,c(a(o)?"جاري الإرسال...":"إرسال الرسالة"),1)],8,Ut)])],32)])])])])],4)}}},Dt={class:"container mx-auto px-4"},Ft={class:"max-w-6xl mx-auto"},Gt={key:0,class:"text-center mb-16"},At={key:1,class:"text-lg text-gray-600 max-w-2xl mx-auto"},Wt={key:1,class:"mb-12"},Jt=["innerHTML"],Kt={key:2},Qt={class:"space-y-8"},Xt={key:0,class:"bg-white rounded-xl p-8 shadow-lg"},Yt={key:0,class:"text-2xl font-semibold mb-4 text-gray-900"},Zt=["innerHTML"],te={key:1,class:"text-center"},ee=["src","alt"],se={key:0,class:"mt-4"},oe={class:"text-gray-600 italic"},ne={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ie=["src","alt"],le={key:0,class:"p-4"},re={class:"text-gray-600 text-sm"},ae={key:3,class:"text-center"},ce={class:"relative aspect-video max-w-4xl mx-auto rounded-xl overflow-hidden shadow-lg"},de=["src"],ue={key:0,class:"mt-4"},me={class:"text-gray-600"},ge={key:4,class:"text-center"},_e={key:5,class:"bg-white rounded-xl p-8 shadow-lg"},ye={key:0,class:"mb-6"},xe=["src","alt"],fe={key:1,class:"text-xl font-semibold mb-4 text-gray-900"},he=["innerHTML"],be={key:3,class:"text-center"},ve={key:6,class:"bg-gray-50 rounded-xl p-8 text-center"},pe={class:"text-xl italic text-gray-700 mb-4"},we={key:0,class:"text-gray-600 font-medium"},ke={__name:"CMSGeneric",props:{section:{type:Object,required:!0,default:()=>({id:0,section_type:"generic",title:"",subtitle:"",content:"",background_color:"#ffffff",text_color:"#000000",content_blocks:[]})}},setup(n){return(u,x)=>{const g=q,l=Q;return e(),s("section",{class:"py-16 md:py-24",style:k({backgroundColor:n.section.background_color||"#ffffff"})},[t("div",Dt,[t("div",Ft,[n.section.title||n.section.subtitle?(e(),s("div",Gt,[n.section.title?(e(),s("h2",{key:0,class:"text-3xl md:text-4xl font-bold mb-4",style:k({color:n.section.text_color||"#1f2937"})},c(n.section.title),5)):r("",!0),n.section.subtitle?(e(),s("p",At,c(n.section.subtitle),1)):r("",!0)])):r("",!0),n.section.content?(e(),s("div",Wt,[t("div",{class:"prose prose-lg max-w-none",style:k({color:n.section.text_color||"#374151"}),innerHTML:n.section.content},null,12,Jt)])):r("",!0),n.section.content_blocks&&n.section.content_blocks.length>0?(e(),s("div",Kt,[t("div",Qt,[(e(!0),s(S,null,C(n.section.content_blocks,o=>{var f;return e(),s("div",{key:o.id},[o.block_type==="text"?(e(),s("div",Xt,[o.title?(e(),s("h3",Yt,c(o.title),1)):r("",!0),o.content?(e(),s("div",{key:1,class:"prose prose-lg max-w-none text-gray-600",innerHTML:o.content},null,8,Zt)):r("",!0)])):o.block_type==="image"?(e(),s("div",te,[t("img",{src:o.image_url,alt:o.title||"Image",class:"w-full max-w-4xl mx-auto rounded-xl shadow-lg"},null,8,ee),o.content?(e(),s("div",se,[t("p",oe,c(o.content),1)])):r("",!0)])):o.block_type==="gallery"?(e(),s("div",ne,[(e(!0),s(S,null,C(((f=o.settings)==null?void 0:f.images)||[],(m,i)=>(e(),s("div",{key:i,class:"rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow"},[t("img",{src:m.url,alt:m.alt||`Gallery Image ${i+1}`,class:"w-full h-64 object-cover"},null,8,ie),m.caption?(e(),s("div",le,[t("p",re,c(m.caption),1)])):r("",!0)]))),128))])):o.block_type==="video"?(e(),s("div",ae,[t("div",ce,[t("iframe",{src:o.video_url,class:"absolute inset-0 w-full h-full",frameborder:"0",allowfullscreen:""},null,8,de)]),o.content?(e(),s("div",ue,[t("p",me,c(o.content),1)])):r("",!0)])):o.block_type==="button"?(e(),s("div",ge,[o.link_url?(e(),p(l,{key:0,to:o.link_url,class:"inline-flex items-center px-8 py-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors"},{default:L(()=>[N(c(o.link_text||"اكتشف المزيد")+" ",1),d(g,{name:"material-symbols:arrow-forward",class:"h-5 w-5 mr-2"})]),_:2},1032,["to"])):r("",!0)])):o.block_type==="card"?(e(),s("div",_e,[o.image_url?(e(),s("div",ye,[t("img",{src:o.image_url,alt:o.title||"Card Image",class:"w-full h-48 object-cover rounded-lg"},null,8,xe)])):r("",!0),o.title?(e(),s("h3",fe,c(o.title),1)):r("",!0),o.content?(e(),s("div",{key:2,class:"text-gray-600 mb-6",innerHTML:o.content},null,8,he)):r("",!0),o.link_url?(e(),s("div",be,[d(l,{to:o.link_url,class:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium"},{default:L(()=>[N(c(o.link_text||"اقرأ المزيد")+" ",1),d(g,{name:"material-symbols:arrow-forward",class:"h-4 w-4 mr-1"})]),_:2},1032,["to"])])):r("",!0)])):o.block_type==="quote"?(e(),s("div",ve,[t("blockquote",pe,' "'+c(o.content)+'" ',1),o.title?(e(),s("cite",we," — "+c(o.title),1)):r("",!0)])):r("",!0)])}),128))])])):r("",!0)])])],4)}}},$e={__name:"CMSRenderer",props:{section:{type:Object,required:!0,default:()=>({id:0,section_type:"generic",title:"",subtitle:"",content:"",background_color:"#ffffff",background_image:"",text_color:"#000000",order_index:0,is_active:!0,settings:{},content_blocks:[]})}},setup(n){return(u,x)=>{const g=F,l=G,o=A,f=gt,m=zt,i=ke;return e(),s("div",null,[n.section.section_type==="hero"?(e(),p(g,{key:0,section:n.section},null,8,["section"])):n.section.section_type==="about"?(e(),p(l,{key:1,section:n.section},null,8,["section"])):n.section.section_type==="services"?(e(),p(o,{key:2,section:n.section},null,8,["section"])):n.section.section_type==="testimonials"?(e(),p(f,{key:3,section:n.section},null,8,["section"])):n.section.section_type==="contact"?(e(),p(m,{key:4,section:n.section},null,8,["section"])):(e(),p(i,{key:5,section:n.section},null,8,["section"]))])}}},Se={key:0,class:"min-h-screen flex items-center justify-center"},Ce={class:"text-center"},Me={key:1,class:"min-h-screen flex items-center justify-center"},je={class:"text-center"},Te={key:2},Pe={key:3},Ge={__name:"index",setup(n){const u=w(!0),x=w(!1),g=w([]),l=w(null),o=w(null),f=async()=>{try{u.value=!0,x.value=!1,g.value=[]}catch(h){console.error("Error loading homepage content:",h),x.value=!0,g.value=[]}finally{u.value=!1}},m=()=>{l.value&&l.value.$el.scrollIntoView({behavior:"smooth"})},i=()=>{o.value&&o.value.$el.scrollIntoView({behavior:"smooth"})};return J(()=>{f()}),X({title:"Wonder Land - وكالة السفر الرائدة",meta:[{name:"description",content:"وكالة السفر الرائدة في المملكة العربية السعودية. اكتشف أفضل الوجهات السياحية معنا."}]}),(h,b)=>{const M=q;return e(),s("div",null,[a(u)?(e(),s("div",Se,[t("div",Ce,[d(M,{name:"material-symbols:refresh",class:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),b[0]||(b[0]=t("p",{class:"text-gray-600"},"جاري تحميل المحتوى...",-1))])])):a(x)?(e(),s("div",Me,[t("div",je,[d(M,{name:"material-symbols:error",class:"h-12 w-12 text-red-600 mx-auto mb-4"}),b[1]||(b[1]=t("p",{class:"text-gray-600 mb-4"},"حدث خطأ في تحميل المحتوى",-1)),t("button",{onClick:f,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"}," إعادة المحاولة ")])])):a(g)&&a(g).length>0?(e(),s("div",Te,[(e(!0),s(S,null,C(a(g),j=>(e(),p($e,{key:j.id,section:j},null,8,["section"]))),128))])):(e(),s("div",Pe,[d(B,{onScrollToPackages:i,onScrollToSearch:m}),d(O,{ref_key:"searchSectionRef",ref:l},null,512),d(R),d(U,{ref_key:"packagesSectionRef",ref:o},null,512),d(z),d(D)]))])}}};export{Ge as default};
