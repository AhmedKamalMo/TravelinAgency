import{_ as j}from"./B7qqbIXs.js";import{_ as U}from"./TxntYzv-.js";import{m as H,z,y as R,aC as K,B as b,l as A,h as S,c as r,o as n,a as t,b as l,u as g,d as T,t as a,F as y,r as k,e as C,_ as Y,aI as Z,M as O,j as X,k as P,H as W,aH as B,i as G,aJ as Q,X as tt,aD as et}from"./DHjegAIK.js";import q from"./CjUD-tqt.js";import{u as J}from"./C1aPWZwM.js";const st={class:"bg-gray-900 text-gray-300 py-16 px-4 sm:px-6 lg:px-8"},ot={class:"container mx-auto"},at={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 lg:gap-8"},nt={class:"space-y-6"},rt={class:"text-white font-semibold text-xl"},it={class:"text-gray-400 text-sm"},lt={class:"space-y-3"},ct={class:"text-lg font-semibold text-white mb-3"},dt=["href"],ut={dir:"ltr",class:"inline-block ltr:text-left rtl:text-right"},mt=["href"],pt={dir:"ltr",class:"inline-block ltr:text-left rtl:text-right"},ht={class:"space-y-4"},gt={class:"text-lg font-semibold text-white mb-4"},_t={class:"space-y-2 text-sm"},ft={class:"text-gray-400"},yt={class:"space-y-4"},vt={class:"text-lg font-semibold text-white mb-4"},xt={class:"flex space-x-4 rtl:space-x-reverse"},wt=["href","aria-label"],kt={class:"space-y-4"},bt={class:"text-lg font-semibold text-white"},$t={class:"space-y-2"},Lt={class:"text-center text-sm text-gray-500 mt-16 border-t border-gray-700 pt-8"},St=H({__name:"AppFooter",setup(v){const{t:f}=z(),c=R(),{getWhatsAppUrl:d,whatsappNumber:u}=J(),{getSetting:i}=K(),x=b(()=>i("site_logo")||"/images/home/logo/WonderlandLogoWhite.svg"),w=b(()=>i("site_name_ar")||i("site_name_en")||"Wonder Land");A(()=>{window.addEventListener("settings-updated",async()=>{try{const{loadSettings:o}=K();await o(!0)}catch(o){console.error("Failed to refresh site settings in footer:",o)}})});const m=b(()=>new Date().getFullYear()),$=[{name:"mdi:whatsapp",href:d(),label:"WhatsApp"},{name:"ic:outline-snapchat",href:"https://www.snapchat.com/add/ahmed18311",label:"Snapchat"},{name:"mdi:instagram",href:"https://www.instagram.com/wonderland.sa.jed?igsh=Nnk3cmV6NDdibTJ2&utm_source=qr",label:"Instagram"},{name:"ic:outline-tiktok",href:"https://www.tiktok.com/@wonder.land.sa?_t=ZS-8uH9ccxyZlN&_r=1",label:"TikTok"}],N=[{icon:"mdi:phone",textKey:"footer.phone",detail:u},{icon:"mdi:email",textKey:"footer.email",detail:"ahmed@wonderland1.com"},{icon:"mdi:whatsapp",textKey:"footer.whatsapp",detail:u}],I=[{key:"footer.license",value:"73105863"},{key:"footer.registration",value:"7043491153"}],E=S([{nameKey:"footer.destinations.riyadh",link:"/destinations/riyadh"},{nameKey:"footer.destinations.red_sea",link:"/destinations/red-sea"},{nameKey:"footer.destinations.alula",link:"/destinations/alula/"}]);return(o,D)=>{const M=j,L=U,e=q;return n(),r("footer",st,[t("div",ot,[t("div",at,[t("div",nt,[l(L,{to:g(c)("/"),class:"inline-flex items-center space-x-3 rtl:space-x-reverse"},{default:T(()=>[l(M,{src:x.value,alt:w.value+" Logo",class:"h-10",loading:"eager"},null,8,["src","alt"]),t("span",rt,a(w.value),1)]),_:1},8,["to"]),t("p",it,a(o.$t("footer.tagline")),1),t("div",lt,[t("h4",ct,a(o.$t("footer.contact_us")),1),(n(),r(y,null,k(N,(s,p)=>(n(),r(y,{key:p},[s.icon==="mdi:whatsapp"?(n(),r("a",{key:0,href:g(d)(),target:"_blank",rel:"noopener noreferrer",class:"flex items-center space-x-3 text-sm text-gray-400 hover:text-primary-400 transition-colors py-1"},[l(e,{name:s.icon,class:"text-xl text-primary-500 flex-shrink-0"},null,8,["name"]),t("span",null,[C(a(o.$t(s.textKey))+": ",1),t("span",ut,a(s.detail),1)])],8,dt)):(n(),r("a",{key:1,href:s.icon==="mdi:email"?`mailto:${s.detail}`:`tel:${s.detail}`,class:"flex items-center space-x-3 text-sm text-gray-400 hover:text-primary-400 transition-colors py-1"},[l(e,{name:s.icon,class:"text-xl text-primary-500 flex-shrink-0"},null,8,["name"]),t("span",null,[C(a(o.$t(s.textKey))+": ",1),t("span",pt,a(s.detail),1)])],8,mt))],64))),64))])]),t("div",ht,[t("h4",gt,a(o.$t("footer.certifications")),1),t("ul",_t,[(n(),r(y,null,k(I,s=>t("li",{key:s.key},[t("span",ft,a(o.$t(s.key))+" "+a(s.value),1)])),64))])]),t("div",yt,[t("h4",vt,a(o.$t("footer.connect")),1),t("div",xt,[(n(),r(y,null,k($,s=>t("a",{key:s.name,href:s.href,target:"_blank",rel:"noopener noreferrer",class:"text-gray-400 hover:text-primary-400 transition-colors flex items-center justify-center","aria-label":s.label},[l(e,{name:s.name,class:"text-2xl flex-shrink-0"},null,8,["name"])],8,wt)),64))])]),t("div",kt,[t("h4",bt,a(o.$t("footer.featured_destinations")),1),t("ul",$t,[(n(!0),r(y,null,k(E.value,(s,p)=>(n(),r("li",{key:`dest-${p}`,class:"group"},[l(L,{to:g(c)(s.link),class:"text-sm text-gray-400 hover:text-primary-400 transition-colors flex items-center space-x-2 rtl:space-x-reverse"},{default:T(()=>[l(e,{name:"mdi:map-marker",class:"text-primary-500 group-hover:text-primary-400 transition-colors flex-shrink-0"}),t("span",null,a(o.$t(s.nameKey)),1)]),_:2},1032,["to"])]))),128))])])]),t("div",Lt,a(o.$t("footer.copyright",{year:m.value})),1)])])}}}),Tt=Y(St,[["__scopeId","data-v-2dd516d3"]]),Et={class:"fixed bottom-6 right-6 flex flex-col gap-4 z-50"},At=["href","aria-label"],Ct={class:"sr-only"},Nt={__name:"FloatingButtons",setup(v){const{getWhatsAppUrl:f}=J();return(c,d)=>{const u=q;return n(),r("div",Et,[t("a",{href:g(f)(),target:"_blank",rel:"noopener noreferrer",class:"bg-[#25D366] hover:bg-[#20BD5A] text-white p-4 rounded-full shadow-elevation-2 transition-all duration-300 hover:scale-110 group flex items-center justify-center","aria-label":c.$t("buttons.whatsapp")},[l(u,{name:"mdi:whatsapp",class:"h-6 w-6 m-auto"}),t("span",Ct,a(c.$t("buttons.whatsapp")),1)],8,At)])}}},It=()=>{const v=typeof document<"u"&&"startViewTransition"in document;return{startViewTransition:async(d,u="forward",i={})=>{if(!v){await d();return}if(document.documentElement.setAttribute("data-direction",u),i.isLocaleChange){document.documentElement.classList.add("locale-transitioning");try{await d()}finally{setTimeout(()=>{document.documentElement.classList.remove("locale-transitioning")},300)}return}return document.startViewTransition(async()=>{await d(),i.isLocaleChange||window.scrollTo({top:0,behavior:"smooth"})})},startLocaleTransition:async(d,u,i)=>{const w=u==="en-US"&&i==="ar-SA"?"ltr-to-rtl":"rtl-to-ltr";if(document.documentElement.setAttribute("data-locale-transition",w),document.documentElement.classList.add("locale-transitioning"),await new Promise(m=>setTimeout(m,10)),v)try{return document.startViewTransition(async()=>{try{await d(),await new Promise(m=>setTimeout(m,30))}catch(m){console.error("Error during locale transition:",m)}})}finally{setTimeout(()=>{document.documentElement.classList.remove("locale-transitioning"),document.documentElement.removeAttribute("data-locale-transition")},500)}else try{await d()}finally{setTimeout(()=>{document.documentElement.classList.remove("locale-transitioning"),document.documentElement.removeAttribute("data-locale-transition")},500)}},isSupported:v}},Dt={class:"bg-white shadow-sm sticky top-0 z-50"},Mt={class:"container mx-auto px-4 py-4 sticky top-0"},Vt={class:"flex items-center justify-between"},Ft={class:"font-bold text-lg font-italic text-primary-900"},Kt={class:"hidden md:flex items-center space-x-6 rtl:space-x-reverse"},Pt={class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Wt={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},Bt={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},jt={class:"md:hidden mt-4 space-y-4"},Yt=H({__name:"default",setup(v){const{locale:f}=z(),c=R(),d=Z(),u=b(()=>f.value),i=S(!1),x=S(!1),{startLocaleTransition:w}=It(),{loadSettings:m,getSetting:$,settings:N}=K();S({});const I=b(()=>{const e=$("site_logo");return console.log("Current site logo:",e),e||"/images/home/logo/WonderlandLogo.svg"}),E=b(()=>{const e=$("site_name_ar")||$("site_name_en");return console.log("Current site name:",e),e||"Wonder Land"});A(async()=>{try{console.log("Loading settings in layout..."),await m(!0),console.log("Settings loaded in layout:",N.value)}catch(e){console.error("Failed to load site settings:",e)}}),A(()=>{window.addEventListener("settings-updated",async()=>{try{console.log("Settings update event received in layout"),await m(!0),console.log("Settings refreshed in layout")}catch(e){console.error("Failed to refresh site settings:",e)}}),window.addEventListener("storage",e=>{e.key==="settings-updated"&&(console.log("Settings storage event received in layout"),m(!0))})});const o=S([]),D=[{to:"/",label:"nav.home",id:1},{to:"/packages",label:"nav.packages",id:2},{to:"/custom-package",label:"nav.custom_package",id:3},{to:"/about",label:"nav.about",id:4}],M=async()=>{try{const e=await $fetch("/api/public/navigation");if(e.success&&e.data&&e.data.menus&&e.data.menus.main){const s=e.data.menus.main.filter(h=>h.page_status==="published"),p=new Map;s.forEach(h=>{p.has(h.url)||p.set(h.url,{to:h.url,label:`nav.${h.page_slug||"home"}`,id:h.page_id})}),o.value=Array.from(p.values())}else o.value=D}catch(e){console.warn("Could not load navigation from API, using default:",e),o.value=D}};A(()=>{M()});const L=async()=>{if(x.value)return;x.value=!0;const e=f.value,s=e==="ar-SA"?"en-US":"ar-SA";try{await w(async()=>{f.value=s,await et();{const p=d(s);window.history.replaceState(null,"",p)}},e,s)}finally{x.value=!1}};return(e,s)=>{const p=O("DirectionHandler"),h=j,V=U;return n(),r("div",null,[l(p),t("header",Dt,[t("nav",Mt,[t("div",Vt,[l(V,{to:g(c)("/"),class:"flex items-center"},{default:T(()=>[l(h,{src:I.value,class:"h-[48px]",alt:E.value+" Logo",loading:"eager"},null,8,["src","alt"]),t("span",Ft,a(E.value),1)]),_:1},8,["to"]),t("div",Kt,[(n(!0),r(y,null,k(o.value,(_,F)=>(n(),P(V,{key:F,to:g(c)(_.to),class:W(["transition-colors",(e._.provides[B]||e.$route).path==g(c)(_.to)?"text-primary-900 font-medium":"text-gray-600 hover:text-primary"])},{default:T(()=>[C(a(e.$t(_.label)),1)]),_:2},1032,["to","class"]))),128)),t("button",{onClick:G(L,["prevent","stop"]),class:"px-3 py-1 rounded-md bg-primary text-white hover:bg-primary-dark transition-colors"},a(u.value==="en-US"?"العربية":"English"),1)]),t("button",{onClick:s[0]||(s[0]=_=>i.value=!i.value),class:"md:hidden text-gray-600 hover:text-primary"},[s[2]||(s[2]=t("span",{class:"sr-only"},"Menu",-1)),(n(),r("svg",Pt,[i.value?(n(),r("path",Bt)):(n(),r("path",Wt))]))])]),X(t("div",jt,[(n(!0),r(y,null,k(o.value,(_,F)=>(n(),P(V,{key:F,to:g(c)(_.to),class:W(["block transition-colors",(e._.provides[B]||e.$route).path==g(c)(_.to)?"text-primary-900 font-medium":"text-gray-600 hover:text-primary"]),onClick:s[1]||(s[1]=Ut=>i.value=!1)},{default:T(()=>[C(a(e.$t(_.label)),1)]),_:2},1032,["to","class"]))),128)),t("button",{onClick:L,class:"w-full text-left px-3 py-1 rounded-md bg-primary text-white hover:bg-primary-dark transition-colors"},a(u.value==="en-US"?"العربية":"English"),1)],512),[[Q,i.value]])])]),t("main",null,[tt(e.$slots,"default")]),l(Tt),l(Nt)])}}});export{Yt as default};
