import{_ as B}from"./TxntYzv-.js";import{_ as D}from"./B7qqbIXs.js";import{m as T,z,M as E,c as n,o as c,a as e,t,u as l,f as L,b as i,d as $,F as N,r as V,N as F,O as R,h as w,P as W,l as M,B as _,e as I,g as P}from"./DHjegAIK.js";import U from"./CjUD-tqt.js";import{_ as q}from"./Dbs3IMdZ.js";import{u as H}from"./C1aPWZwM.js";import{_ as O}from"./DiMogpge.js";import{u as G}from"./DOtPdQ7M.js";import"./D6hYrwdZ.js";const J={class:"mx-auto max-w-4xl"},K={class:"mb-12"},Q={class:"text-2xl font-bold mb-6"},X={class:"mb-4 text-4xl font-bold"},Y={class:"mb-8 text-lg text-gray-700"},Z={class:"mb-12"},ee={class:"text-2xl font-bold mb-6"},te={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ae={class:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl"},se={class:"font-medium"},oe={class:"text-gray-700"},le={key:0,class:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl"},ne={class:"font-medium"},ce={class:"text-gray-700"},ie={key:1,class:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl"},re={class:"font-medium"},de={class:"flex items-center gap-2 mt-1"},me={class:"text-gray-700"},pe={class:"text-base text-gray-700 font-normal"},ge={class:"bg-gray-900 text-white text-xs px-3 py-2 rounded-lg shadow-lg max-w-xs text-center"},ue={class:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl"},_e={class:"font-medium"},he={class:"text-gray-700"},xe={class:"mb-12"},ve={class:"text-2xl font-bold mb-6"},fe={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ye={class:"font-medium"},ke={key:1,class:"text-gray-500 text-center py-8"},be={class:"mb-12"},we={class:"text-2xl font-bold mb-6"},$e={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ne={class:"font-medium"},Ve={key:1,class:"text-gray-500 text-center py-8"},Ce={class:"mb-12"},Se={class:"text-2xl font-bold mb-6"},Ae={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},je={class:"font-medium"},Le={key:1,class:"text-gray-500 text-center py-8"},Ie={class:"bg-primary/5 rounded-2xl p-6 md:p-8 mb-12"},Pe={class:"flex flex-col md:flex-row items-center gap-6 md:gap-8"},Te={class:"flex-1"},ze={class:"text-2xl font-bold mb-3 md:mb-4"},Be={class:"text-gray-600 mb-6"},De={class:"flex flex-col sm:flex-row gap-4"},Ee=["href"],Fe=T({__name:"PackageDetails",props:["package_"],emits:["contact"],setup(o){const y=o,{t:r,locale:p}=z(),{getWhatsAppUrl:h}=H();return(s,g)=>{var a,m,x,b,v,C,S,A,j;const d=U,k=E("VTooltip");return c(),n("div",J,[e("div",K,[e("h2",Q,t(l(r)("packages.details.overview")),1),e("h1",X,t(l(p)==="ar-SA"?o.package_.title_ar:o.package_.title_en),1),e("p",Y,t(l(p)==="ar-SA"?o.package_.description_ar:o.package_.description_en),1)]),e("div",Z,[e("h2",ee,t(l(r)("packages.details.package_info")),1),e("div",te,[e("div",ae,[i(d,{name:"material-symbols:schedule-outline",class:"h-6 w-6 text-primary"}),e("div",null,[e("div",se,t(l(r)("packages.details.duration")),1),e("div",oe,t(l(r)("packages.details.duration",{count:(a=o.package_)==null?void 0:a.duration_days})),1)])]),(m=o.package_)!=null&&m.travel_period?(c(),n("div",le,[i(d,{name:"material-symbols:date-range-outline",class:"h-6 w-6 text-primary"}),e("div",null,[e("div",ne,t(l(r)("packages.details.travel_period")),1),e("div",ce,t((x=o.package_)==null?void 0:x.travel_period),1)])])):L("",!0),(b=o.package_)!=null&&b.price?(c(),n("div",ie,[i(q,{size:24,class:"text-primary"}),e("div",null,[e("div",re,t(s.$t("packages.details.price")),1),e("div",de,[e("span",me,t((v=o.package_)==null?void 0:v.price.toLocaleString()),1),e("span",pe,t(s.$t("packages.details.per_person")),1),i(k,{triggers:["hover","focus"],placement:"top"},{popper:$(()=>[e("div",ge,t(s.$t("packages.details.price_info_tooltip")),1)]),default:$(()=>[i(d,{name:"material-symbols:info-outline",class:"w-5 h-5 text-gray-400 cursor-pointer"})]),_:1})])])])):L("",!0),e("div",ue,[i(d,{name:"material-symbols:group-outline",class:"h-6 w-6 text-primary"}),e("div",null,[e("div",_e,t(l(r)("packages.details.travelers")),1),e("div",he,t(l(r)("packages.details.max_persons_qty",{count:(C=o.package_)==null?void 0:C.max_persons})),1)])])])]),e("div",xe,[e("h2",ve,t(l(r)("packages.details.included_services")),1),(S=o.package_)!=null&&S.included&&o.package_.included.length>0?(c(),n("div",fe,[(c(!0),n(N,null,V(o.package_.included,(u,f)=>(c(),n("div",{key:f,class:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl"},[i(d,{name:"material-symbols:check-circle",class:"h-6 w-6 text-green-500"}),e("span",ye,t(u),1)]))),128))])):(c(),n("div",ke,[i(d,{name:"material-symbols:info-outline",class:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e("p",null,t(l(r)("packages.details.no_included_services")),1)]))]),e("div",be,[e("h2",we,t(l(r)("packages.details.excluded_services")),1),(A=o.package_)!=null&&A.excluded&&o.package_.excluded.length>0?(c(),n("div",$e,[(c(!0),n(N,null,V(o.package_.excluded,(u,f)=>(c(),n("div",{key:f,class:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl"},[i(d,{name:"material-symbols:cancel",class:"h-6 w-6 text-red-500"}),e("span",Ne,t(u),1)]))),128))])):(c(),n("div",Ve,[i(d,{name:"material-symbols:info-outline",class:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e("p",null,t(l(r)("packages.details.no_excluded_services")),1)]))]),e("div",Ce,[e("h2",Se,t(l(r)("packages.details.features")),1),(j=o.package_)!=null&&j.features&&o.package_.features.length>0?(c(),n("div",Ae,[(c(!0),n(N,null,V(o.package_.features,(u,f)=>(c(),n("div",{key:f,class:"flex items-center gap-3 bg-gray-50 p-4 rounded-xl"},[i(d,{name:"material-symbols:star",class:"h-6 w-6 text-yellow-500"}),e("span",je,t(u),1)]))),128))])):(c(),n("div",Le,[i(d,{name:"material-symbols:info-outline",class:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e("p",null,t(l(r)("packages.details.no_features")),1)]))]),e("div",Ie,[e("div",Pe,[e("div",Te,[e("h3",ze,t(l(r)("packages.details.custom_package.title")),1),e("p",Be,t(l(r)("packages.details.custom_package.description")),1),e("div",De,[e("button",{onClick:g[0]||(g[0]=u=>s.$emit("contact")),class:"rounded-full bg-primary-500 px-8 py-3 text-white hover:bg-primary-800 transition-colors flex items-center justify-center gap-2"},[i(d,{name:"material-symbols:chat",class:"h-5 w-5"}),e("span",null,t(l(r)("packages.details.custom_package.cta")),1)]),e("a",{href:l(h)(`${l(r)("whatsapp.messages.package_interest",{name:y.package_[`title_${l(p).slice(0,2)}`]})}`),target:"_blank",rel:"noopener noreferrer",class:"rounded-full bg-[#25D366] px-8 py-3 text-white hover:bg-[#128C7E] transition-colors flex items-center justify-center gap-2"},[i(d,{name:"logos:whatsapp-icon",class:"w-5 h-5"}),e("span",null,t(s.$t("packages.details.custom_package.cta_whatsapp")),1)],8,Ee)])])])])])}}}),Re={key:0,class:"flex justify-center items-center min-h-screen"},We={class:"sr-only"},Me={key:1,class:"min-h-screen flex flex-col items-center justify-center px-4 text-center"},Ue={class:"text-2xl font-bold text-gray-900 mb-4"},qe={class:"text-gray-600 mb-8"},He={key:2,class:"relative min-h-screen"},Oe={key:3,class:"min-h-screen flex flex-col items-center justify-center px-4 text-center"},Ge={class:"text-2xl font-bold text-gray-900 mb-4"},Je={class:"text-gray-600 mb-8"},ot=T({__name:"[id]",setup(o){const y=F();R();const{t:r,locale:p}=z(),h=w(!1),s=w(null),g=w(!0),d=w(null),k=async()=>{try{g.value=!0,d.value=null;const a=y.params.id;console.log("🔄 Loading package with ID:",a);const m=await $fetch(`/api/packages/${a}`);if(console.log("✅ Package data loaded:",m),m.package)s.value=m.package;else throw new Error("Package not found")}catch(a){console.error("❌ Error loading package:",a),d.value=a}finally{g.value=!1}};return W(()=>y.params.id,a=>{a&&k()},{immediate:!0}),M(()=>{k()}),G({title:_(()=>s.value?`${s.value[`title_${p.value.slice(0,2)}`]} | Wonder Land Agency`:"Loading..."),meta:[{name:"description",content:_(()=>{var a;return((a=s.value)==null?void 0:a[`description_${p.value.slice(0,2)}`])||""})},{property:"og:title",content:_(()=>{var a;return((a=s.value)==null?void 0:a[`title_${p.value.slice(0,2)}`])||""})},{property:"og:description",content:_(()=>{var a;return((a=s.value)==null?void 0:a[`description_${p.value.slice(0,2)}`])||""})},{property:"og:image",content:_(()=>{var a;return((a=s.value)==null?void 0:a.image_url)||""})},{name:"twitter:card",content:"summary_large_image"},{property:"og:type",content:"product"},{property:"og:price:amount",content:_(()=>{var a;return((a=s.value)==null?void 0:a.price.toString())||""})},{property:"og:price:currency",content:"SAR"}]}),(a,m)=>{const x=B,b=D;return c(),n("div",null,[g.value&&!s.value?(c(),n("div",Re,[m[2]||(m[2]=e("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"},null,-1)),e("span",We,t(a.$t("common.loading")),1)])):d.value?(c(),n("div",Me,[e("h1",Ue,t(a.$t("common.error")),1),e("p",qe,t(d.value.message),1),i(x,{to:"/",class:"rounded-full bg-primary px-6 py-3 text-white hover:bg-primary-dark transition-colors"},{default:$(()=>[I(t(a.$t("common.back_home")),1)]),_:1})])):s.value?(c(),n("div",He,[e("div",{class:"relative h-[40vh] md:h-[60vh]",style:P({viewTransitionName:`package-image-${s.value.id}`})},[i(b,{src:s.value.image_url,class:"h-full w-full object-cover",alt:a.$i18n.locale==="ar-SA"?s.value.title_ar:s.value.title_en},null,8,["src","alt"]),m[3]||(m[3]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"},null,-1))],4),e("div",{class:"relative z-10 -mt-32 rounded-t-[2.5rem] bg-surface px-4 pb-20 pt-12 md:px-8",style:P({viewTransitionName:`package-content-${s.value.id}`})},[i(Fe,{package_:s.value,onContact:m[0]||(m[0]=v=>h.value=!0)},null,8,["package_"])],4)])):(c(),n("div",Oe,[e("h1",Ge,t(a.$t("packages.not_found")),1),e("p",Je,t(a.$t("packages.not_found_description")),1),i(x,{to:"/packages",class:"rounded-full bg-primary px-6 py-3 text-white hover:bg-primary-dark transition-colors"},{default:$(()=>[I(t(a.$t("packages.view_all")),1)]),_:1})])),i(O,{modelValue:h.value,"onUpdate:modelValue":m[1]||(m[1]=v=>h.value=v),package_:s.value},null,8,["modelValue","package_"])])}}});export{ot as default};
