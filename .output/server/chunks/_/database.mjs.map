{"version":3,"file":"database.mjs","sources":["../../../../utils/database.ts"],"sourcesContent":null,"names":["pool","createDatabasePool","config","host","process","env","DB_HOST","port","Number","DB_PORT","user","DB_USER","password","DB_PASSWORD","database","DB_NAME","console","log","mysql","createPool","charset","timezone","connectionLimit","queueLimit","waitForConnections","reconnect","ssl","rejectUnauthorized","acquireTimeout","timeout","keepAliveInitialDelay","enableKeepAlive","async","executeQuery","sql","params","rows","execute","error","message","code","errno","substring","Error","findOne","length","verifyPassword","hash","bcrypt","compare","generateJWT","payload","expiresIn","useRuntimeConfig","jwt","sign","jwtSecret","verifyJWT","token","verify","authenticateUser","email","userWithPassword","adminProfile","id","role","permissions","JSON","parse","getUserById","result"],"mappings":"qUAKA,IAAAA,EAAA,KAEA,SAAAC,qBACA,IAAAD,EAAA,CAEA,MAAAE,EAAA,CACAC,KAAAC,QAAAC,IAAAC,SAAA,YACAC,KAAAC,OAAAJ,QAAAC,IAAAI,UAAA,KACAC,KAAAN,QAAAC,IAAAM,SAAA,SACAC,SAAAR,QAAAC,IAAAQ,aAAA,qBACAC,SAAAV,QAAAC,IAAAU,SAAA,UAIAC,QAAAC,IAAA,mBAAA,CACAd,KAAAD,EAAAC,KACAI,KAAAL,EAAAK,KACAG,KAAAR,EAAAQ,KACAE,SAAA,QACAE,SAAAZ,EAAAY,WASAd,EAAAkB,EAAAC,WAAA,IACAjB,EACAkB,QAAA,UACAC,SAAA,SACAC,gBAAA,EACAC,WAAA,EACAC,oBAAA,EACAC,WAAA,EAEAC,IAAA,CACAC,oBAAA,GAGAC,eAAA,IACAC,QAAA,IAEAC,sBAAA,EACAC,iBAAA,GACA,CAGA,OAAA/B,CACA,CAEAgC,eAAAC,aAAAC,EAAAC,EAAA,IACA,IACA,MAAAnC,EAAAC,sBACAmC,SAAApC,EAAAqC,QAAAH,EAAAC,GACA,OAAAC,QACAE,GAUA,GATAtB,QAAAsB,MAAA,wBAAA,CACAC,QAAAD,EAAAC,QACAC,KAAAF,EAAAE,KACAC,MAAAH,EAAAG,MACAP,IAAAA,EAAAQ,UAAA,EAAA,KAAA,MACAP,WAIA,iBAAAG,EAAAE,KACA,MAAA,IAAAG,MAAA,0EACA,GAAA,2BAAAL,EAAAE,KACA,MAAA,IAAAG,MAAA,0DACA,GAAA,oBAAAL,EAAAE,KACA,MAAA,IAAAG,MAAA,6DACA,GAAA,2BAAAL,EAAAE,KACA,MAAA,IAAAG,MAAA,gFAGA,MAAAL,CAAA,CAEA,CAEAN,eAAAY,QAAAV,EAAAC,EAAA,IACA,MAAAC,QAAAH,aAAAC,EAAAC,GACA,OAAAC,EAAAS,OAAA,EAAAT,EAAA,GAAA,IACA,CAQAJ,eAAAc,eAAAlC,EAAAmC,GACA,aAAAC,EAAAC,QAAArC,EAAAmC,EACA,CAEA,SAAAG,YAAAC,EAAAC,EAAA,OACA,MAAAlD,EAAAmD,IACA,OAAAC,EAAAC,KAAAJ,EAAAjD,EAAAsD,UAAA,CAAAJ,aACA,CAEA,SAAAK,UAAAC,GACA,MAAAxD,EAAAmD,IACA,IACA,OAAAC,EAAAK,OAAAD,EAAAxD,EAAAsD,iBACAlB,GACA,MAAA,IAAAK,MAAA,gBAAA,CAEA,CAsBAX,eAAA4B,iBAAAC,EAAAjD,GACA,IAEA,MAAAkD,QAAAlB,QACA,sCACA,CAAAiB,IAGA,IAAAC,EACA,OAAA,KAKA,UADAhB,eAAAlC,EAAAkD,EAAAlD,UAEA,OAAA,KAIA,MAAAmD,QAAAnB,QACA,iDACA,CAAAkB,EAAAE,KASA,MAAA,CAAAtD,KANA,IACAoD,EACAG,YAAAF,WAAAE,OAAA,QACAC,mBAAAH,WAAAG,aAAAC,KAAAC,MAAAL,EAAAG,aAAA,CAAA,UAIA5B,GAEA,OADAtB,QAAAsB,MAAA,wBAAAA,GACA,IAAA,CAEA,CAEAN,eAAAqC,YAAAL,GACA,MAQAM,QAAA1B,QARA,8NAQA,CAAAoB,IAEA,GAAAM,EAAA,CAEA,GAAAA,EAAAJ,aAAA,iBAAAI,EAAAJ,YACA,IACAI,EAAAJ,YAAAC,KAAAC,MAAAE,EAAAJ,mBACA5B,GACAtB,QAAAsB,MAAA,kCAAAA,GACAgC,EAAAJ,YAAA,CAAA,CAAA,MAEAI,EAAAJ,cACAI,EAAAJ,YAAA,CAAA,GAIAI,EAAAL,OACAK,EAAAL,KAAA,QACA,CAGA,OAAAK,CACA"}