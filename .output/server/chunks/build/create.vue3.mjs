import{M as e}from"./nuxt-link.mjs";import{q as t}from"./index2.mjs";import{ref as r,computed as a,watch as s,mergeProps as o,withCtx as l,createVNode as n,createTextVNode as d,unref as i,useSSRContext as u}from"vue";import{ssrRenderAttrs as c,ssrRenderComponent as p,ssrRenderAttr as m,ssrIncludeBooleanAttr as g,ssrLooseContain as y,ssrLooseEqual as v,ssrRenderList as f,ssrInterpolate as x}from"vue/server-renderer";import{H as _}from"./server.mjs";import"@iconify/utils/lib/css/icon";import"@iconify/vue";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"ipx";import"node:path";import"vue-router";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";const h={__name:"create",__ssrInlineRender:!0,setup(u){const h=r(!1),k=r([]),$=r(null),A=r({customer_name:"",customer_email:"",customer_phone:"",package_id:"",guests_count:1,departure_date:"",return_date:"",total_amount:0,paid_amount:0,currency:"SAR",payment_method:"",payment_reference:"",booking_status:"pending",payment_status:"pending",special_requests:"",notes:"",booking_number:"",confirmed_at:""}),w=a((()=>A.value.customer_name&&A.value.customer_email&&A.value.customer_phone&&A.value.package_id&&A.value.departure_date&&A.value.total_amount>0)),b=e=>e?new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR"}).format(e):"0.00 ر.س";return s((()=>A.value.guests_count),(()=>{$.value&&(A.value.total_amount=$.value.price*A.value.guests_count)})),s((()=>A.value.departure_date),(()=>{var e;if(A.value.departure_date&&null!=(e=$.value)&&e.duration_days){const e=new Date(A.value.departure_date),t=new Date(e);t.setDate(t.getDate()+$.value.duration_days),A.value.return_date=t.toISOString().split("T")[0]}})),_({title:"إضافة حجز جديد - Wonder Land Admin",meta:[{name:"description",content:"إنشاء حجز جديد للعميل"},{name:"robots",content:"noindex, nofollow"}]}),(r,a,s,u)=>{const _=e,j=t;a(`<div${c(o({class:"space-y-6"},u))}><div class="h-16"></div><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between"><div><h1 class="text-2xl font-bold text-gray-900">إضافة حجز جديد</h1><p class="mt-1 text-sm text-gray-600">إنشاء حجز جديد للعميل</p></div><div class="mt-4 sm:mt-0">`),a(p(_,{to:"/admin/bookings",class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:l(((e,t,r,a)=>{if(!t)return[n(j,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),d(" العودة ")];t(p(j,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"},null,r,a)),t(" العودة ")})),_:1},s)),a(`</div></div><form class="space-y-6"><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"><div><h2 class="text-lg font-semibold text-gray-900 mb-4">معلومات العميل</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">اسم العميل *</label><input${m("value",i(A).customer_name)} type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل اسم العميل"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">البريد الإلكتروني *</label><input${m("value",i(A).customer_email)} type="email" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل البريد الإلكتروني"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">رقم الهاتف *</label><input${m("value",i(A).customer_phone)} type="tel" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="+966501234567"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">عدد الضيوف *</label><input${m("value",i(A).guests_count)} type="number" min="1" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div></div><div><h2 class="text-lg font-semibold text-gray-900 mb-4">تفاصيل الباقة</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">اختيار الباقة *</label><select required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${g(Array.isArray(i(A).package_id)?y(i(A).package_id,""):v(i(A).package_id,""))?" selected":""}>اختر الباقة</option>\x3c!--[--\x3e`),f(i(k),(e=>{a(`<option${m("value",e.id)}${g(Array.isArray(i(A).package_id)?y(i(A).package_id,e.id):v(i(A).package_id,e.id))?" selected":""}>${x(e.title_ar||e.title_en||e.title)} - ${x(b(e.price))}</option>`)})),a("\x3c!--]--\x3e</select></div>"),i($)?a(`<div><label class="block text-sm font-medium text-gray-700 mb-2">مدة الرحلة</label><input${m("value",i($).duration_days+" أيام")} type="text" readonly class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"></div>`):a("\x3c!----\x3e"),a(`<div><label class="block text-sm font-medium text-gray-700 mb-2">تاريخ المغادرة *</label><input${m("value",i(A).departure_date)} type="date" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">تاريخ العودة</label><input${m("value",i(A).return_date)} type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div>`),i($)?a(`<div class="mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200"><h3 class="text-sm font-medium text-blue-900 mb-2">تفاصيل الباقة المختارة</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800"><div><span class="font-medium">العنوان:</span> ${x(i($).title_ar||i($).title_en||i($).title)}</div><div><span class="font-medium">السعر:</span> ${x(b(i($).price))}</div><div><span class="font-medium">المدة:</span> ${x(i($).duration_days)} أيام </div><div><span class="font-medium">الوجهة:</span> ${x(i($).location||i($).travel_period)}</div></div></div>`):a("\x3c!----\x3e"),a(`</div><div><h2 class="text-lg font-semibold text-gray-900 mb-4">تفاصيل الدفع</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">المبلغ الإجمالي *</label><input${m("value",i(A).total_amount)} type="number" min="0" step="0.01" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0.00"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">المبلغ المدفوع</label><input${m("value",i(A).paid_amount)} type="number" min="0" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0.00"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">العملة</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="SAR"${g(Array.isArray(i(A).currency)?y(i(A).currency,"SAR"):v(i(A).currency,"SAR"))?" selected":""}>ريال سعودي (SAR)</option><option value="USD"${g(Array.isArray(i(A).currency)?y(i(A).currency,"USD"):v(i(A).currency,"USD"))?" selected":""}>دولار أمريكي (USD)</option><option value="EUR"${g(Array.isArray(i(A).currency)?y(i(A).currency,"EUR"):v(i(A).currency,"EUR"))?" selected":""}>يورو (EUR)</option><option value="AED"${g(Array.isArray(i(A).currency)?y(i(A).currency,"AED"):v(i(A).currency,"AED"))?" selected":""}>درهم إماراتي (AED)</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">طريقة الدفع</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${g(Array.isArray(i(A).payment_method)?y(i(A).payment_method,""):v(i(A).payment_method,""))?" selected":""}>اختر طريقة الدفع</option><option value="cash"${g(Array.isArray(i(A).payment_method)?y(i(A).payment_method,"cash"):v(i(A).payment_method,"cash"))?" selected":""}>نقداً</option><option value="bank_transfer"${g(Array.isArray(i(A).payment_method)?y(i(A).payment_method,"bank_transfer"):v(i(A).payment_method,"bank_transfer"))?" selected":""}>تحويل بنكي</option><option value="credit_card"${g(Array.isArray(i(A).payment_method)?y(i(A).payment_method,"credit_card"):v(i(A).payment_method,"credit_card"))?" selected":""}>بطاقة ائتمان</option><option value="online"${g(Array.isArray(i(A).payment_method)?y(i(A).payment_method,"online"):v(i(A).payment_method,"online"))?" selected":""}>دفع إلكتروني</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">مرجع الدفع</label><input${m("value",i(A).payment_reference)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="رقم المرجع أو المعاملة"></div></div></div><div><h2 class="text-lg font-semibold text-gray-900 mb-4">طلبات خاصة وملاحظات</h2><div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">طلبات خاصة</label><textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أي طلبات خاصة من العميل">${x(i(A).special_requests)}</textarea></div><div><label class="block text-sm font-medium text-gray-700 mb-2">ملاحظات إدارية</label><textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="ملاحظات إدارية أو تفاصيل إضافية">${x(i(A).notes)}</textarea></div></div></div></div><div class="space-y-6"><div class="bg-gray-50 rounded-lg p-4"><h3 class="text-lg font-semibold text-gray-900 mb-4">حالة الحجز</h3><div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">حالة الحجز *</label><select required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="pending"${g(Array.isArray(i(A).booking_status)?y(i(A).booking_status,"pending"):v(i(A).booking_status,"pending"))?" selected":""}>في الانتظار</option><option value="confirmed"${g(Array.isArray(i(A).booking_status)?y(i(A).booking_status,"confirmed"):v(i(A).booking_status,"confirmed"))?" selected":""}>مؤكدة</option><option value="cancelled"${g(Array.isArray(i(A).booking_status)?y(i(A).booking_status,"cancelled"):v(i(A).booking_status,"cancelled"))?" selected":""}>ملغية</option><option value="completed"${g(Array.isArray(i(A).booking_status)?y(i(A).booking_status,"completed"):v(i(A).booking_status,"completed"))?" selected":""}>مكتملة</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">حالة الدفع *</label><select required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="pending"${g(Array.isArray(i(A).payment_status)?y(i(A).payment_status,"pending"):v(i(A).payment_status,"pending"))?" selected":""}>في الانتظار</option><option value="partial"${g(Array.isArray(i(A).payment_status)?y(i(A).payment_status,"partial"):v(i(A).payment_status,"partial"))?" selected":""}>مدفوع جزئياً</option><option value="paid"${g(Array.isArray(i(A).payment_status)?y(i(A).payment_status,"paid"):v(i(A).payment_status,"paid"))?" selected":""}>مدفوع بالكامل</option><option value="refunded"${g(Array.isArray(i(A).payment_status)?y(i(A).payment_status,"refunded"):v(i(A).payment_status,"refunded"))?" selected":""}>مسترد</option></select></div></div></div><div class="bg-blue-50 rounded-lg border border-blue-200 p-4"><h3 class="text-lg font-semibold text-blue-900 mb-3">ملخص الحجز</h3><div class="space-y-2 text-sm text-blue-800"><div class="flex justify-between"><span>العميل:</span><span>${x(i(A).customer_name||"غير محدد")}</span></div><div class="flex justify-between"><span>عدد الضيوف:</span><span>${x(i(A).guests_count||0)}</span></div><div class="flex justify-between"><span>تاريخ المغادرة:</span><span>${x(i(A).departure_date||"غير محدد")}</span></div><div class="flex justify-between"><span>المبلغ الإجمالي:</span><span>${x(b(i(A).total_amount))}</span></div><div class="flex justify-between"><span>المبلغ المدفوع:</span><span>${x(b(i(A).paid_amount))}</span></div><div class="flex justify-between"><span>المتبقي:</span><span>${x(b(i(A).total_amount-i(A).paid_amount))}</span></div><div class="flex justify-between"><span>حالة الحجز:</span><span>${x((e=>({confirmed:"مؤكدة",pending:"في الانتظار",cancelled:"ملغية",completed:"مكتملة"}[e]||e))(i(A).booking_status))}</span></div><div class="flex justify-between"><span>حالة الدفع:</span><span>${x((e=>({paid:"مدفوع",partial:"مدفوع جزئياً",pending:"في الانتظار",refunded:"مسترد"}[e]||e))(i(A).payment_status))}</span></div></div></div><div class="bg-gray-50 rounded-lg p-4"><h3 class="text-lg font-semibold text-gray-900 mb-4">معلومات إضافية</h3><div class="space-y-3"><div><label class="block text-sm font-medium text-gray-700 mb-2">رقم الحجز</label><input${m("value",i(A).booking_number)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="سيتم إنشاؤه تلقائياً"><p class="text-xs text-gray-500 mt-1">اتركه فارغاً لإنشاء رقم تلقائي</p></div><div><label class="block text-sm font-medium text-gray-700 mb-2">تاريخ التأكيد</label><input${m("value",i(A).confirmed_at)} type="datetime-local" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div></div></div></div><div class="flex justify-end space-x-3 space-x-reverse pt-6 border-t border-gray-200">`),a(p(_,{to:"/admin/bookings",class:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},{default:l(((e,t,r,a)=>{if(!t)return[d(" إلغاء ")];t(" إلغاء ")})),_:1},s)),a(`<button type="submit"${g(i(h)||!i(w))?" disabled":""} class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50">`),i(h)?a(p(j,{name:"material-symbols:progress-activity",class:"animate-spin h-4 w-4 ml-2 inline"},null,s)):a("\x3c!----\x3e"),a(` ${x(i(h)?"جاري الإنشاء...":"إنشاء الحجز")}</button></div></div></form></div>`)}}},k=h.setup;h.setup=(e,t)=>{const r=u();return(r.modules||(r.modules=new Set)).add("pages/admin/bookings/create.vue"),k?k(e,t):void 0};export{h as default};
//# sourceMappingURL=create.vue3.mjs.map
