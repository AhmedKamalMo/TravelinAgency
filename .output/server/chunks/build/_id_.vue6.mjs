import{M as e}from"./nuxt-link.mjs";import{q as t}from"./index2.mjs";import{ref as l,mergeProps as a,unref as s,withCtx as r,createVNode as i,createTextVNode as d,useSSRContext as o}from"vue";import{ssrRenderAttrs as m,ssrInterpolate as n,ssrRenderComponent as c,ssrRenderClass as p}from"vue/server-renderer";import{j as u,H as v}from"./server.mjs";import"@iconify/utils/lib/css/icon";import"@iconify/vue";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"node:module";import"ipx";import"node:path";import"vue-router";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";const y={__name:"[id]",__ssrInlineRender:!0,setup(o){const y=u().params.id,f=l(!0),h=l(null),x=e=>e?new Date(e).toLocaleDateString("ar-SA"):"غير محدد",b=e=>e?new Date(e).toLocaleString("ar-SA"):"غير محدد",g=e=>e?new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR"}).format(e):"0.00 ر.س",T$1=e=>({confirmed:"bg-green-100 text-green-800",pending:"bg-orange-100 text-orange-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"}[e]||"bg-gray-100 text-gray-800"),F=e=>({paid:"bg-green-100 text-green-800",partial:"bg-yellow-100 text-yellow-800",pending:"bg-orange-100 text-orange-800",refunded:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800");return v({title:`عرض الحجز #${y} - Wonder Land Admin`,meta:[{name:"description",content:"عرض تفاصيل الحجز"},{name:"robots",content:"noindex, nofollow"}]}),(l,o,u,v)=>{var k,_,w,$,j,S,A,q;const D=e,L=t;o(`<div${m(a({class:"space-y-6"},v))}><div class="h-16"></div><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between"><div><h1 class="text-2xl font-bold text-gray-900">عرض الحجز</h1><p class="mt-1 text-sm text-gray-600">تفاصيل الحجز #${n((null==(k=s(h))?void 0:k.booking_number)||s(y))}</p></div><div class="mt-4 sm:mt-0 flex space-x-3 space-x-reverse">`),o(c(D,{to:`/admin/bookings/${s(y)}/edit`,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:r(((e,t,l,a)=>{if(!t)return[i(L,{name:"material-symbols:edit",class:"h-5 w-5 ml-2"}),d(" تحرير ")];t(c(L,{name:"material-symbols:edit",class:"h-5 w-5 ml-2"},null,l,a)),t(" تحرير ")})),_:1},u)),o(c(D,{to:"/admin/bookings",class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:r(((e,t,l,a)=>{if(!t)return[i(L,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),d(" العودة ")];t(c(L,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"},null,l,a)),t(" العودة ")})),_:1},u)),o("</div></div>"),s(f)?(o('<div class="flex justify-center items-center py-12">'),o(c(L,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"},null,u)),o('<span class="mr-3 text-gray-600">جارٍ تحميل الحجز...</span></div>')):s(h)?(o(`<div class="space-y-6"><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><div class="flex items-center justify-between mb-6"><h2 class="text-lg font-semibold text-gray-900">معلومات الحجز</h2><div class="flex space-x-2 space-x-reverse"><span class="${p([T$1(s(h).booking_status),"px-3 py-1 text-sm font-medium rounded-full"])}">${n((e=>({confirmed:"مؤكدة",pending:"في الانتظار",cancelled:"ملغية",completed:"مكتملة"}[e]||e))(s(h).booking_status))}</span><span class="${p([F(s(h).payment_status),"px-3 py-1 text-sm font-medium rounded-full"])}">${n((e=>({paid:"مدفوع",partial:"مدفوع جزئياً",pending:"في الانتظار",refunded:"مسترد"}[e]||e))(s(h).payment_status))}</span></div></div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><div><label class="block text-sm font-medium text-gray-500 mb-1">رقم الحجز</label><p class="text-lg font-semibold text-gray-900">#${n(s(h).booking_number)}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">تاريخ الحجز</label><p class="text-gray-900">${n(x(s(h).created_at))}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">عدد الضيوف</label><p class="text-gray-900">${n(s(h).guests_count)} شخص</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">تاريخ المغادرة</label><p class="text-gray-900">${n(x(s(h).departure_date))}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">تاريخ العودة</label><p class="text-gray-900">${n(s(h).return_date?x(s(h).return_date):"غير محدد")}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">تاريخ التأكيد</label><p class="text-gray-900">${n(s(h).confirmed_at?b(s(h).confirmed_at):"غير مؤكد")}</p></div></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">معلومات العميل</h2><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><div><label class="block text-sm font-medium text-gray-500 mb-1">الاسم</label><p class="text-gray-900">${n(s(h).customer_name)}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">البريد الإلكتروني</label><p class="text-gray-900">${n(s(h).customer_email)}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">رقم الهاتف</label><p class="text-gray-900">${n(s(h).customer_phone)}</p></div></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">تفاصيل الباقة</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-500 mb-1">اسم الباقة</label><p class="text-gray-900">${n((null==(_=s(h).package)?void 0:_.title_ar)||(null==(w=s(h).package)?void 0:w.title_en)||(null==($=s(h).package)?void 0:$.title)||"غير محدد")}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">الوجهة</label><p class="text-gray-900">${n((null==(j=s(h).package)?void 0:j.location)||(null==(S=s(h).package)?void 0:S.travel_period)||"غير محدد")}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">مدة الرحلة</label><p class="text-gray-900">${n((null==(A=s(h).package)?void 0:A.duration_days)||"غير محدد")} أيام</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">سعر الباقة</label><p class="text-gray-900">${n(g(null==(q=s(h).package)?void 0:q.price))}</p></div></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">تفاصيل الدفع</h2><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"><div><label class="block text-sm font-medium text-gray-500 mb-1">المبلغ الإجمالي</label><p class="text-lg font-semibold text-gray-900">${n(g(s(h).total_amount))}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">المبلغ المدفوع</label><p class="text-lg font-semibold text-green-600">${n(g(s(h).paid_amount))}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">المبلغ المتبقي</label><p class="text-lg font-semibold text-orange-600">${n(g(s(h).total_amount-s(h).paid_amount))}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">العملة</label><p class="text-gray-900">${n(s(h).currency||"SAR")}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">طريقة الدفع</label><p class="text-gray-900">${n(s(h).payment_method||"غير محدد")}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">مرجع الدفع</label><p class="text-gray-900">${n(s(h).payment_reference||"غير محدد")}</p></div></div></div>`),s(h).special_requests||s(h).notes?(o('<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">طلبات خاصة وملاحظات</h2><div class="space-y-4">'),s(h).special_requests?o(`<div><label class="block text-sm font-medium text-gray-500 mb-1">طلبات خاصة</label><p class="text-gray-900 bg-gray-50 p-3 rounded-lg">${n(s(h).special_requests)}</p></div>`):o("\x3c!----\x3e"),s(h).notes?o(`<div><label class="block text-sm font-medium text-gray-500 mb-1">ملاحظات إدارية</label><p class="text-gray-900 bg-gray-50 p-3 rounded-lg">${n(s(h).notes)}</p></div>`):o("\x3c!----\x3e"),o("</div></div>")):o("\x3c!----\x3e"),"cancelled"===s(h).booking_status?o(`<div class="bg-red-50 rounded-lg border border-red-200 p-6"><h2 class="text-lg font-semibold text-red-900 mb-4">معلومات الإلغاء</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-red-700 mb-1">سبب الإلغاء</label><p class="text-red-900">${n(s(h).cancellation_reason||"غير محدد")}</p></div><div><label class="block text-sm font-medium text-red-700 mb-1">تاريخ الإلغاء</label><p class="text-red-900">${n(s(h).cancellation_date?b(s(h).cancellation_date):"غير محدد")}</p></div></div></div>`):o("\x3c!----\x3e"),o(`<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">معلومات إضافية</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-500 mb-1">تاريخ الإنشاء</label><p class="text-gray-900">${n(b(s(h).created_at))}</p></div><div><label class="block text-sm font-medium text-gray-500 mb-1">آخر تحديث</label><p class="text-gray-900">${n(b(s(h).updated_at))}</p></div></div></div></div>`)):(o('<div class="text-center py-12">'),o(c(L,{name:"material-symbols:book-online",class:"h-16 w-16 text-gray-300 mx-auto mb-4"},null,u)),o('<h3 class="text-lg font-medium text-gray-900 mb-2">الحجز غير موجود</h3><p class="text-gray-500 mb-6">لم يتم العثور على الحجز المطلوب</p>'),o(c(D,{to:"/admin/bookings",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:r(((e,t,l,a)=>{if(!t)return[i(L,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),d(" العودة إلى الحجوزات ")];t(c(L,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"},null,l,a)),t(" العودة إلى الحجوزات ")})),_:1},u)),o("</div>")),o("</div>")}}},f=y.setup;y.setup=(e,t)=>{const l=o();return(l.modules||(l.modules=new Set)).add("pages/admin/bookings/[id].vue"),f?f(e,t):void 0};export{y as default};
//# sourceMappingURL=_id_.vue6.mjs.map
