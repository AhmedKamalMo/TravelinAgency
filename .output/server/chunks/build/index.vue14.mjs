import{M as e}from"./nuxt-link.mjs";import{q as t}from"./index2.mjs";import{ref as r,computed as s,watch as a,mergeProps as o,withCtx as l,createVNode as i,createTextVNode as d,unref as n,useSSRContext as p}from"vue";import{ssrRenderAttrs as c,ssrRenderComponent as u,ssrRenderAttr as m,ssrIncludeBooleanAttr as x,ssrLooseContain as v,ssrLooseEqual as b,ssrRenderList as y,ssrInterpolate as g,ssrRenderClass as h}from"vue/server-renderer";import"./server.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"ipx";import"node:path";import"vue-router";import"@iconify/vue";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";import"@iconify/utils/lib/css/icon";const f={__name:"index",__ssrInlineRender:!0,setup(p){const f=r(!0),w=r([]),$=r(""),A=r(""),k=r(""),_=r(1),j=s((()=>{let e=w.value;if($.value){const t=$.value.toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(t)||e.slug.toLowerCase().includes(t)))}return A.value&&(e=e.filter((e=>e.status===A.value))),k.value&&(e=e.filter((e=>e.template===k.value))),e})),L=s((()=>Math.ceil(j.value.length/10))),M=s((()=>{const e=10*(_.value-1),t=e+10;return j.value.slice(e,t)})),C=s((()=>{const e=[],t=Math.max(1,_.value-2),r=Math.min(L.value,_.value+2);for(let s=t;s<=r;s++)e.push(s);return e}));return a([$,A,k],(()=>{_.value=1})),(r,s,a,p)=>{const w=e,S=t;s(`<div${c(o({class:"space-y-6"},p))}><div class="h-16"></div><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold text-gray-900">إدارة الصفحات</h1><p class="text-gray-600">إدارة صفحات الموقع والمحتوى</p></div>`),s(u(w,{to:"/admin/cms/pages/new",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center"},{default:l(((e,t,r,s)=>{if(!t)return[i(S,{name:"material-symbols:add",class:"h-5 w-5 ml-2"}),d(" صفحة جديدة ")];t(u(S,{name:"material-symbols:add",class:"h-5 w-5 ml-2"},null,r,s)),t(" صفحة جديدة ")})),_:1},a)),s(`</div><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="flex flex-wrap gap-4"><div class="flex-1 min-w-64"><label class="block text-sm font-medium text-gray-700 mb-2">البحث</label><input${m("value",n($))} type="text" placeholder="البحث في الصفحات..." class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div class="min-w-48"><label class="block text-sm font-medium text-gray-700 mb-2">الحالة</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${x(Array.isArray(n(A))?v(n(A),""):b(n(A),""))?" selected":""}>جميع الحالات</option><option value="published"${x(Array.isArray(n(A))?v(n(A),"published"):b(n(A),"published"))?" selected":""}>منشور</option><option value="draft"${x(Array.isArray(n(A))?v(n(A),"draft"):b(n(A),"draft"))?" selected":""}>مسودة</option><option value="archived"${x(Array.isArray(n(A))?v(n(A),"archived"):b(n(A),"archived"))?" selected":""}>مؤرشف</option></select></div><div class="min-w-48"><label class="block text-sm font-medium text-gray-700 mb-2">القالب</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${x(Array.isArray(n(k))?v(n(k),""):b(n(k),""))?" selected":""}>جميع القوالب</option><option value="home"${x(Array.isArray(n(k))?v(n(k),"home"):b(n(k),"home"))?" selected":""}>الرئيسية</option><option value="about"${x(Array.isArray(n(k))?v(n(k),"about"):b(n(k),"about"))?" selected":""}>من نحن</option><option value="services"${x(Array.isArray(n(k))?v(n(k),"services"):b(n(k),"services"))?" selected":""}>الخدمات</option><option value="contact"${x(Array.isArray(n(k))?v(n(k),"contact"):b(n(k),"contact"))?" selected":""}>اتصل بنا</option><option value="default"${x(Array.isArray(n(k))?v(n(k),"default"):b(n(k),"default"))?" selected":""}>افتراضي</option></select></div></div></div><div class="bg-white rounded-xl shadow-sm border border-gray-200"><div class="p-6 border-b border-gray-200"><h2 class="text-lg font-semibold text-gray-900">الصفحات</h2></div>`),n(f)?(s('<div class="text-center py-8">'),s(u(S,{name:"material-symbols:refresh",class:"h-8 w-8 text-gray-400 animate-spin mx-auto"},null,a)),s('<p class="text-gray-600 mt-2">جاري التحميل...</p></div>')):0===n(j).length?(s('<div class="text-center py-8">'),s(u(S,{name:"material-symbols:description",class:"h-12 w-12 text-gray-400 mx-auto"},null,a)),s('<p class="text-gray-600 mt-2">لا توجد صفحات</p></div>')):(s('<div class="overflow-x-auto"><table class="w-full"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الصفحة</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الحالة</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">القالب</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">آخر تحديث</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الإجراءات</th></tr></thead><tbody class="bg-white divide-y divide-gray-200">\x3c!--[--\x3e'),y(n(M),(e=>{s(`<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div><div class="text-sm font-medium text-gray-900">${g(e.title)}</div><div class="text-sm text-gray-500">${g(e.slug)}</div></div></td><td class="px-6 py-4 whitespace-nowrap"><span class="${h(["px-2 py-1 text-xs font-medium rounded-full","published"===e.status?"bg-green-100 text-green-800":"draft"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])}">${g((e=>({published:"منشور",draft:"مسودة",archived:"مؤرشف"}[e]||e))(e.status))}</span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${g((e=>({home:"الرئيسية",about:"من نحن",services:"الخدمات",contact:"اتصل بنا",default:"افتراضي"}[e]||e))(e.template))}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${g((e=>new Date(e).toLocaleDateString("ar-SA"))(e.updated_at))}</td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><div class="flex items-center space-x-3 space-x-reverse">`),s(u(w,{to:`/admin/cms/pages/${e.id}`,class:"text-blue-600 hover:text-blue-900"},{default:l(((e,t,r,s)=>{if(!t)return[d(" تعديل ")];t(" تعديل ")})),_:2},a)),s(`<button class="${h(["px-2 py-1 text-xs rounded","published"===e.status?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-green-100 text-green-800 hover:bg-green-200"])}">${g("published"===e.status?"إلغاء النشر":"نشر")}</button><button class="text-red-600 hover:text-red-900"> حذف </button></div></td></tr>`)})),s("\x3c!--]--\x3e</tbody></table></div>")),n(L)>1?(s(`<div class="px-6 py-4 border-t border-gray-200"><div class="flex items-center justify-between"><div class="text-sm text-gray-700"> عرض ${g(10*(n(_)-1)+1)} إلى ${g(Math.min(10*n(_),n(j).length))} من ${g(n(j).length)} صفحة </div><div class="flex space-x-2 space-x-reverse"><button${x(1===n(_))?" disabled":""} class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"> السابق </button>\x3c!--[--\x3e`),y(n(C),(e=>{s(`<span class="${h(["px-3 py-1 text-sm border rounded cursor-pointer",e===n(_)?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"])}">${g(e)}</span>`)})),s(`\x3c!--]--\x3e<button${x(n(_)===n(L))?" disabled":""} class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"> التالي </button></div></div></div>`)):s("\x3c!----\x3e"),s("</div></div>")}}},w=f.setup;f.setup=(e,t)=>{const r=p();return(r.modules||(r.modules=new Set)).add("pages/admin/cms/pages/index.vue"),w?w(e,t):void 0};export{f as default};
//# sourceMappingURL=index.vue14.mjs.map
