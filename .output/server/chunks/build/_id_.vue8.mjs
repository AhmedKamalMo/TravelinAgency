import{q as e}from"./index2.mjs";import{M as t}from"./nuxt-link.mjs";import{ref as r,computed as a,mergeProps as s,unref as i,withCtx as o,createVNode as l,createTextVNode as n,useSSRContext as d}from"vue";import{ssrRenderAttrs as c,ssrIncludeBooleanAttr as m,ssrRenderComponent as p,ssrInterpolate as u,ssrRenderAttr as g,ssrLooseContain as b,ssrLooseEqual as v,ssrRenderClass as y}from"vue/server-renderer";import{y as f}from"./ImageUpload.vue.mjs";import{j as h,H as _}from"./server.mjs";import{w}from"./useNotifications.mjs";import"@iconify/utils/lib/css/icon";import"@iconify/vue";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"ipx";import"node:path";import"vue-router";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";const j={__name:"[id]",__ssrInlineRender:!0,setup(d){h().params.id;const x=e=>{const{showSuccess:t}=w();t("تم رفع الصورة","تم رفع الصورة بنجاح!")},N=e=>{const{showError:t}=w();t("خطأ في رفع الصورة",e.message||"حدث خطأ في رفع الصورة")},j=r(!0),k=r(null),A=r(!1),E=r(!1),q=r({name_ar:"",name_en:"",description_ar:"",description_en:"",category:"international",image_url:"",active:!0,featured:!1}),$=e=>new Date(e).toLocaleDateString("ar-SA"),P=e=>({active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800");return _({title:a((()=>{var e;return`تفاصيل ${(null==(e=k.value)?void 0:e.name_ar)||"الوجهة"} - Wonder Land Admin`})),meta:[{name:"description",content:"تفاصيل الوجهة السياحية"},{name:"robots",content:"noindex, nofollow"}]}),(r,a,d,h)=>{const _=e,w=t;a(`<div${c(s({class:"space-y-6"},h))}><div class="h-16"></div><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between"><div><h1 class="text-2xl font-bold text-gray-900">تفاصيل الوجهة</h1><p class="mt-1 text-sm text-gray-600">عرض تفاصيل الوجهة السياحية</p></div><div class="mt-4 sm:mt-0 flex space-x-3 space-x-reverse">`),i(A)?(a(`\x3c!--[--\x3e<button${m(i(E))?" disabled":""} class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">`),i(E)?a(p(_,{name:"material-symbols:progress-activity",class:"animate-spin h-5 w-5 ml-2"},null,d)):a(p(_,{name:"material-symbols:save",class:"h-5 w-5 ml-2"},null,d)),a(` ${u(i(E)?"جاري الحفظ...":"حفظ التغييرات")}</button><button${m(i(E))?" disabled":""} class="inline-flex items-center px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">`),a(p(_,{name:"material-symbols:close",class:"h-5 w-5 ml-2"},null,d)),a(" إلغاء </button>\x3c!--]--\x3e")):(a('\x3c!--[--\x3e<button class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">'),a(p(_,{name:"material-symbols:edit",class:"h-5 w-5 ml-2"},null,d)),a(" تحرير </button>"),a(p(w,{to:"/admin/destinations",class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:o(((e,t,r,a)=>{if(!t)return[l(_,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),n(" العودة للقائمة ")];t(p(_,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"},null,r,a)),t(" العودة للقائمة ")})),_:1},d)),a("\x3c!--]--\x3e")),a("</div></div>"),i(j)?(a('<div class="flex justify-center items-center py-12">'),a(p(_,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"},null,d)),a('<span class="mr-3 text-gray-600">جارٍ تحميل بيانات الوجهة...</span></div>')):i(k)?(a('<div class="space-y-6"><div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">'),i(k).image_url||i(k).image?a(`<div class="h-64 bg-gray-100"><img${g("src",i(k).image_url||i(k).image)}${g("alt",i(k).name_ar||i(k).name_en)} class="w-full h-full object-cover" loading="lazy"></div>`):a("\x3c!----\x3e"),a('<div class="p-6">'),i(A)?(a(`<form class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="name_ar" class="block text-sm font-medium text-gray-700 mb-2"> الاسم بالعربية * </label><input id="name_ar"${g("value",i(q).name_ar)} type="text" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل اسم الوجهة بالعربية"></div><div><label for="name_en" class="block text-sm font-medium text-gray-700 mb-2"> الاسم بالإنجليزية * </label><input id="name_en"${g("value",i(q).name_en)} type="text" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter destination name in English"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="description_ar" class="block text-sm font-medium text-gray-700 mb-2"> الوصف بالعربية * </label><textarea id="description_ar" required rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل وصف الوجهة بالعربية">${u(i(q).description_ar)}</textarea></div><div><label for="description_en" class="block text-sm font-medium text-gray-700 mb-2"> الوصف بالإنجليزية * </label><textarea id="description_en" required rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter destination description in English">${u(i(q).description_en)}</textarea></div></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div><label for="category" class="block text-sm font-medium text-gray-700 mb-2"> نوع الوجهة * </label><select id="category" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="international"${m(Array.isArray(i(q).category)?b(i(q).category,"international"):v(i(q).category,"international"))?" selected":""}>عالمي</option><option value="saudi"${m(Array.isArray(i(q).category)?b(i(q).category,"saudi"):v(i(q).category,"saudi"))?" selected":""}>سعودي</option></select></div><div class="md:col-span-2"><label class="block text-sm font-medium text-gray-700 mb-2"> صورة الوجهة </label>`),a(p(f,{modelValue:i(q).image_url,"onUpdate:modelValue":e=>i(q).image_url=e,alt:"صورة الوجهة",onUploadComplete:x,onUploadError:N},null,d)),a(`<p class="mt-2 text-xs text-gray-500"> يمكنك رفع صورة JPG, PNG, JPEG بحجم أقصى 5MB </p></div><div><label for="active" class="block text-sm font-medium text-gray-700 mb-2"> حالة الوجهة </label><select id="active" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option${g("value",!0)}${m(Array.isArray(i(q).active)?b(i(q).active,!0):v(i(q).active,!0))?" selected":""}>نشط</option><option${g("value",!1)}${m(Array.isArray(i(q).active)?b(i(q).active,!1):v(i(q).active,!1))?" selected":""}>غير نشط</option></select></div></div><div class="flex items-center space-x-4 space-x-reverse"><label class="flex items-center"><input${m(Array.isArray(i(q).featured)?b(i(q).featured,null):i(q).featured)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><span class="mr-2 text-sm text-gray-700">وجهة مميزة</span></label></div></form>`)):(a(`\x3c!--[--\x3e<div class="flex items-start justify-between mb-4"><div><h2 class="text-3xl font-bold text-gray-900 mb-2">${u(i(k).name_ar||i(k).name_en)}</h2>`),i(k).name_en&&i(k).name_ar?a(`<p class="text-lg text-gray-600">${u(i(k).name_en)}</p>`):a("\x3c!----\x3e"),a(`</div><div class="flex space-x-2 space-x-reverse"><span class="${y([P(i(k).active?"active":"inactive"),"px-3 py-1 text-sm font-medium rounded-full"])}">${u((e=>({active:"نشط",inactive:"غير نشط"}[e]||e))(i(k).active?"active":"inactive"))}</span>`),i(k).featured?a('<span class="px-3 py-1 text-sm font-medium rounded-full bg-yellow-100 text-yellow-800"> مميز </span>'):a("\x3c!----\x3e"),a('</div></div><div class="mb-6"><h3 class="text-lg font-semibold text-gray-900 mb-2">الوصف</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4">'),i(k).description_ar?a(`<div><h4 class="text-sm font-medium text-gray-700 mb-1">بالعربية</h4><p class="text-gray-600">${u(i(k).description_ar)}</p></div>`):a("\x3c!----\x3e"),i(k).description_en?a(`<div><h4 class="text-sm font-medium text-gray-700 mb-1">بالإنجليزية</h4><p class="text-gray-600">${u(i(k).description_en)}</p></div>`):a("\x3c!----\x3e"),a("</div></div>\x3c!--]--\x3e")),a(`<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><div><h4 class="text-sm font-medium text-gray-700 mb-1">نوع الوجهة</h4><p class="text-gray-900">${u((e=>({saudi:"سعودي",international:"عالمي"}[e]||e))(i(k).category))}</p></div>`),i(k).region_ar||i(k).region_en?a(`<div><h4 class="text-sm font-medium text-gray-700 mb-1">المنطقة</h4><p class="text-gray-900">${u(i(k).region_ar||i(k).region_en)}</p></div>`):a("\x3c!----\x3e"),i(k).location_type_ar||i(k).location_type_en?a(`<div><h4 class="text-sm font-medium text-gray-700 mb-1">نوع الموقع</h4><p class="text-gray-900">${u(i(k).location_type_ar||i(k).location_type_en)}</p></div>`):a("\x3c!----\x3e"),i(k).destination_type_ar||i(k).destination_type_en?a(`<div><h4 class="text-sm font-medium text-gray-700 mb-1">نوع الوجهة</h4><p class="text-gray-900">${u(i(k).destination_type_ar||i(k).destination_type_en)}</p></div>`):a("\x3c!----\x3e"),i(k).coordinates?a(`<div><h4 class="text-sm font-medium text-gray-700 mb-1">الإحداثيات</h4><p class="text-gray-900 text-sm">${u((e=>{if(!e)return"";try{if("object"==typeof e)return`${e.latitude}, ${e.longitude}`;if("string"==typeof e){const t=JSON.parse(e);return`${t.latitude}, ${t.longitude}`}return""}catch(e){return console.error("Error parsing coordinates:",e),""}})(i(k).coordinates))}</p></div>`):a("\x3c!----\x3e"),a(`</div></div></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">معلومات النظام</h3><div class="space-y-3"><div class="flex justify-between"><span class="text-sm text-gray-600">معرف الوجهة</span><span class="text-sm font-medium text-gray-900">${u(i(k).id)}</span></div><div class="flex justify-between"><span class="text-sm text-gray-600">تاريخ الإنشاء</span><span class="text-sm font-medium text-gray-900">${u($(i(k).created_at))}</span></div><div class="flex justify-between"><span class="text-sm text-gray-600">آخر تحديث</span><span class="text-sm font-medium text-gray-900">${u($(i(k).updated_at))}</span></div></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">الإجراءات السريعة</h3><div class="space-y-3"><button class="${y([i(k).active?"bg-orange-100 text-orange-800 hover:bg-orange-200":"bg-green-100 text-green-800 hover:bg-green-200","w-full px-4 py-2 rounded-lg transition-colors"])}">${u(i(k).active?"إلغاء التفعيل":"تفعيل الوجهة")}</button><button class="w-full px-4 py-2 bg-red-100 text-red-800 rounded-lg hover:bg-red-200 transition-colors"> حذف الوجهة </button></div></div></div></div>`)):(a('<div class="text-center py-12">'),a(p(_,{name:"material-symbols:place",class:"h-16 w-16 text-gray-300 mx-auto mb-4"},null,d)),a('<h3 class="text-lg font-medium text-gray-900 mb-2">الوجهة غير موجودة</h3><p class="text-gray-500 mb-6">لم يتم العثور على الوجهة المطلوبة</p>'),a(p(w,{to:"/admin/destinations",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:o(((e,t,r,a)=>{if(!t)return[n(" العودة للقائمة ")];t(" العودة للقائمة ")})),_:1},d)),a("</div>")),a("</div>")}}},k=j.setup;j.setup=(e,t)=>{const r=d();return(r.modules||(r.modules=new Set)).add("pages/admin/destinations/[id].vue"),k?k(e,t):void 0};export{j as default};
//# sourceMappingURL=_id_.vue8.mjs.map
