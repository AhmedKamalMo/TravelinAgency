import{M as e}from"./nuxt-link.mjs";import{q as t,I as s}from"./index2.mjs";import{defineComponent as r,ref as l,reactive as a,computed as i,resolveComponent as o,mergeProps as n,unref as m,withAsyncContext as d,withCtx as c,createTextVNode as p,toDisplayString as u,useSSRContext as x}from"vue";import{ssrRenderAttrs as h,ssrRenderComponent as b,ssrInterpolate as g,ssrRenderAttr as v,ssrRenderClass as f,ssrIncludeBooleanAttr as y,ssrRenderList as w}from"vue/server-renderer";import{c as $}from"./useDestinations.mjs";import{useRoute as _}from"vue-router";import{m as j}from"./useWhatsApp.mjs";import{i as k,H as N,u as q}from"./server.mjs";import{G as D}from"./NuxtImg.vue2.mjs";import"@iconify/utils/lib/css/icon";import"@iconify/vue";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"node:module";import"ipx";import"node:path";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";const I=r({__name:"DestinationContactFormModal",__ssrInlineRender:!0,props:{destinationName:{}},emits:["close","submit"],setup(e,{emit:s}){const{t:r}=k();j();const d=e,c=l(!1),p=l(!1),u=l(!1),x=l(""),w=l(!1),$=a({name:"",phone:"",email:"",details:"",destinationName:d.destinationName}),_=a({name:"",phone:"",email:"",details:""}),N=i((()=>Object.entries(_).some((([e,t])=>""!==t))||["name","phone"].some((e=>!$[e]))));return(e,s,l,a)=>{const i=t,d=o("NotificationStatus");s(`<div${h(n({class:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/50 overflow-y-auto py-6"},a))}><div class="relative w-full max-w-2xl bg-white rounded-2xl shadow-xl p-6 md:p-8 max-h-[min(calc(100vh-2rem),42.7rem)] my-6 mt-14 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-400"><button class="absolute top-4 right-4 text-gray-400 hover:text-red-500 transition-colors" type="button">`),s(b(i,{name:"material-symbols:close",class:"w-6 h-6"},null,l)),s(`<span class="sr-only">${g(m(r)("common.close"))}</span></button>`),m(p)?(s('<div class="flex flex-col items-center justify-center py-8"><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4">'),s(b(i,{name:"material-symbols:check",class:"w-10 h-10 text-green-600"},null,l)),s(`</div><h3 class="text-xl font-bold text-gray-900 mb-2">${g(m(r)("home.destinations.destination_form.success_title"))}</h3><p class="text-gray-600 text-center mb-4">${g(m(r)("home.destinations.destination_form.success_message",{name:e.destinationName}))}</p>`),s(b(d,{sent:m(u),error:m(x),failed:m(w)},null,l)),s(`<button class="mt-6 rounded-xl bg-primary px-8 py-3 text-white hover:bg-primary-dark transition-colors">${g(m(r)("common.close"))}</button></div>`)):(s(`\x3c!--[--\x3e<div class="mb-8 mt-4"><h2 class="text-2xl font-bold mb-3 text-gray-900">${g(m(r)("home.destinations.destination_form.title",{name:e.destinationName}))}</h2><p class="text-gray-600">${g(m(r)("home.destinations.destination_form.description",{name:e.destinationName}))}</p><div class="mt-4 p-4 bg-primary/5 rounded-xl text-sm text-gray-600 flex items-start gap-2">`),s(b(i,{name:"material-symbols:schedule",class:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"},null,l)),s(`<p>${g(m(r)("home.destinations.destination_form.response_time"))}</p></div><div class="mt-4 p-4 bg-primary/5 rounded-xl text-sm text-gray-600 flex items-start gap-2">`),s(b(i,{name:"material-symbols:lightbulb-outline",class:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"},null,l)),s(`<p>${g(m(r)("home.destinations.destination_form.custom_package_note"))}</p></div></div><form class="space-y-6"><div><label for="name" class="block text-sm font-medium text-gray-700 mb-1 ltr:text-left rtl:text-right">${g(m(r)("home.destinations.destination_form.name"))}</label><div class="relative">`),s(b(i,{name:"material-symbols:person-outline",class:"absolute ltr:left-4 rtl:right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"},null,l)),s(`<input id="name"${v("value",m($).name)} type="text" required class="${f(["w-full px-4 py-3 ltr:pl-12 rtl:pr-12 rounded-xl border focus:ring-2 focus:ring-primary transition-colors",m(_).name?"border-red-500":"border-gray-300 focus:border-primary"])}"${v("placeholder",m(r)("home.destinations.destination_form.name_placeholder"))}></div>`),m(_).name?s(`<p class="mt-1 text-sm text-red-500 ltr:text-left rtl:text-right">${g(m(_).name)}</p>`):s("\x3c!----\x3e"),s(`</div><div><label for="phone" class="block text-sm font-medium text-gray-700 mb-1 ltr:text-left rtl:text-right">${g(m(r)("home.destinations.destination_form.phone"))}</label><div class="relative">`),s(b(i,{name:"material-symbols:call-outline",class:"absolute ltr:left-4 rtl:right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"},null,l)),s(`<input id="phone"${v("value",m($).phone)} type="text" required class="${f(["w-full px-4 py-3 ltr:pl-12 rtl:pr-12 rounded-xl border focus:ring-2 focus:ring-primary transition-colors",m(_).phone?"border-red-500":"border-gray-300 focus:border-primary"])}"${v("placeholder",m(r)("home.destinations.destination_form.phone_placeholder"))}></div>`),m(_).phone?s(`<p class="mt-1 text-sm text-red-500 ltr:text-left rtl:text-right">${g(m(_).phone)}</p>`):s("\x3c!----\x3e"),s(`</div><div><label for="email" class="block text-sm font-medium text-gray-700 mb-1 ltr:text-left rtl:text-right">${g(m(r)("home.destinations.destination_form.email"))}</label><div class="relative">`),s(b(i,{name:"material-symbols:mail-outline",class:"absolute ltr:left-4 rtl:right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"},null,l)),s(`<input id="email"${v("value",m($).email)} type="text" class="${f(["w-full px-4 py-3 ltr:pl-12 rtl:pr-12 rounded-xl border focus:ring-2 focus:ring-primary transition-colors"])}"${v("placeholder",m(r)("home.destinations.destination_form.email_placeholder"))}></div></div><div><label for="details" class="block text-sm font-medium text-gray-700 mb-1 ltr:text-left rtl:text-right">${g(m(r)("home.destinations.destination_form.request_details"))}</label><div class="relative">`),s(b(i,{name:"material-symbols:chat-outline",class:"absolute ltr:left-4 rtl:right-4 top-3 w-5 h-5 text-gray-400"},null,l)),s(`<textarea id="details" rows="4" class="w-full px-4 py-3 ltr:pl-12 rtl:pr-12 rounded-xl border focus:ring-2 focus:ring-primary transition-colors resize-none"${v("placeholder",m(r)("home.destinations.destination_form.request_details_placeholder"))}>${g(m($).details)}</textarea></div></div><button type="submit"${y(m(c)||m(N))?" disabled":""} class="${f([{"opacity-70 cursor-not-allowed":m(c)||m(N)},"w-full rounded-xl bg-primary px-6 py-3.5 text-white font-medium hover:bg-primary-dark transition-colors flex items-center justify-center"])}">`),m(c)?s('<span class="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"></span>'):s("\x3c!----\x3e"),s(` ${g(m(r)(m(c)?"common.sending":"home.destinations.destination_form.submit"))}</button></form>\x3c!--]--\x3e`)),s("</div></div>")}}}),S=r({__name:"[id]",__ssrInlineRender:!0,async setup(r){let a,o;const n=_(),{t:x,locale:f}=k(),{getWhatsAppUrl:y}=j(),{getDestinationById:S}=$(),C=l(!1),{data:z,pending:A,error:E}=([a,o]=d((()=>s(`destination-${n.params.id}`,(()=>{const e=S(n.params.id);if(!e)throw q({statusCode:404,message:"Destination not found"});return e})))),a=await a,o(),a),L=i((()=>{var e;return(null==(e=z.value)?void 0:e.name[f.value.slice(0,2)])||""})),W=i((()=>{var e;return(null==(e=z.value)?void 0:e.description[f.value.slice(0,2)])||""}));return N({title:i((()=>z.value?`${z.value.name[f.value.slice(0,2)]} | Wonder Land Agency`:"Loading...")),meta:[{name:"description",content:i((()=>{var e;return(null==(e=z.value)?void 0:e.description[f.value.slice(0,2)])||""}))}]}),(s,r,l,a)=>{var i,o;const n=e,d=D,$=t;r(`<div${h(a)}>`),m(A)?r(`<div class="flex justify-center items-center min-h-screen"><div class="animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"></div><span class="sr-only">${g(m(x)("common.loading"))}</span></div>`):m(E)?(r(`<div class="min-h-screen flex flex-col items-center justify-center px-4 text-center"><h1 class="text-2xl font-bold text-gray-900 mb-4">${g(m(x)("common.error"))}</h1><p class="text-gray-600 mb-8">${g(m(E).message)}</p>`),r(b(n,{to:"/",class:"rounded-full bg-primary px-6 py-3 text-white hover:bg-primary-dark transition-colors"},{default:c(((e,t,s,r)=>{if(!t)return[p(u(m(x)("common.back_home")),1)];t(`${g(m(x)("common.back_home"))}`)})),_:1},l)),r("</div>")):m(z)?(r('<div class="relative min-h-screen"><div class="relative h-[40vh] md:h-[60vh] w-full">'),r(b(d,{src:m(z).mainImage,class:"h-full w-full object-cover",alt:L.value,loading:"eager",width:"1920",height:"1080",format:"webp",quality:"90"},null,l)),r(`<div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div></div><div class="relative z-10 -mt-32 rounded-t-[2.5rem] bg-white px-4 pb-20 pt-12 md:px-8"><div class="mx-auto max-w-6xl"><h1 class="mb-4 text-4xl font-bold text-gray-900">${g(L.value)}</h1><p class="mb-12 text-lg text-gray-600 max-w-3xl">${g(W.value)}</p>`),null!=(i=m(z).touristSpots)&&i.length?(r('<section class="mb-16"><h2 class="text-2xl font-semibold mb-6 text-gray-900 flex items-center gap-2">'),r(b($,{name:"material-symbols:location-on",class:"h-6 w-6 text-primary"},null,l)),r(` ${g(m(x)("home.destinations.tourist_spots"))}</h2><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">\x3c!--[--\x3e`),w(m(z).touristSpots,(e=>{var t;r('<div class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100"><div class="relative h-48">'),r(b(d,{src:e.image||(null==(t=m(z).gallery)?void 0:t[0])||m(z).mainImage,alt:e.name[m(f).slice(0,2)],class:"w-full h-full object-cover",width:"600",height:"400",format:"webp",quality:"85"},null,l)),r(`</div><div class="p-6"><h3 class="text-xl font-semibold mb-3 text-gray-900">${g(e.name[m(f).slice(0,2)])}</h3><p class="text-gray-600">${g(e.description[m(f).slice(0,2)])}</p></div></div>`)})),r("\x3c!--]--\x3e</div></section>")):r("\x3c!----\x3e"),null!=(o=m(z).upcomingEvents)&&o.length?(r('<section class="mb-16"><h2 class="text-2xl font-semibold mb-6 text-gray-900 flex items-center gap-2">'),r(b($,{name:"material-symbols:calendar-month-outline",class:"h-6 w-6 text-primary"},null,l)),r(` ${g(m(x)("home.destinations.upcoming_events"))}</h2><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">\x3c!--[--\x3e`),w(m(z).upcomingEvents,(e=>{r('<div class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 p-6">'),e.image?(r('<div class="relative h-40 -mx-6 -mt-6 mb-6">'),r(b(d,{src:e.image,alt:e.title[m(f).slice(0,2)],class:"w-full h-full object-cover",width:"400",height:"300",format:"webp",quality:"85"},null,l)),r("</div>")):r("\x3c!----\x3e"),r(`<h3 class="text-xl font-semibold mb-3 text-gray-900">${g(e.title[m(f).slice(0,2)])}</h3><p class="text-gray-600 mb-4">${g(e.description[m(f).slice(0,2)])}</p><div class="flex items-center text-sm text-gray-500">`),r(b($,{name:"material-symbols:calendar-month-outline",class:"w-5 h-5 mr-2"},null,l)),r(` ${g(function(e){return new Date(e).toLocaleDateString(f.value.slice(0,2),{year:"numeric",month:"long",day:"numeric"})}(e.date))}</div></div>`)})),r("\x3c!--]--\x3e</div></section>")):r("\x3c!----\x3e"),r(`<section class="bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl p-6 sm:p-8 md:p-12 text-center"><h2 class="text-2xl sm:text-3xl font-semibold mb-3 sm:mb-4 text-gray-900">${g(m(x)("home.destinations.plan_your_trip"))}</h2><p class="text-gray-600 mb-6 sm:mb-8 max-w-2xl mx-auto text-base sm:text-lg">${g(m(x)("home.destinations.contact_description"))}</p><div class="flex flex-col sm:flex-row items-center justify-center gap-4"><button class="w-full sm:w-auto rounded-full bg-primary-500 px-6 sm:px-8 py-4 text-white hover:bg-primary-800 transition-colors text-base sm:text-lg font-medium shadow-lg hover:shadow-xl flex items-center justify-center gap-2 min-h-[44px]">`),r(b($,{name:"material-symbols:chat",class:"h-5 w-5"},null,l)),r(` ${g(m(x)("home.destinations.cta_button"))}</button>`),C.value?r(b(I,{destinationName:L.value,onClose:e=>C.value=!1},null,l)):r("\x3c!----\x3e"),r(`<a${v("href",m(y)(m(x)("whatsapp.messages.destination_interest",{name:L.value})))} target="_blank" rel="noopener noreferrer" class="w-full sm:w-auto rounded-full bg-[#25D366] px-6 sm:px-8 py-4 text-white hover:bg-[#128C7E] transition-colors text-base sm:text-lg font-medium shadow-lg hover:shadow-xl flex items-center justify-center gap-2 min-h-[44px]">`),r(b($,{name:"logos:whatsapp-icon",class:"w-5 h-5"},null,l)),r(` ${g(m(x)("buttons.whatsapp"))}</a></div></section></div></div></div>`)):r("\x3c!----\x3e"),r("</div>")}}}),C=S.setup;S.setup=(e,t)=>{const s=x();return(s.modules||(s.modules=new Set)).add("pages/destinations/[id].vue"),C?C(e,t):void 0};export{S as default};
//# sourceMappingURL=_id_.vue4.mjs.map
