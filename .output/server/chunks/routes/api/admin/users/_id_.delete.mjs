import{c as s,e as t,g as e}from"../../../../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"vue";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"ipx";import"node:path";const o=s((async s=>{var o,r;try{const i=await getServerSession(s);if(!(null==(o=null==i?void 0:i.user)?void 0:o.role)||!["admin"].includes(i.user.role))throw t({statusCode:403,statusMessage:"غير مصرح بالوصول - صلاحيات المدير مطلوبة"});const n=e(s,"id");if(!n)throw t({statusCode:400,statusMessage:"معرف المستخدم مطلوب"});if("1"===n)throw t({statusCode:400,statusMessage:"لا يمكن حذف المدير الرئيسي"});if((null==(r=i.user.id)?void 0:r.toString())===n)throw t({statusCode:400,statusMessage:"لا يمكن حذف حسابك الخاص"});return console.log(`Deleting user with ID: ${n}`),{success:!0,message:"تم حذف المستخدم بنجاح"}}catch(s){return console.error("Error deleting user:",s),{success:!1,error:s.message||"فشل في حذف المستخدم"}}}));export{o as default};
//# sourceMappingURL=_id_.delete.mjs.map
