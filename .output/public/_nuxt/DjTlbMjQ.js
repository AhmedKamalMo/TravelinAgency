import _ from"./CBGl2SH_.js";import{_ as k}from"./BRbu2fQj.js";import{g,c as V,o as b,b as t,a as u,k as f,l as p,w as U,i as n,v as m,h as s,T as x,U as E,j as N,e as S,t as q,J as B}from"./CvlND2yj.js";import{_ as C}from"./DcuaUXI9.js";import{u as c}from"./Cg_6Ly4o.js";import{u as M}from"./0ltj-c_F.js";import"./x_rD_Ya3.js";const T={class:"space-y-6"},I={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},P={class:"mt-4 sm:mt-0"},j={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},J={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},L={class:"md:col-span-2"},W={class:"flex items-center space-x-4 space-x-reverse"},$={class:"flex items-center"},h={class:"flex items-center justify-end space-x-4 space-x-reverse pt-6 border-t border-gray-200"},A=["disabled"],Y={__name:"create",setup(H){const l=g(!1),o=g({name_ar:"",name_en:"",description_ar:"",description_en:"",category:"international",image_url:"",active:!0,featured:!1}),y=a=>{const{showSuccess:e}=c();e("تم رفع الصورة","تم رفع الصورة بنجاح!")},v=a=>{const{showError:e}=c();e("خطأ في رفع الصورة",a.message||"حدث خطأ في رفع الصورة")},w=async()=>{const{showSuccess:a,showError:e,showWarning:d}=c();try{if(l.value=!0,!o.value.name_ar||!o.value.name_en||!o.value.description_ar||!o.value.description_en){d("حقول مطلوبة","يرجى ملء جميع الحقول المطلوبة");return}(await $fetch("/api/destinations",{method:"POST",body:o.value})).success?(a("تم الإنشاء بنجاح","تم إنشاء الوجهة بنجاح!"),await B("/admin/destinations")):e("فشل في الإنشاء","فشل في إنشاء الوجهة. يرجى المحاولة مرة أخرى.")}catch(i){console.error("خطأ في إنشاء الوجهة:",i),e("خطأ في الإنشاء","حدث خطأ في إنشاء الوجهة. يرجى المحاولة مرة أخرى.")}finally{l.value=!1}};return M({title:"إضافة وجهة جديدة - Wonder Land Admin",meta:[{name:"description",content:"إضافة وجهة سياحية جديدة"},{name:"robots",content:"noindex, nofollow"}]}),(a,e)=>{const d=_,i=k;return b(),V("div",T,[e[22]||(e[22]=t("div",{class:"h-16"},null,-1)),t("div",I,[e[9]||(e[9]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-900"},"إضافة وجهة جديدة"),t("p",{class:"mt-1 text-sm text-gray-600"},"إضافة وجهة سياحية جديدة إلى النظام")],-1)),t("div",P,[u(i,{to:"/admin/destinations",class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:f(()=>[u(d,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),e[8]||(e[8]=p(" العودة للقائمة "))]),_:1})])]),t("div",j,[t("form",{onSubmit:U(w,["prevent"]),class:"space-y-6"},[t("div",D,[t("div",null,[e[10]||(e[10]=t("label",{for:"name_ar",class:"block text-sm font-medium text-gray-700 mb-2"}," الاسم بالعربية * ",-1)),n(t("input",{id:"name_ar","onUpdate:modelValue":e[0]||(e[0]=r=>s(o).name_ar=r),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"أدخل اسم الوجهة بالعربية"},null,512),[[m,s(o).name_ar]])]),t("div",null,[e[11]||(e[11]=t("label",{for:"name_en",class:"block text-sm font-medium text-gray-700 mb-2"}," الاسم بالإنجليزية * ",-1)),n(t("input",{id:"name_en","onUpdate:modelValue":e[1]||(e[1]=r=>s(o).name_en=r),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter destination name in English"},null,512),[[m,s(o).name_en]])])]),t("div",G,[t("div",null,[e[12]||(e[12]=t("label",{for:"description_ar",class:"block text-sm font-medium text-gray-700 mb-2"}," الوصف بالعربية * ",-1)),n(t("textarea",{id:"description_ar","onUpdate:modelValue":e[2]||(e[2]=r=>s(o).description_ar=r),required:"",rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"أدخل وصف الوجهة بالعربية"},null,512),[[m,s(o).description_ar]])]),t("div",null,[e[13]||(e[13]=t("label",{for:"description_en",class:"block text-sm font-medium text-gray-700 mb-2"}," الوصف بالإنجليزية * ",-1)),n(t("textarea",{id:"description_en","onUpdate:modelValue":e[3]||(e[3]=r=>s(o).description_en=r),required:"",rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter destination description in English"},null,512),[[m,s(o).description_en]])])]),t("div",J,[t("div",null,[e[15]||(e[15]=t("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-2"}," نوع الوجهة * ",-1)),n(t("select",{id:"category","onUpdate:modelValue":e[4]||(e[4]=r=>s(o).category=r),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[14]||(e[14]=[t("option",{value:"international"},"عالمي",-1),t("option",{value:"saudi"},"سعودي",-1)]),512),[[x,s(o).category]])]),t("div",L,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," صورة الوجهة ",-1)),u(C,{modelValue:s(o).image_url,"onUpdate:modelValue":e[5]||(e[5]=r=>s(o).image_url=r),alt:"صورة الوجهة",onUploadComplete:y,onUploadError:v},null,8,["modelValue"]),e[17]||(e[17]=t("p",{class:"mt-2 text-xs text-gray-500"}," يمكنك رفع صورة JPG, PNG, JPEG بحجم أقصى 5MB ",-1))]),t("div",null,[e[19]||(e[19]=t("label",{for:"active",class:"block text-sm font-medium text-gray-700 mb-2"}," حالة الوجهة ",-1)),n(t("select",{id:"active","onUpdate:modelValue":e[6]||(e[6]=r=>s(o).active=r),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[18]||(e[18]=[t("option",{value:!0},"نشط",-1),t("option",{value:!1},"غير نشط",-1)]),512),[[x,s(o).active]])])]),t("div",W,[t("label",$,[n(t("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>s(o).featured=r),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[E,s(o).featured]]),e[20]||(e[20]=t("span",{class:"mr-2 text-sm text-gray-700"},"وجهة مميزة",-1))])]),t("div",h,[u(i,{to:"/admin/destinations",class:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},{default:f(()=>e[21]||(e[21]=[p(" إلغاء ")])),_:1}),t("button",{type:"submit",disabled:s(l),class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[s(l)?(b(),N(d,{key:0,name:"material-symbols:progress-activity",class:"animate-spin h-5 w-5 ml-2"})):S("",!0),p(" "+q(s(l)?"جاري الحفظ...":"حفظ الوجهة"),1)],8,A)])],32)])])}}};export{Y as default};
