import{aB as p,a6 as i}from"./D1nMFiHg.js";const l=p(async a=>{if(a.path.startsWith("/admin/"))return;const c=a.path.endsWith("/")?a.path:a.path+"/",s={"/":"","/packages/":"packages","/custom-package/":"custom-package","/about/":"about"}[c];if(s!==void 0)try{const t=require("fs"),e=require("path").join(process.cwd(),"page-statuses.json");if(t.existsSync(e)){const r=t.readFileSync(e,"utf-8"),u=JSON.parse(r),n={"":1,packages:2,"custom-package":3,about:4}[s],o=u[n.toString()];if(o==="draft"||o==="archived")throw i({statusCode:404,statusMessage:"Page Not Found"})}}catch(t){if(t.statusCode===404)throw t;console.warn("Page access middleware error:",t)}});export{l as default};
