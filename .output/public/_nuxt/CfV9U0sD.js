import V from"./CBGl2SH_.js";import{_ as T}from"./BRbu2fQj.js";import{d as C,g as f,B as j,c as M,o as N,b as s,a as y,k as q,l as x,h as l,H as z,t as u,i as r,v as d,Z as A,T as p,U as m,J as B}from"./CvlND2yj.js";import{u as D}from"./0ltj-c_F.js";const E={class:"space-y-6"},R={class:"flex items-center justify-between"},S={class:"flex items-center space-x-3 space-x-reverse"},G=["disabled"],L={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},P={class:"lg:col-span-2 space-y-6"},H={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},F={class:"mt-4"},I={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},O={class:"md:col-span-2"},W={class:"space-y-6"},Z={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},K={class:"space-y-4"},Q={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},X={class:"space-y-4"},Y={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},h={class:"space-y-3"},_={class:"flex items-center"},ee={class:"flex items-center"},se={class:"flex items-center"},le={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},oe={class:"space-y-4"},te={class:"space-y-2"},re={class:"flex items-center"},ne={class:"flex items-center"},de={class:"bg-blue-50 rounded-lg border border-blue-200 p-6"},ae={class:"space-y-2 text-sm text-blue-800"},ie={class:"flex justify-between"},ue={class:"flex justify-between"},pe={class:"flex justify-between"},be={class:"flex justify-between"},me={class:"flex justify-between"},ce=C({__name:"create",setup(ge){const b=f(!1),g=f(""),t=f({email:"",password:"",full_name:"",phone:"",role:"user",status:"active",bio:"",date_of_birth:"",gender:"male",nationality:"",address:"",city:"",country:"",postal_code:""}),n=f({language:"ar",timezone:"Asia/Riyadh",notifications:{email:!0,sms:!0,push:!0},privacy:{profile_visibility:"public",show_email:!1,show_phone:!1}}),v=j(()=>t.value.email&&t.value.password&&t.value.full_name&&t.value.password===g.value&&t.value.password.length>=6),c=async()=>{var a;try{b.value=!0;const e={...t.value,preferences:n.value},i=await $fetch("/api/admin/users",{method:"POST",body:e});if(i.success)console.log("تم إنشاء المستخدم بنجاح"),await B(`/admin/users/${(a=i.data)==null?void 0:a.id}/edit`);else throw new Error(i.error||"فشل في إنشاء المستخدم")}catch(e){console.error("Error creating user:",e)}finally{b.value=!1}},w=a=>({admin:"مدير",moderator:"مشرف",user:"مستخدم"})[a]||a,k=a=>({active:"نشط",inactive:"غير نشط",suspended:"معلق"})[a]||a;return D({title:"إضافة مستخدم جديد - Wonder Land Admin",meta:[{name:"description",content:"إنشاء حساب مستخدم جديد في النظام"},{name:"robots",content:"noindex, nofollow"}]}),(a,e)=>{const i=V,U=T;return N(),M("div",E,[s("div",R,[e[24]||(e[24]=s("div",null,[s("h1",{class:"text-2xl font-bold text-gray-900"},"إضافة مستخدم جديد"),s("p",{class:"text-gray-600 mt-1"},"إنشاء حساب مستخدم جديد في النظام")],-1)),s("div",S,[y(U,{to:"/admin/users",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},{default:q(()=>[y(i,{name:"material-symbols:arrow-back",class:"h-4 w-4 ml-2"}),e[23]||(e[23]=x(" العودة "))]),_:1}),s("button",{onClick:c,disabled:l(b)||!l(v),class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[y(i,{name:"material-symbols:add",class:z(["h-4 w-4 ml-2",{"animate-spin":l(b)}])},null,8,["class"]),x(" "+u(l(b)?"جاري الإنشاء...":"إنشاء المستخدم"),1)],8,G)])]),s("div",L,[s("div",P,[s("div",H,[e[35]||(e[35]=s("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"المعلومات الشخصية",-1)),s("div",$,[s("div",null,[e[25]||(e[25]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الاسم الكامل *",-1)),r(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>l(t).full_name=o),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"أدخل الاسم الكامل"},null,512),[[d,l(t).full_name]])]),s("div",null,[e[26]||(e[26]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"البريد الإلكتروني *",-1)),r(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>l(t).email=o),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"أدخل البريد الإلكتروني"},null,512),[[d,l(t).email]])]),s("div",null,[e[27]||(e[27]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"كلمة المرور *",-1)),r(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l(t).password=o),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"أدخل كلمة المرور"},null,512),[[d,l(t).password]])]),s("div",null,[e[28]||(e[28]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"تأكيد كلمة المرور *",-1)),r(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>A(g)?g.value=o:null),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"أعد إدخال كلمة المرور"},null,512),[[d,l(g)]])]),s("div",null,[e[29]||(e[29]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"رقم الهاتف",-1)),r(s("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>l(t).phone=o),type:"tel",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+966501234567"},null,512),[[d,l(t).phone]])]),s("div",null,[e[30]||(e[30]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"تاريخ الميلاد",-1)),r(s("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>l(t).date_of_birth=o),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[d,l(t).date_of_birth]])]),s("div",null,[e[32]||(e[32]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الجنس",-1)),r(s("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>l(t).gender=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[31]||(e[31]=[s("option",{value:""},"اختر الجنس",-1),s("option",{value:"male"},"ذكر",-1),s("option",{value:"female"},"أنثى",-1),s("option",{value:"other"},"آخر",-1)]),512),[[p,l(t).gender]])]),s("div",null,[e[33]||(e[33]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الجنسية",-1)),r(s("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>l(t).nationality=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"الجنسية"},null,512),[[d,l(t).nationality]])])]),s("div",F,[e[34]||(e[34]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"نبذة شخصية",-1)),r(s("textarea",{"onUpdate:modelValue":e[8]||(e[8]=o=>l(t).bio=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"أدخل نبذة شخصية"},null,512),[[d,l(t).bio]])])]),s("div",I,[e[40]||(e[40]=s("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"العنوان",-1)),s("div",J,[s("div",O,[e[36]||(e[36]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"العنوان الكامل",-1)),r(s("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>l(t).address=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"أدخل العنوان الكامل"},null,512),[[d,l(t).address]])]),s("div",null,[e[37]||(e[37]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"المدينة",-1)),r(s("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>l(t).city=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"المدينة"},null,512),[[d,l(t).city]])]),s("div",null,[e[38]||(e[38]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"البلد",-1)),r(s("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>l(t).country=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"البلد"},null,512),[[d,l(t).country]])]),s("div",null,[e[39]||(e[39]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الرمز البريدي",-1)),r(s("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>l(t).postal_code=o),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"الرمز البريدي"},null,512),[[d,l(t).postal_code]])])])])]),s("div",W,[s("div",Z,[e[45]||(e[45]=s("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"الحالة والدور",-1)),s("div",K,[s("div",null,[e[42]||(e[42]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الدور",-1)),r(s("select",{"onUpdate:modelValue":e[13]||(e[13]=o=>l(t).role=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[41]||(e[41]=[s("option",{value:"user"},"مستخدم",-1),s("option",{value:"moderator"},"مشرف",-1),s("option",{value:"admin"},"مدير",-1)]),512),[[p,l(t).role]])]),s("div",null,[e[44]||(e[44]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الحالة",-1)),r(s("select",{"onUpdate:modelValue":e[14]||(e[14]=o=>l(t).status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[43]||(e[43]=[s("option",{value:"active"},"نشط",-1),s("option",{value:"inactive"},"غير نشط",-1),s("option",{value:"suspended"},"معلق",-1)]),512),[[p,l(t).status]])])])]),s("div",Q,[e[50]||(e[50]=s("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"الإعدادات الافتراضية",-1)),s("div",X,[s("div",null,[e[47]||(e[47]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"اللغة",-1)),r(s("select",{"onUpdate:modelValue":e[15]||(e[15]=o=>l(n).language=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[46]||(e[46]=[s("option",{value:"ar"},"العربية",-1),s("option",{value:"en"},"English",-1)]),512),[[p,l(n).language]])]),s("div",null,[e[49]||(e[49]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"المنطقة الزمنية",-1)),r(s("select",{"onUpdate:modelValue":e[16]||(e[16]=o=>l(n).timezone=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[48]||(e[48]=[s("option",{value:"Asia/Riyadh"},"الرياض (GMT+3)",-1),s("option",{value:"Asia/Dubai"},"دبي (GMT+4)",-1),s("option",{value:"UTC"},"UTC (GMT+0)",-1)]),512),[[p,l(n).timezone]])])])]),s("div",Y,[e[54]||(e[54]=s("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"الإشعارات الافتراضية",-1)),s("div",h,[s("label",_,[r(s("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>l(n).notifications.email=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[m,l(n).notifications.email]]),e[51]||(e[51]=s("span",{class:"mr-2 text-sm text-gray-700"},"إشعارات البريد الإلكتروني",-1))]),s("label",ee,[r(s("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>l(n).notifications.sms=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[m,l(n).notifications.sms]]),e[52]||(e[52]=s("span",{class:"mr-2 text-sm text-gray-700"},"إشعارات الرسائل النصية",-1))]),s("label",se,[r(s("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>l(n).notifications.push=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[m,l(n).notifications.push]]),e[53]||(e[53]=s("span",{class:"mr-2 text-sm text-gray-700"},"الإشعارات الفورية",-1))])])]),s("div",le,[e[59]||(e[59]=s("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"الخصوصية الافتراضية",-1)),s("div",oe,[s("div",null,[e[56]||(e[56]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"رؤية الملف الشخصي",-1)),r(s("select",{"onUpdate:modelValue":e[20]||(e[20]=o=>l(n).privacy.profile_visibility=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[55]||(e[55]=[s("option",{value:"public"},"عام",-1),s("option",{value:"private"},"خاص",-1),s("option",{value:"friends"},"الأصدقاء فقط",-1)]),512),[[p,l(n).privacy.profile_visibility]])]),s("div",te,[s("label",re,[r(s("input",{"onUpdate:modelValue":e[21]||(e[21]=o=>l(n).privacy.show_email=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[m,l(n).privacy.show_email]]),e[57]||(e[57]=s("span",{class:"mr-2 text-sm text-gray-700"},"إظهار البريد الإلكتروني",-1))]),s("label",ne,[r(s("input",{"onUpdate:modelValue":e[22]||(e[22]=o=>l(n).privacy.show_phone=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[m,l(n).privacy.show_phone]]),e[58]||(e[58]=s("span",{class:"mr-2 text-sm text-gray-700"},"إظهار رقم الهاتف",-1))])])])]),s("div",de,[e[65]||(e[65]=s("h3",{class:"text-lg font-semibold text-blue-900 mb-3"},"ملخص المعلومات",-1)),s("div",ae,[s("div",ie,[e[60]||(e[60]=s("span",null,"الاسم:",-1)),s("span",null,u(l(t).full_name||"غير محدد"),1)]),s("div",ue,[e[61]||(e[61]=s("span",null,"البريد:",-1)),s("span",null,u(l(t).email||"غير محدد"),1)]),s("div",pe,[e[62]||(e[62]=s("span",null,"الدور:",-1)),s("span",null,u(w(l(t).role)),1)]),s("div",be,[e[63]||(e[63]=s("span",null,"الحالة:",-1)),s("span",null,u(k(l(t).status)),1)]),s("div",me,[e[64]||(e[64]=s("span",null,"الهاتف:",-1)),s("span",null,u(l(t).phone||"غير محدد"),1)])])])])])])}}});export{ce as default};
