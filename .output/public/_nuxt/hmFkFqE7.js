import S from"./jn7r9_3C.js";import{_ as D}from"./DyW0L63n.js";import{B as E,h,p as H,u as M,C as B,c as r,o as i,b as e,t as l,i as n,a,l as p,m,e as b,I as x,K as V}from"./Btm4-m5n.js";const A={class:"space-y-6"},I={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},P={class:"text-2xl font-bold text-gray-900"},j={class:"mt-4 sm:mt-0 flex space-x-3 space-x-reverse"},W={key:0,class:"flex justify-center items-center py-12"},z={key:1,class:"space-y-6"},K={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R={class:"text-gray-900"},U={class:"text-gray-900"},q={class:"text-gray-900"},F={class:"text-gray-900"},G={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},J={class:"mb-6"},Q={class:"prose max-w-none"},X=["innerHTML"],Y={class:"prose max-w-none"},Z=["innerHTML"],tt={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},st={key:0},ot={class:"text-gray-900"},nt={key:1},lt={class:"text-gray-900"},at={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},rt={class:"flex flex-wrap gap-3"},it={key:2,class:"text-center py-12"},pt={__name:"[id]",setup(dt){const u=E().params.id,s=h(null),c=h(!0),w=async()=>{try{c.value=!0;const o=await $fetch(`/api/content/${u}`);o.success&&o.page?s.value=o.page:s.value=null}catch(o){console.error("خطأ في تحميل الصفحة:",o),s.value=null}finally{c.value=!1}},k=async()=>{try{const o=s.value.status==="published"?"draft":"published";(await $fetch(`/api/content/${u}`,{method:"PUT",body:{status:o}})).success&&(s.value.status=o,console.log(`تم ${o==="published"?"نشر":"إلغاء نشر"} الصفحة بنجاح`))}catch(o){console.error("خطأ في تغيير حالة الصفحة:",o)}},T=async()=>{if(confirm("هل أنت متأكد من حذف هذه الصفحة؟ لا يمكن التراجع عن هذا الإجراء."))try{(await $fetch(`/api/content/${u}`,{method:"DELETE"})).success&&await V("/admin/content")}catch(o){console.error("خطأ في حذف الصفحة:",o)}},y=o=>o?new Date(o).toLocaleDateString("ar-SA"):"غير محدد",L=o=>({page:"صفحة",post:"مقال",news:"أخبار"})[o]||o,$=o=>({page:"bg-blue-100 text-blue-800",post:"bg-green-100 text-green-800",news:"bg-purple-100 text-purple-800"})[o]||"bg-gray-100 text-gray-800",C=o=>({published:"منشور",draft:"مسودة",archived:"مؤرشف"})[o]||o,N=o=>({published:"bg-green-100 text-green-800",draft:"bg-orange-100 text-orange-800",archived:"bg-gray-100 text-gray-800"})[o]||"bg-gray-100 text-gray-800";return H(()=>{w()}),M({title:B(()=>s.value?`${s.value.title_ar||s.value.title_en} - Wonder Land Admin`:"عرض الصفحة - Wonder Land Admin"),meta:[{name:"description",content:"عرض تفاصيل الصفحة"},{name:"robots",content:"noindex, nofollow"}]}),(o,t)=>{var f,_,v;const d=S,g=D;return i(),r("div",A,[t[22]||(t[22]=e("div",{class:"h-16"},null,-1)),e("div",I,[e("div",null,[e("h1",P,l(((f=n(s))==null?void 0:f.title_ar)||((_=n(s))==null?void 0:_.title_en)||"عرض الصفحة"),1),t[0]||(t[0]=e("p",{class:"mt-1 text-sm text-gray-600"},"عرض تفاصيل الصفحة",-1))]),e("div",j,[a(g,{to:`/admin/content/${(v=n(s))==null?void 0:v.id}/edit`,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:p(()=>[a(d,{name:"material-symbols:edit",class:"h-5 w-5 ml-2"}),t[1]||(t[1]=m(" تعديل "))]),_:1},8,["to"]),a(g,{to:"/admin/content",class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:p(()=>[a(d,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),t[2]||(t[2]=m(" العودة للقائمة "))]),_:1})])]),n(c)?(i(),r("div",W,[a(d,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"}),t[3]||(t[3]=e("span",{class:"mr-3 text-gray-600"},"جارٍ تحميل الصفحة...",-1))])):n(s)?(i(),r("div",z,[e("div",K,[t[10]||(t[10]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"المعلومات الأساسية",-1)),e("div",O,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"العنوان بالعربية",-1)),e("p",R,l(n(s).title_ar||"غير محدد"),1)]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"العنوان بالإنجليزية",-1)),e("p",U,l(n(s).title_en||"غير محدد"),1)]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"النوع",-1)),e("span",{class:x([$(n(s).type),"px-2 py-1 text-xs font-medium rounded-full"])},l(L(n(s).type)),3)]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"الحالة",-1)),e("span",{class:x([N(n(s).status),"px-2 py-1 text-xs font-medium rounded-full"])},l(C(n(s).status)),3)]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"تاريخ الإنشاء",-1)),e("p",q,l(y(n(s).created_at)),1)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"آخر تحديث",-1)),e("p",F,l(y(n(s).updated_at)),1)])])]),e("div",G,[t[13]||(t[13]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"المحتوى",-1)),e("div",J,[t[11]||(t[11]=e("h3",{class:"text-md font-medium text-gray-700 mb-2"},"المحتوى بالعربية",-1)),e("div",Q,[e("div",{innerHTML:n(s).content_ar||"لا يوجد محتوى",class:"text-gray-900"},null,8,X)])]),e("div",null,[t[12]||(t[12]=e("h3",{class:"text-md font-medium text-gray-700 mb-2"},"المحتوى بالإنجليزية",-1)),e("div",Y,[e("div",{innerHTML:n(s).content_en||"No content",class:"text-gray-900"},null,8,Z)])])]),n(s).meta_description_ar||n(s).meta_description_en?(i(),r("div",tt,[t[16]||(t[16]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"إعدادات SEO",-1)),e("div",et,[n(s).meta_description_ar?(i(),r("div",st,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"وصف الصفحة بالعربية",-1)),e("p",ot,l(n(s).meta_description_ar),1)])):b("",!0),n(s).meta_description_en?(i(),r("div",nt,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"وصف الصفحة بالإنجليزية",-1)),e("p",lt,l(n(s).meta_description_en),1)])):b("",!0)])])):b("",!0),e("div",at,[t[18]||(t[18]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"إجراءات سريعة",-1)),e("div",rt,[e("button",{onClick:k,class:x([n(s).status==="published"?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700","px-4 py-2 text-white rounded-lg transition-colors flex items-center"])},[a(d,{name:n(s).status==="published"?"material-symbols:visibility-off":"material-symbols:visibility",class:"h-4 w-4 ml-2"},null,8,["name"]),m(" "+l(n(s).status==="published"?"إلغاء النشر":"نشر"),1)],2),e("button",{onClick:T,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center"},[a(d,{name:"material-symbols:delete",class:"h-4 w-4 ml-2"}),t[17]||(t[17]=m(" حذف الصفحة "))])])])])):(i(),r("div",it,[a(d,{name:"material-symbols:article",class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"الصفحة غير موجودة",-1)),t[21]||(t[21]=e("p",{class:"text-gray-500 mb-6"},"لم يتم العثور على الصفحة المطلوبة",-1)),a(g,{to:"/admin/content",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:p(()=>t[19]||(t[19]=[m(" العودة للقائمة ")])),_:1})]))])}}};export{pt as default};
