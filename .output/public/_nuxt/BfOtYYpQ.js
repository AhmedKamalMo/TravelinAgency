import S from"./CBGl2SH_.js";import{_ as k}from"./BRbu2fQj.js";import{A as M,g as y,m as L,B as D,c as l,o as r,b as t,a as n,k as g,l as d,h as o,t as x,H,F as N,r as A,j as B,C as $,D as j}from"./CvlND2yj.js";import{u as P}from"./0ltj-c_F.js";const T={class:"min-h-screen bg-gray-50"},I={class:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between"},V={class:"flex items-center space-x-4 space-x-reverse"},E={class:"flex items-center space-x-3 space-x-reverse"},F={key:0,class:"flex justify-center items-center py-12"},W={key:1,class:"max-w-6xl mx-auto p-6"},z={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6"},G={class:"flex items-center justify-between"},R={class:"text-2xl font-bold text-gray-900"},q={class:"text-sm text-gray-600 mt-1"},J={class:"text-sm text-gray-500"},K={class:"space-y-6"},O={key:0},Q={key:1,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},U=["innerHTML"],X={key:2,class:"text-center py-12 bg-white rounded-lg border-2 border-dashed border-gray-300"},Y={key:2,class:"text-center py-12"},ne={__name:"[id]",setup(Z){const u=M().params.id,s=y(null),p=y(!0),b=async()=>{try{p.value=!0;const a=await $fetch(`/api/cms/editor/${u}`);a.success&&a.page?s.value=a.page:s.value=null}catch(a){console.error("Error loading page:",a),s.value=null}finally{p.value=!1}},f=()=>{b()},v=a=>({hero:"CMSHero",about:"CMSAbout",services:"CMSServices",testimonials:"CMSTestimonials",contact:"CMSContact",heading:"CMSHeading",paragraph:"CMSParagraph",image:"CMSImage"})[a]||"CMSGeneric",_=a=>new Date(a).toLocaleDateString("ar-SA"),h=a=>({published:"منشور",draft:"مسودة",archived:"مؤرشف"})[a]||a,w=a=>({published:"bg-green-100 text-green-800",draft:"bg-orange-100 text-orange-800",archived:"bg-gray-100 text-gray-800"})[a]||"bg-gray-100 text-gray-800";return L(()=>{b()}),P({title:D(()=>s.value?`معاينة ${s.value.title_ar||s.value.title} - Wonder Land Admin`:"معاينة الصفحة - Wonder Land Admin"),meta:[{name:"description",content:"معاينة الصفحة قبل النشر"},{name:"robots",content:"noindex, nofollow"}]}),(a,e)=>{const i=S,m=k;return r(),l("div",T,[e[13]||(e[13]=t("div",{class:"h-16"},null,-1)),t("div",I,[t("div",V,[n(m,{to:"/admin/content",class:"flex items-center text-gray-600 hover:text-gray-900"},{default:g(()=>[n(i,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),e[0]||(e[0]=d(" العودة للإدارة "))]),_:1}),e[1]||(e[1]=t("div",{class:"h-6 w-px bg-gray-300"},null,-1)),e[2]||(e[2]=t("h1",{class:"text-lg font-semibold text-gray-900"},"معاينة الصفحة",-1))]),t("div",E,[n(m,{to:`/admin/content/editor?page=${o(u)}`,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center"},{default:g(()=>[n(i,{name:"material-symbols:edit",class:"h-4 w-4 ml-2"}),e[3]||(e[3]=d(" تحرير "))]),_:1},8,["to"]),t("button",{onClick:f,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center"},[n(i,{name:"material-symbols:refresh",class:"h-4 w-4 ml-2"}),e[4]||(e[4]=d(" تحديث "))])])]),o(p)?(r(),l("div",F,[n(i,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"}),e[5]||(e[5]=t("span",{class:"mr-3 text-gray-600"},"جارٍ تحميل الصفحة...",-1))])):o(s)?(r(),l("div",W,[t("div",z,[t("div",G,[t("div",null,[t("h1",R,x(o(s).title_ar||o(s).title),1),t("p",q,[e[6]||(e[6]=d(" الحالة: ")),t("span",{class:H([w(o(s).status),"px-2 py-1 text-xs font-medium rounded-full"])},x(h(o(s).status)),3)])]),t("div",J," آخر تحديث: "+x(_(o(s).updated_at)),1)])]),t("div",K,[o(s).components&&o(s).components.length>0?(r(),l("div",O,[(r(!0),l(N,null,A(o(s).components,(c,C)=>(r(),l("div",{key:c.id||C,class:"mb-6"},[(r(),B(j(v(c.type)),$({ref_for:!0},c.props,{class:c.classes}),null,16,["class"]))]))),128))])):o(s).content_ar||o(s).content_en?(r(),l("div",Q,[t("div",{class:"prose max-w-none",innerHTML:o(s).content_ar||o(s).content_en},null,8,U)])):(r(),l("div",X,[n(i,{name:"material-symbols:article",class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e[8]||(e[8]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"لا يوجد محتوى",-1)),e[9]||(e[9]=t("p",{class:"text-gray-500 mb-6"},"هذه الصفحة لا تحتوي على أي محتوى",-1)),n(m,{to:`/admin/content/editor?page=${o(u)}`,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:g(()=>[n(i,{name:"material-symbols:edit",class:"h-5 w-5 ml-2"}),e[7]||(e[7]=d(" إضافة محتوى "))]),_:1},8,["to"])]))])])):(r(),l("div",Y,[n(i,{name:"material-symbols:article",class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"الصفحة غير موجودة",-1)),e[12]||(e[12]=t("p",{class:"text-gray-500 mb-6"},"لم يتم العثور على الصفحة المطلوبة",-1)),n(m,{to:"/admin/content",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:g(()=>e[10]||(e[10]=[d(" العودة للقائمة ")])),_:1})]))])}}};export{ne as default};
