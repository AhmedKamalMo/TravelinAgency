{"file":"CMSContact.vue.mjs","mappings":"0pBAuLM,KAAA,CAAE,WAAAA,CAAW,EAAIC,EAAO,EAmBxBC,EAAOC,EAAI,CACf,KAAM,GACN,MAAO,GACP,QAAS,GACT,QAAS,EAAA,CACV,EAEKC,EAAaD,EAAI,EAAK","names":["getSetting","useCMS","form","ref","submitting"],"sources":["../../../../../components/cms/CMSContact.vue"],"sourcesContent":["<template>\r\n  <section \r\n    class=\"py-16 md:py-24\"\r\n    :style=\"{\r\n      backgroundColor: section.background_color || '#ffffff'\r\n    }\"\r\n  >\r\n    <div class=\"container mx-auto px-4\">\r\n      <div class=\"max-w-6xl mx-auto\">\r\n        <!-- Section Header -->\r\n        <div v-if=\"section.title || section.subtitle\" class=\"text-center mb-16\">\r\n          <h2 \r\n            v-if=\"section.title\"\r\n            class=\"text-3xl md:text-4xl font-bold mb-4\"\r\n            :style=\"{ color: section.text_color || '#1f2937' }\"\r\n          >\r\n            {{ section.title }}\r\n          </h2>\r\n          <p \r\n            v-if=\"section.subtitle\"\r\n            class=\"text-lg text-gray-600 max-w-2xl mx-auto\"\r\n          >\r\n            {{ section.subtitle }}\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\r\n          <!-- Contact Information -->\r\n          <div>\r\n            <h3 class=\"text-2xl font-semibold mb-8 text-gray-900\">معلومات التواصل</h3>\r\n            \r\n            <!-- Contact Cards -->\r\n            <div class=\"space-y-6\">\r\n              <div class=\"flex items-start\">\r\n                <div class=\"p-3 bg-blue-100 rounded-lg ml-4\">\r\n                  <Icon name=\"material-symbols:location-on\" class=\"h-6 w-6 text-blue-600\" />\r\n                </div>\r\n                <div>\r\n                  <h4 class=\"font-semibold text-gray-900 mb-2\">العنوان</h4>\r\n                  <p class=\"text-gray-600\">{{ getSetting('contact', 'contact_address', 'الرياض، المملكة العربية السعودية') }}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"flex items-start\">\r\n                <div class=\"p-3 bg-green-100 rounded-lg ml-4\">\r\n                  <Icon name=\"material-symbols:phone\" class=\"h-6 w-6 text-green-600\" />\r\n                </div>\r\n                <div>\r\n                  <h4 class=\"font-semibold text-gray-900 mb-2\">الهاتف</h4>\r\n                  <p class=\"text-gray-600\">{{ getSetting('contact', 'contact_phone', '+966 50 123 4567') }}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"flex items-start\">\r\n                <div class=\"p-3 bg-purple-100 rounded-lg ml-4\">\r\n                  <Icon name=\"material-symbols:email\" class=\"h-6 w-6 text-purple-600\" />\r\n                </div>\r\n                <div>\r\n                  <h4 class=\"font-semibold text-gray-900 mb-2\">البريد الإلكتروني</h4>\r\n                  <p class=\"text-gray-600\">{{ getSetting('contact', 'contact_email', 'info@wonderland.com') }}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Social Media -->\r\n            <div class=\"mt-8\">\r\n              <h4 class=\"font-semibold text-gray-900 mb-4\">تابعنا على</h4>\r\n              <div class=\"flex space-x-4 space-x-reverse\">\r\n                <a\r\n                  v-if=\"getSetting('social', 'social_facebook')\"\r\n                  :href=\"getSetting('social', 'social_facebook')\"\r\n                  target=\"_blank\"\r\n                  class=\"p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n                >\r\n                  <Icon name=\"material-symbols:facebook\" class=\"h-6 w-6\" />\r\n                </a>\r\n                <a\r\n                  v-if=\"getSetting('social', 'social_twitter')\"\r\n                  :href=\"getSetting('social', 'social_twitter')\"\r\n                  target=\"_blank\"\r\n                  class=\"p-3 bg-blue-400 text-white rounded-lg hover:bg-blue-500 transition-colors\"\r\n                >\r\n                  <Icon name=\"material-symbols:twitter\" class=\"h-6 w-6\" />\r\n                </a>\r\n                <a\r\n                  v-if=\"getSetting('social', 'social_instagram')\"\r\n                  :href=\"getSetting('social', 'social_instagram')\"\r\n                  target=\"_blank\"\r\n                  class=\"p-3 bg-pink-600 text-white rounded-lg hover:bg-pink-700 transition-colors\"\r\n                >\r\n                  <Icon name=\"material-symbols:instagram\" class=\"h-6 w-6\" />\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Contact Form -->\r\n          <div>\r\n            <h3 class=\"text-2xl font-semibold mb-8 text-gray-900\">أرسل لنا رسالة</h3>\r\n            \r\n            <form @submit.prevent=\"submitForm\" class=\"space-y-4\">\r\n              <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">الاسم</label>\r\n                  <input\r\n                    v-model=\"form.name\"\r\n                    type=\"text\"\r\n                    required\r\n                    class=\"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary transition-colors text-sm\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 mb-1\">البريد الإلكتروني</label>\r\n                  <input\r\n                    v-model=\"form.email\"\r\n                    type=\"email\"\r\n                    required\r\n                    class=\"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary transition-colors text-sm\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">الموضوع</label>\r\n                <input\r\n                  v-model=\"form.subject\"\r\n                  type=\"text\"\r\n                  required\r\n                  class=\"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary transition-colors text-sm\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label class=\"block text-sm font-medium text-gray-700 mb-1\">الرسالة</label>\r\n                <textarea\r\n                  v-model=\"form.message\"\r\n                  rows=\"4\"\r\n                  required\r\n                  class=\"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-1 focus:ring-primary focus:border-primary transition-colors text-sm resize-none\"\r\n                ></textarea>\r\n              </div>\r\n\r\n              <!-- Success Message -->\r\n              <div v-if=\"showSuccess\" class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n                <div class=\"flex items-center gap-3\">\r\n                  <Icon name=\"material-symbols:check-circle\" class=\"h-6 w-6 text-green-600\" />\r\n                  <div>\r\n                    <h4 class=\"text-green-800 font-medium text-sm\">تم الإرسال بنجاح!</h4>\r\n                    <p class=\"text-green-700 text-xs mt-1\">شكراً لك! تم إرسال رسالتك وسنتواصل معك قريباً.</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Error Message -->\r\n              <div v-if=\"showError\" class=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n                <div class=\"flex items-center gap-3\">\r\n                  <Icon name=\"material-symbols:error\" class=\"h-6 w-6 text-red-600\" />\r\n                  <div>\r\n                    <h4 class=\"text-red-800 font-medium text-sm\">حدث خطأ</h4>\r\n                    <p class=\"text-red-700 text-xs mt-1\">عذراً، حدث خطأ في إرسال الرسالة. يرجى المحاولة مرة أخرى.</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div class=\"pt-2\">\r\n                <button\r\n                  type=\"submit\"\r\n                  :disabled=\"submitting\"\r\n                  class=\"w-full bg-gradient-to-r from-primary to-primary-dark text-white py-3 px-6 rounded-lg hover:from-primary-dark hover:to-primary transition-all duration-200 disabled:opacity-50 flex items-center justify-center gap-2\"\r\n                >\r\n                  <Icon v-if=\"submitting\" name=\"material-symbols:refresh\" class=\"h-4 w-4 animate-spin\" />\r\n                  <span>{{ submitting ? 'جاري الإرسال...' : 'إرسال الرسالة' }}</span>\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup>\r\nconst { getSetting } = useCMS()\r\nconst { playSuccessSound, playErrorSound } = useSoundNotifications()\r\n\r\nconst props = defineProps({\r\n  section: {\r\n    type: Object,\r\n    required: true,\r\n    default: () => ({\r\n      id: 0,\r\n      section_type: 'contact',\r\n      title: '',\r\n      subtitle: '',\r\n      background_color: '#ffffff',\r\n      text_color: '#000000'\r\n    })\r\n  }\r\n})\r\n\r\n// Form state\r\nconst form = ref({\r\n  name: '',\r\n  email: '',\r\n  subject: '',\r\n  message: ''\r\n})\r\n\r\nconst submitting = ref(false)\r\n\r\n// Methods\r\nconst submitForm = async () => {\r\n  try {\r\n    submitting.value = true\r\n    \r\n    // Submit to contact messages API\r\n    const result = await $fetch('/api/contact-messages', {\r\n      method: 'POST',\r\n      body: {\r\n        name: form.value.name,\r\n        email: form.value.email,\r\n        phone: '', // CMS form doesn't have phone field\r\n        subject: form.value.subject,\r\n        message: form.value.message,\r\n        type: 'general',\r\n        source: 'cms'\r\n      }\r\n    })\r\n\r\n    if (result.success) {\r\n      // Show success message and play sound\r\n      showSuccess.value = true\r\n      playSuccessSound()\r\n      \r\n      // Reset form\r\n      form.value = {\r\n        name: '',\r\n        email: '',\r\n        subject: '',\r\n        message: ''\r\n      }\r\n    } else {\r\n      showError.value = true\r\n      playErrorSound()\r\n    }\r\n  } catch (error) {\r\n    console.error('Error submitting form:', error)\r\n    playErrorSound()\r\n  } finally {\r\n    submitting.value = false\r\n  }\r\n}\r\n</script>\r\n"],"version":3}