{"version":3,"file":"PackageCard.vue2.mjs","sources":["../../../../../components/packages/PackageCard.vue"],"sourcesContent":["<template>\n  <NuxtLink \n    :to=\"localpath(`/packages/${props.package_.id}`)\"\n    class=\"group relative flex h-full flex-col overflow-hidden rounded-xl bg-surface shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] hover:shadow-[0_8px_25px_-5px_rgba(0,0,0,0.1),0_10px_20px_-5px_rgba(0,0,0,0.04)] transition-all duration-300\"\n  >\n        <div class=\"relative h-[280px] overflow-hidden\">\n          <NuxtImg\n            :src=\"props.package_.image_url\"\n            class=\"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105\"\n            :alt=\"props.package_.title_en\"\n            width=\"800\"\n            height=\"600\"\n            loading=\"lazy\"\n            sizes=\"sm:100vw md:50vw lg:33vw\"\n            placeholder\n            @error=\"handleImageError\"\n          />\n      <div class=\"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent\"></div>\n      \n      <!-- Hotel Grade Badge -->\n      <div v-if=\"props.package_.included_options && props.package_.included_options.hotel && props.package_.included_options.hotelGrade\" class=\"absolute top-4 left-4 rtl:left-auto rtl:right-4 z-10\">\n        <span class=\"flex items-center gap-1 bg-white/90 text-yellow-600 rounded-full px-4 py-2 text-sm font-semibold shadow\">\n          <Icon name=\"material-symbols:star\" class=\"w-4 h-4 text-yellow-400\" />\n          {{$t('packages.details.hotel_grade', {grade: props.package_.included_options.hotelGrade})}}\n        </span>\n      </div>\n      <!-- Price Tag -->\n      <div class=\"absolute top-4 right-4 rtl:right-auto rtl:left-4\">\n        <div class=\"bg-surface/95 backdrop-blur-sm px-4 py-2 rounded-full shadow-[0_2px_10px_-3px_rgba(0,0,0,0.1)] transform transition-transform duration-300 hover:scale-105 flex flex-col items-center\">\n          <span class=\"text-primary font-medium tracking-wide whitespace-nowrap flex items-center gap-1\">\n            <SaudiRyialSymbol :size=\"16\" class=\"text-primary\" />\n            {{ props.package_.price.toLocaleString() }}\n            <span class=\"text-sm text-gray-700 font-normal\">{{$t('packages.details.per_person')}}</span>\n            <VTooltip :triggers=\"['hover', 'focus']\" placement=\"top\">\n              <Icon name=\"material-symbols:info-outline\" class=\"w-4 h-4 text-gray-400 cursor-pointer\" />\n              <template #popper>\n                <div class=\"bg-gray-900 text-white text-xs px-3 py-2 rounded-lg shadow-lg max-w-xs text-center\">\n                  {{$t('packages.details.price_info_tooltip')}}\n                </div>\n              </template>\n            </VTooltip>\n          </span>\n        </div>\n      </div>\n\n      <!-- Bottom Tags -->\n      <div class=\"absolute bottom-4 left-4 right-4 flex flex-wrap gap-2\">\n        <!-- Duration -->\n        <div class=\"bg-primary/90 backdrop-blur-sm px-3 py-1.5 rounded-full text-sm font-medium text-white transform transition-transform duration-300 hover:scale-105 flex items-center gap-1.5\">\n          <Icon name=\"material-symbols:schedule-outline\" class=\"h-4 w-4\" />\n          {{ $t('packages.details.duration', { count: props.package_.duration_days }) }}\n        </div>\n        \n        <!-- Travel Period -->\n        <div v-if=\"props.package_.travel_period\" class=\"bg-surface/20 backdrop-blur-sm px-3 py-1.5 rounded-full text-sm text-white flex items-center gap-1.5 transform transition-transform duration-300 hover:scale-105\">\n          <Icon name=\"material-symbols:calendar-month-outline\" class=\"h-4 w-4\" />\n          <p class=\"text-gray-100\">\n             {{ props.package_.travel_period }}\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"flex flex-1 flex-col p-6\">\n      <h3 class=\"text-xl font-semibold mb-2 text-stone-750 transition-colors duration-300 group-hover:text-stone-950\">\n        {{ locale === 'ar-SA' ? props.package_.title_ar : props.package_.title_en }}\n      </h3>\n      <p class=\"mb-4 text-sm text-gray-800 line-clamp-2\">\n        {{ locale === 'ar-SA' ? props.package_.description_ar : props.package_.description_en }}\n      </p>\n      <div class=\"mt-auto flex justify-between items-center\">\n        <!-- Included Options Icons -->\n        <div v-if=\"props.package_.included_options\" class=\"flex items-center gap-3\">\n          <FlightIcon v-if=\"props.package_.included_options.flight\" :size=\"24\" class=\"text-primary\" />\n          <Icon v-if=\"props.package_.included_options.hotel\" name=\"material-symbols:hotel-outline\" class=\"h-6 w-6 text-primary\" />\n          <Icon v-if=\"props.package_.included_options.transportation\" name=\"material-symbols:directions-car-outline\" class=\"h-6 w-6 text-primary\" />\n        </div>\n        <span class=\"text-primary font-medium text-sm group-hover:translate-x-1 rtl:group-hover:-translate-x-1 transition-transform\">\n          {{ locale === 'ar-SA' ? $t('common.view_details')+ ' ←' : $t('common.view_details') + ' →' }}\n        </span>\n      </div>\n    </div>\n  </NuxtLink>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Package } from '~/composables/usePackages'\nimport SaudiRyialSymbol from '~/components/ui/icons/SaudiRyialSymbol.vue'\nimport FlightIcon from '~/components/ui/icons/FlightIcon.vue'\n\n// Define props first\nconst props = defineProps<{\n  package_: Package\n}>()\nconst {locale} = useI18n()\nconst localpath = useLocalePath()\n\n// Handle image loading errors\nconst handleImageError = (event: Event) => {\n  console.warn('Image failed to load:', props.package_.image_url)\n  const img = event.target as HTMLImageElement\n  if (img) {\n    // Try fallback to original image without IPX optimization\n    const originalSrc = props.package_.image_url\n    if (originalSrc && !originalSrc.includes('_ipx')) {\n      // Try the old path if new path fails\n      if (originalSrc.includes('/imported/')) {\n        const filename = originalSrc.split('/').pop()\n        const oldPath = `/images/packages/${filename}`\n        img.src = oldPath\n      } else {\n        img.src = originalSrc\n      }\n    } else {\n      // Ultimate fallback to placeholder\n      img.src = '/images/placeholder.svg'\n    }\n  }\n}\n</script>"],"names":["props","__props","locale","useI18n","localpath","useLocalePath","handleImageError","event","img","originalSrc","oldPath"],"mappings":"whCA2FA,MAAMA,EAAQC,EAGR,CAAC,OAAAC,CAAM,EAAIC,EAAQ,EACnBC,EAAYC,EAAc,EAG1BC,EAAoBC,GAAiB,CACzC,QAAQ,KAAK,wBAAyBP,EAAM,SAAS,SAAS,EAC9D,MAAMQ,EAAMD,EAAM,OAClB,GAAIC,EAAK,CAED,MAAAC,EAAcT,EAAM,SAAS,UACnC,GAAIS,GAAe,CAACA,EAAY,SAAS,MAAM,EAEzC,GAAAA,EAAY,SAAS,YAAY,EAAG,CAEhC,MAAAC,EAAU,oBADCD,EAAY,MAAM,GAAG,EAAE,IAAI,CACA,GAC5CD,EAAI,IAAME,CAAA,MAEVF,EAAI,IAAMC,OAIZD,EAAI,IAAM,yBACZ,CAEJ"}