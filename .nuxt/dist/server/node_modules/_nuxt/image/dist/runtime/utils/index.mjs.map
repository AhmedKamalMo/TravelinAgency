{"version":3,"file":"index.mjs","sources":["../../../../../../../../../node_modules/@nuxt/image/dist/runtime/utils/index.js"],"sourcesContent":["export default function imageFetch(url) {\n  return fetch(cleanDoubleSlashes(url));\n}\nexport function getInt(x) {\n  if (typeof x === \"number\") {\n    return x;\n  }\n  if (typeof x === \"string\") {\n    return Number.parseInt(x, 10);\n  }\n  return void 0;\n}\nexport function getFileExtension(url = \"\") {\n  const extension = url.split(/[?#]/).shift().split(\"/\").pop().split(\".\").pop();\n  return extension;\n}\nexport function cleanDoubleSlashes(path = \"\") {\n  return path.replace(/(https?:\\/\\/)|(\\/)+/g, \"$1$2\");\n}\nexport function createMapper(map) {\n  return (key) => {\n    return key ? map[key] || key : map.missingValue;\n  };\n}\nexport function createOperationsGenerator({ formatter, keyMap, joinWith = \"/\", valueMap } = {}) {\n  if (!formatter) {\n    formatter = (key, value) => `${key}=${value}`;\n  }\n  if (keyMap && typeof keyMap !== \"function\") {\n    keyMap = createMapper(keyMap);\n  }\n  const map = valueMap || {};\n  Object.keys(map).forEach((valueKey) => {\n    if (typeof map[valueKey] !== \"function\") {\n      map[valueKey] = createMapper(map[valueKey]);\n    }\n  });\n  return (modifiers = {}) => {\n    const operations = Object.entries(modifiers).filter(([_, value]) => typeof value !== \"undefined\").map(([key, value]) => {\n      const mapper = map[key];\n      if (typeof mapper === \"function\") {\n        value = mapper(modifiers[key]);\n      }\n      key = typeof keyMap === \"function\" ? keyMap(key) : key;\n      return formatter(key, value);\n    });\n    return operations.join(joinWith);\n  };\n}\nexport function renderAttributesToString(attributes = {}) {\n  return Object.entries(attributes).map(([key, value]) => value ? `${key}=\"${value}\"` : \"\").filter(Boolean).join(\" \");\n}\nexport function renderTag(tag, attrs, contents) {\n  const html = `<${tag} ${renderAttributesToString(attrs)}>`;\n  if (!contents) {\n    return html;\n  }\n  return html + contents + `</${tag}>`;\n}\nexport function generateAlt(src = \"\") {\n  return src.split(/[?#]/).shift().split(\"/\").pop().split(\".\").shift();\n}\nexport function parseSize(input = \"\") {\n  if (typeof input === \"number\") {\n    return input;\n  }\n  if (typeof input === \"string\") {\n    if (input.replace(\"px\", \"\").match(/^\\d+$/g)) {\n      return Number.parseInt(input, 10);\n    }\n  }\n}\nexport function parseDensities(input = \"\") {\n  if (input === void 0 || !input.length) {\n    return [];\n  }\n  const densities = /* @__PURE__ */ new Set();\n  for (const density of input.split(\" \")) {\n    const d = Number.parseInt(density.replace(\"x\", \"\"));\n    if (d) {\n      densities.add(d);\n    }\n  }\n  return Array.from(densities);\n}\nexport function checkDensities(densities) {\n  if (densities.length === 0) {\n    throw new Error(\"`densities` must not be empty, configure to `1` to render regular size only (DPR 1.0)\");\n  }\n  if (import.meta.dev && Array.from(densities).some((d) => d > 2)) {\n    const _densities = densities;\n    if (!_densities._warned) {\n      console.warn(\"[nuxt] [image] Density values above `2` are not recommended. See https://observablehq.com/@eeeps/visual-acuity-and-device-pixel-ratio.\");\n    }\n    _densities._warned = true;\n  }\n}\nexport function parseSizes(input) {\n  const sizes = {};\n  if (typeof input === \"string\") {\n    for (const entry of input.split(/[\\s,]+/).filter((e) => e)) {\n      const s = entry.split(\":\");\n      if (s.length !== 2) {\n        sizes[\"1px\"] = s[0].trim();\n      } else {\n        sizes[s[0].trim()] = s[1].trim();\n      }\n    }\n  } else {\n    Object.assign(sizes, input);\n  }\n  return sizes;\n}\n"],"names":["createMapper","map","key","createOperationsGenerator","formatter","keyMap","joinWith","valueMap","value","valueKey","modifiers","_","mapper","parseSize","input","parseDensities","densities","density","d","checkDensities","parseSizes","sizes","entry","e","s"],"mappings":"AAmBO,SAASA,EAAaC,EAAK,CAChC,OAAQC,GACCA,EAAMD,EAAIC,CAAG,GAAKA,EAAMD,EAAI,YAEvC,CACO,SAASE,EAA0B,CAAE,UAAAC,EAAW,OAAAC,EAAQ,SAAAC,EAAW,IAAK,SAAAC,CAAU,EAAG,GAAI,CACzFH,IACHA,EAAY,CAACF,EAAKM,IAAU,GAAGN,CAAG,IAAIM,CAAK,IAEzCH,GAAU,OAAOA,GAAW,aAC9BA,EAASL,EAAaK,CAAM,GAE9B,MAAMJ,EAAMM,GAAY,CAAE,EAC1B,cAAO,KAAKN,CAAG,EAAE,QAASQ,GAAa,CACjC,OAAOR,EAAIQ,CAAQ,GAAM,aAC3BR,EAAIQ,CAAQ,EAAIT,EAAaC,EAAIQ,CAAQ,CAAC,EAEhD,CAAG,EACM,CAACC,EAAY,KACC,OAAO,QAAQA,CAAS,EAAE,OAAO,CAAC,CAACC,EAAGH,CAAK,IAAM,OAAOA,EAAU,GAAW,EAAE,IAAI,CAAC,CAACN,EAAKM,CAAK,IAAM,CACtH,MAAMI,EAASX,EAAIC,CAAG,EACtB,OAAI,OAAOU,GAAW,aACpBJ,EAAQI,EAAOF,EAAUR,CAAG,CAAC,GAE/BA,EAAM,OAAOG,GAAW,WAAaA,EAAOH,CAAG,EAAIA,EAC5CE,EAAUF,EAAKM,CAAK,CACjC,CAAK,EACiB,KAAKF,CAAQ,CAEnC,CAcO,SAASO,EAAUC,EAAQ,GAAI,CACpC,GAAI,OAAOA,GAAU,SACnB,OAAOA,EAET,GAAI,OAAOA,GAAU,UACfA,EAAM,QAAQ,KAAM,EAAE,EAAE,MAAM,QAAQ,EACxC,OAAO,OAAO,SAASA,EAAO,EAAE,CAGtC,CACO,SAASC,EAAeD,EAAQ,GAAI,CACzC,GAAIA,IAAU,QAAU,CAACA,EAAM,OAC7B,MAAO,CAAE,EAEX,MAAME,EAA4B,IAAI,IACtC,UAAWC,KAAWH,EAAM,MAAM,GAAG,EAAG,CACtC,MAAMI,EAAI,OAAO,SAASD,EAAQ,QAAQ,IAAK,EAAE,CAAC,EAC9CC,GACFF,EAAU,IAAIE,CAAC,CAErB,CACE,OAAO,MAAM,KAAKF,CAAS,CAC7B,CACO,SAASG,EAAeH,EAAW,CACxC,GAAIA,EAAU,SAAW,EACvB,MAAM,IAAI,MAAM,uFAAuF,CAS3G,CACO,SAASI,EAAWN,EAAO,CAChC,MAAMO,EAAQ,CAAE,EAChB,GAAI,OAAOP,GAAU,SACnB,UAAWQ,KAASR,EAAM,MAAM,QAAQ,EAAE,OAAQS,GAAMA,CAAC,EAAG,CAC1D,MAAMC,EAAIF,EAAM,MAAM,GAAG,EACrBE,EAAE,SAAW,EACfH,EAAM,KAAK,EAAIG,EAAE,CAAC,EAAE,KAAM,EAE1BH,EAAMG,EAAE,CAAC,EAAE,KAAM,CAAA,EAAIA,EAAE,CAAC,EAAE,KAAM,CAExC,MAEI,OAAO,OAAOH,EAAOP,CAAK,EAE5B,OAAOO,CACT","x_google_ignoreList":[0]}