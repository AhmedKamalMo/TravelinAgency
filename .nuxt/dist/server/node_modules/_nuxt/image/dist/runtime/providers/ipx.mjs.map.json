{"file":"ipx.mjs","mappings":"4JAEA,MAAMA,EAAsBC,EAA0B,CACpD,OAAQ,CACN,OAAQ,IACR,IAAK,MACL,MAAO,IACP,OAAQ,IACR,OAAQ,IACR,QAAS,IACT,WAAY,GACb,EACD,SAAU,IACV,UAAW,CAACC,EAAKC,IAAQC,EAAYF,CAAG,EAAI,IAAME,EAAYD,CAAG,CACnE,CAAC,EACYE,EAAW,CAACC,EAAK,CAAE,UAAAC,EAAY,CAAE,EAAE,QAAAC,CAAS,EAAG,CAAE,EAAEC,IAAQ,CAClEF,EAAU,OAASA,EAAU,SAC/BA,EAAU,OAAS,GAAGA,EAAU,KAAK,IAAIA,EAAU,MAAM,GACzD,OAAOA,EAAU,MACjB,OAAOA,EAAU,QAEnB,MAAMG,EAASV,EAAoBO,CAAS,GAAK,IACjD,OAAKC,IACHA,EAAUG,EAAQF,EAAI,QAAQ,KAAK,QAAS,OAAO,GAE9C,CACL,IAAKE,EAAQH,EAASE,EAAQE,EAAWN,CAAG,CAAC,CAC9C,CACH,EACaO,EAAkB,GAClBC,EAAgB","names":["operationsGenerator","createOperationsGenerator","key","val","encodeParam","getImage","src","modifiers","baseURL","ctx","params","joinURL","encodePath","validateDomains","supportsAlias"],"sources":["../../../../../../../../../node_modules/@nuxt/image/dist/runtime/providers/ipx.js"],"sourcesContent":["import { joinURL, encodePath, encodeParam } from \"ufo\";\nimport { createOperationsGenerator } from \"#image\";\nconst operationsGenerator = createOperationsGenerator({\n  keyMap: {\n    format: \"f\",\n    fit: \"fit\",\n    width: \"w\",\n    height: \"h\",\n    resize: \"s\",\n    quality: \"q\",\n    background: \"b\"\n  },\n  joinWith: \"&\",\n  formatter: (key, val) => encodeParam(key) + \"_\" + encodeParam(val)\n});\nexport const getImage = (src, { modifiers = {}, baseURL } = {}, ctx) => {\n  if (modifiers.width && modifiers.height) {\n    modifiers.resize = `${modifiers.width}x${modifiers.height}`;\n    delete modifiers.width;\n    delete modifiers.height;\n  }\n  const params = operationsGenerator(modifiers) || \"_\";\n  if (!baseURL) {\n    baseURL = joinURL(ctx.options.nuxt.baseURL, \"/_ipx\");\n  }\n  return {\n    url: joinURL(baseURL, params, encodePath(src))\n  };\n};\nexport const validateDomains = true;\nexport const supportsAlias = true;\n"],"version":3}