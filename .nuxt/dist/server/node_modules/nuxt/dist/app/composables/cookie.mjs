import{ref as a}from"vue";import{parse as m}from"F:/TravelinAgency/node_modules/nuxt/node_modules/cookie-es/dist/index.mjs";import{getRequestHeader as C,setCookie as h,getCookie as g,deleteCookie as x}from"F:/TravelinAgency/node_modules/h3/dist/index.mjs";import w from"F:/TravelinAgency/node_modules/destr/dist/index.mjs";import{isEqual as u}from"F:/TravelinAgency/node_modules/ohash/dist/index.mjs";import{klona as R}from"F:/TravelinAgency/node_modules/klona/dist/index.mjs";import{useNuxtApp as v}from"../nuxt.mjs";import{useRequestEvent as k}from"./ssr.mjs";const y={path:"/",watch:!0,decode:o=>w(decodeURIComponent(o)),encode:o=>encodeURIComponent(typeof o=="string"?o:JSON.stringify(o))};function V(o,r){var c;const e={...y,...r};e.filter??(e.filter=i=>i===o);const t=_(e)||{};let s;e.maxAge!==void 0?s=e.maxAge*1e3:e.expires&&(s=e.expires.getTime()-Date.now());const d=s!==void 0&&s<=0,p=R(d?void 0:t[o]??((c=e.default)==null?void 0:c.call(e))),n=a(p);{const i=v(),f=()=>{e.readonly||u(n.value,t[o])||(i._cookies||(i._cookies={}),!(o in i._cookies&&u(n.value,i._cookies[o]))&&(i._cookies[o]=n.value,q(k(i),o,n.value,e)))},l=i.hooks.hookOnce("app:rendered",f);i.hooks.hookOnce("app:error",()=>(l(),f()))}return n}function _(o={}){return m(C(k(),"cookie")||"",o)}function q(o,r,e,t={}){if(o){if(e!=null)return h(o,r,e,t);if(g(o,r)!==void 0)return x(o,r,t)}}export{V as useCookie};
//# sourceMappingURL=cookie.mjs.map
