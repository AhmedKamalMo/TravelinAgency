import{defineComponent as L,ref as j,h as q,resolveComponent as R,computed as i}from"vue";import{parseQuery as P,hasProtocol as b,joinURL as B,withTrailingSlash as N,withoutTrailingSlash as T}from"../../../../ufo/dist/index.mjs";import{useNuxtApp as E,useRuntimeConfig as U}from"../nuxt.mjs";import{useRouter as A,resolveRouteObject as _,navigateTo as O}from"../composables/router.mjs";import{nuxtLinkDefaults as k}from"../../../../../_virtual/virtual_nuxt_F__TravelinAgency_.nuxt_nuxt.config.mjs";const w=(...u)=>u.find(h=>h!==void 0);function F(u){const h=u.componentName||"NuxtLink";function g(e){return typeof e=="string"&&e.startsWith("#")}function p(e,t){if(!e||u.trailingSlash!=="append"&&u.trailingSlash!=="remove")return e;if(typeof e=="string")return C(e,u.trailingSlash);const c="path"in e&&e.path!==void 0?e.path:t(e).path;return{...e,name:void 0,path:C(c,u.trailingSlash)}}function S(e){const t=A(),c=U(),l=i(()=>!!e.target&&e.target!=="_self"),m=i(()=>{const r=e.to||e.href||"";return typeof r=="string"&&b(r,{acceptRelative:!0})}),v=R("RouterLink"),o=v&&typeof v!="string"?v.useLink:void 0,f=i(()=>{if(e.external)return!0;const r=e.to||e.href||"";return typeof r=="object"?!1:r===""||m.value}),a=i(()=>{const r=e.to||e.href||"";return f.value?r:p(r,t.resolve)}),n=f.value||o==null?void 0:o({...e,to:a}),y=i(()=>{var r;if(!a.value||m.value||g(a.value))return a.value;if(f.value){const d=typeof a.value=="object"&&"path"in a.value?_(a.value):a.value,x=typeof d=="object"?t.resolve(d).href:d;return p(x,t.resolve)}return typeof a.value=="object"?((r=t.resolve(a.value))==null?void 0:r.href)??null:p(B(c.app.baseURL,a.value),t.resolve)});return{to:a,hasTarget:l,isAbsoluteUrl:m,isExternal:f,href:y,isActive:(n==null?void 0:n.isActive)??i(()=>a.value===t.currentRoute.value.path),isExactActive:(n==null?void 0:n.isExactActive)??i(()=>a.value===t.currentRoute.value.path),route:(n==null?void 0:n.route)??i(()=>t.resolve(a.value)),async navigate(r){await O(y.value,{replace:e.replace,external:f.value||l.value})}}}return L({name:h,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:S,setup(e,{slots:t}){A();const{to:c,href:l,navigate:m,isExternal:v,hasTarget:o,isAbsoluteUrl:f}=S(e);j(!1);const a=void 0,n=void 0;async function y(r=E()){}return()=>{var x;if(!v.value&&!o.value&&!g(c.value)){const s={ref:n,to:c.value,activeClass:e.activeClass||u.activeClass,exactActiveClass:e.exactActiveClass||u.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(s.rel=e.rel||void 0),q(R("RouterLink"),s,t.default)}const r=e.target||null,d=w(e.noRel?"":e.rel,u.externalRelAttribute,f.value||o.value?"noopener noreferrer":"")||null;return e.custom?t.default?t.default({href:l.value,navigate:m,prefetch:y,get route(){if(!l.value)return;const s=new URL(l.value,"http://localhost");return{path:s.pathname,fullPath:s.pathname,get query(){return P(s.search)},hash:s.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:l.value}},rel:d,target:r,isExternal:v.value||o.value,isActive:!1,isExactActive:!1}):null:q("a",{ref:a,href:l.value||null,rel:d,target:r},(x=t.default)==null?void 0:x.call(t))}}})}const M=F(k);function C(u,h){const g=h==="append"?N:T;return b(u)&&!u.startsWith("http")?u:g(u,!0)}export{M as default,F as defineNuxtLink};
//# sourceMappingURL=nuxt-link.mjs.map
