{"version":3,"file":"i18n.server.mjs","sources":["../../../../../../../../../node_modules/nuxt-site-config/dist/runtime/nuxt/plugins/i18n.server.js"],"sourcesContent":["import { defineNuxtPlugin } from \"#app\";\nimport { computed, updateSiteConfig, useSiteConfig } from \"#imports\";\nimport { parseURL } from \"ufo\";\nexport default defineNuxtPlugin({\n  name: \"nuxt-site-config:i18n\",\n  // @ts-expect-error untyped\n  dependsOn: [\"i18n:plugin\"],\n  setup(nuxtApp) {\n    const i18n = nuxtApp.$i18n;\n    if (!i18n)\n      return;\n    const currentUrl = useSiteConfig().url;\n    let i18nBaseUrl = false;\n    try {\n      const url = parseURL(i18n.baseUrl.value);\n      if (import.meta.dev && url.host) {\n        if (url.host.includes(\"localhost\"))\n          console.warn(`[Nuxt Site Config] You have set an i18n baseUrl to \\`${url.host}\\`. This will not work in production. Please set a proper baseUrl in your i18n config.`);\n        else if (!currentUrl.includes(url.host))\n          console.warn(`[Nuxt Site Config] Your i18n baseUrl \\`${url}\\` doesn't match your site url. This can lead to unexpected behavior. Please set a matching baseUrl in your i18n config.`);\n        else\n          i18nBaseUrl = url.host;\n      }\n    } catch {\n    }\n    updateSiteConfig({\n      _priority: -1,\n      _context: \"@nuxtjs/i18n\",\n      url: i18nBaseUrl || void 0,\n      // @ts-expect-error untyped\n      currentLocale: i18n.locale,\n      // @ts-expect-error untyped\n      description: computed(() => i18n.te(\"nuxtSiteConfig.description\") ? i18n.t(\"nuxtSiteConfig.description\") : void 0),\n      // @ts-expect-error untyped\n      name: computed(() => i18n.te(\"nuxtSiteConfig.name\") ? i18n.t(\"nuxtSiteConfig.name\") : void 0)\n    });\n  }\n});\n"],"names":["i18n_server_kXMsyxD0I5ArdLQ73Kb_ZqlgxXisaFw4mZSmiieMDUA","defineNuxtPlugin","nuxtApp","i18n","currentUrl","useSiteConfig","i18nBaseUrl","url","parseURL","updateSiteConfig","computed"],"mappings":"gcAGA,MAAAA,EAAeC,EAAiB,CAC9B,KAAM,wBAEN,UAAW,CAAC,aAAa,EACzB,MAAMC,EAAS,CACb,MAAMC,EAAOD,EAAQ,MACrB,GAAI,CAACC,EACH,OACF,MAAMC,EAAaC,EAAa,EAAG,IACnC,IAAIC,EAAc,GAClB,GAAI,CACF,MAAMC,EAAMC,EAASL,EAAK,QAAQ,KAAK,CAS7C,MAAY,CACZ,CACIM,EAAiB,CACf,UAAW,GACX,SAAU,eACV,IAAKH,GAAe,OAEpB,cAAeH,EAAK,OAEpB,YAAaO,EAAS,IAAMP,EAAK,GAAG,4BAA4B,EAAIA,EAAK,EAAE,4BAA4B,EAAI,MAAM,EAEjH,KAAMO,EAAS,IAAMP,EAAK,GAAG,qBAAqB,EAAIA,EAAK,EAAE,qBAAqB,EAAI,MAAM,CAClG,CAAK,CACL,CACA,CAAC","x_google_ignoreList":[0]}