import{useSwitchLocalePath as a}from"../composables/index.mjs";import{SWITCH_LOCALE_PATH_LINK_IDENTIFIER as l}from"../../../../../../.nuxt/i18n.options.mjs";import{defineNuxtPlugin as c}from"../../../../../nuxt/dist/app/nuxt.mjs";const f=c({name:"i18n:plugin:switch-locale-path-ssr",dependsOn:["i18n:plugin"],setup(r){if(r.$config.public.i18n.experimental.switchLocalePathLinkSSR!==!0)return;const i=a(),n=new RegExp([`<!--${l}-\\[(\\w+)\\]-->`,".+?",`<!--/${l}-->`].join(""),"g");r.hook("app:rendered",e=>{var t;((t=e.renderResult)==null?void 0:t.html)!=null&&(e.renderResult.html=e.renderResult.html.replaceAll(n,(o,p)=>o.replace(/href="([^"]+)"/,`href="${encodeURI(i(p??""))}"`)))})}});export{f as default};
//# sourceMappingURL=switch-locale-path-ssr.mjs.map
