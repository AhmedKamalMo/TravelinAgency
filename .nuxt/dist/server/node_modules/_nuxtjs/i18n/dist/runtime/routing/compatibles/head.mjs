import{getComposer as m,getLocale as x,getLocales as C,getNormalizedLocales as $}from"../utils.mjs";import{switchLocalePath as d,localeRoute as b,getRouteBaseName as q}from"./routing.mjs";import{isObject as P,isArray as S}from"../../../../../../_intlify/shared/dist/shared.mjs";import{joinURL as U}from"../../../../../../ufo/dist/index.mjs";import{unref as g}from"vue";import{useRuntimeConfig as y,useNuxtApp as w}from"../../../../../../nuxt/dist/app/nuxt.mjs";function z(e,{addDirAttribute:t=!1,addSeoAttributes:a=!0,identifierAttribute:o="hid"}){const{defaultDirection:n}=y().public.i18n,u=m(e.i18n),c={htmlAttrs:{},link:[],meta:[]};if(g(u.locales)==null||g(u.baseUrl)==null)return c;const s=x(e.i18n),r=C(e.i18n),i=$(r).find(p=>p.code===s)||{},l=i.language,f=i.dir||n;return t&&(c.htmlAttrs.dir=f),a&&s&&g(u.locales)&&(l&&(c.htmlAttrs.lang=l),c.link.push(...N(e,g(r),o),...O(e,o,a)),c.meta.push(...j(e,o,a),...Q(i,l,o),...v(g(r),l,o))),c}function L(){const e=w(),t=m(e.$i18n);return U(g(t.baseUrl),e.$config.app.baseURL)}function N(e,t,a){const o=L(),{defaultLocale:n,strategy:u}=y().public.i18n,c=[];if(u==="no_prefix")return c;const s=new Map;for(const r of t){const i=r.language;if(!i){console.warn("Locale `language` ISO code is required to generate alternate link");continue}const[l,f]=i.split("-");l&&f&&(r.isCatchallLocale||!s.has(l))&&s.set(l,r),s.set(i,r)}for(const[r,i]of s.entries()){const l=d(e,i.code);l&&c.push({[a]:`i18n-alt-${r}`,rel:"alternate",href:h(l,o),hreflang:r})}if(n){const r=d(e,n);r&&c.push({[a]:"i18n-xd",rel:"alternate",href:h(r,o),hreflang:"x-default"})}return c}function R(e,t,a){const o=e.router.currentRoute.value,n=b(e,{...o,path:void 0,name:q(e,o)});if(!n)return"";let u=h(n.path,t);const c=P(a)&&a.canonicalQueries||[],s=n.query,r=new URLSearchParams;for(const l of c)if(l in s){const f=s[l];S(f)?f.forEach(p=>r.append(l,p||"")):r.append(l,f||"")}const i=r.toString();return i&&(u=`${u}?${i}`),u}function O(e,t,a){const o=L(),n=R(e,o,a);return n?[{[t]:"i18n-can",rel:"canonical",href:n}]:[]}function j(e,t,a){const o=L(),n=R(e,o,a);return n?[{[t]:"i18n-og-url",property:"og:url",content:n}]:[]}function Q(e,t,a){return!e||!t?[]:[{[a]:"i18n-og",property:"og:locale",content:k(t)}]}function v(e,t,a){return e.filter(n=>n.language&&n.language!==t).map(n=>({[a]:`i18n-og-alt-${n.language}`,property:"og:locale:alternate",content:k(n.language)}))}function k(e){return(e||"").replace(/-/g,"_")}function h(e,t){return e.match(/^https?:\/\//)?e:U(t,e)}export{v as getAlternateOgLocales,O as getCanonicalLink,R as getCanonicalUrl,Q as getCurrentOgLocale,N as getHreflangLinks,j as getOgUrl,z as localeHead};
//# sourceMappingURL=head.mjs.map
