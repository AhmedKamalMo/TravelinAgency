const y=/#/g,d=/&/g,L=/\//g,w=/=/g,N=/\?/g,h=/\+/g,j=/%5e/gi,Q=/%60/gi,U=/%7c/gi,$=/%20/gi,b=/%252f/gi;function A(t){return encodeURI(""+t).replace(U,"|")}function f(t){return A(typeof t=="string"?t:JSON.stringify(t)).replace(h,"%2B").replace($,"+").replace(y,"%23").replace(d,"%26").replace(Q,"`").replace(j,"^").replace(L,"%2F")}function l(t){return f(t).replace(w,"%3D")}function H(t){return A(t).replace(y,"%23").replace(N,"%3F").replace(b,"%2F").replace(d,"%26").replace(h,"%2B")}function tt(t){return H(t).replace(L,"%2F")}function i(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function W(t){return i(t.replace(h," "))}function v(t){return i(t.replace(h," "))}function x(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const c=n.match(/([^=]+)=?(.*)/)||[];if(c.length<2)continue;const r=W(c[1]);if(r==="__proto__"||r==="constructor")continue;const o=v(c[2]||"");e[r]===void 0?e[r]=o:Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]}return e}function B(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${l(t)}=${f(n)}`).join("&"):`${l(t)}=${f(e)}`:l(t)}function G(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>B(e,t[e])).filter(Boolean).join("&")}const F=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,P=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,K=/^([/\\]\s*){2,}[^/\\]/,M=/^[\s\0]*(blob|data|javascript|vbscript):$/i,D=/\/$|\/\?|\/#/,V=/^\.?\//;function S(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?F.test(t):P.test(t)||(e.acceptRelative?K.test(t):!1)}function et(t){return!!t&&M.test(t)}function u(t="",e){return e?D.test(t):t.endsWith("/")}function X(t="",e){if(!e)return(u(t)?t.slice(0,-1):t)||"/";if(!u(t,!0))return t||"/";let n=t,c="";const r=t.indexOf("#");r!==-1&&(n=t.slice(0,r),c=t.slice(r));const[o,...s]=n.split("?");return((o.endsWith("/")?o.slice(0,-1):o)||"/")+(s.length>0?`?${s.join("?")}`:"")+c}function R(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(u(t,!0))return t||"/";let n=t,c="";const r=t.indexOf("#");if(r!==-1&&(n=t.slice(0,r),c=t.slice(r),!n))return c;const[o,...s]=n.split("?");return o+"/"+(s.length>0?`?${s.join("?")}`:"")+c}function J(t=""){return t.startsWith("/")}function g(t=""){return J(t)?t:"/"+t}function nt(t,e){if(z(e)||S(t))return t;const n=X(e);return t.startsWith(n)?t:Y(n,t)}function rt(t,e){const n=O(t),c={...x(n.search),...e};return n.search=G(c),q(n)}function z(t){return!t||t==="/"}function Z(t){return t&&t!=="/"}function Y(t,...e){let n=t||"";for(const c of e.filter(r=>Z(r)))if(n){const r=c.replace(V,"");n=R(n)+r}else n=c;return n}function ct(t){return k(t,"https://")}function k(t,e){let n=t.match(P);return n||(n=t.match(/^\/{2,}/)),n?e+t.slice(n[0].length):e+t}function ot(t,e,n={}){return n.trailingSlash||(t=R(t),e=R(e)),n.leadingSlash||(t=g(t),e=g(e)),n.encoding||(t=i(t),e=i(e)),t===e}const C=Symbol.for("ufo:protocolRelative");function O(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,_,E=""]=n;return{protocol:_.toLowerCase(),pathname:E,href:_+E,auth:"",host:"",search:"",hash:""}}if(!S(t,{acceptRelative:!0}))return e?O(e+t):m(t);const[,c="",r,o=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,s="",a=""]=o.match(/([^#/?]*)(.*)?/)||[];c==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:p,search:I,hash:T}=m(a);return{protocol:c.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:s,pathname:p,search:I,hash:T,[C]:!c}}function m(t=""){const[e="",n="",c=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:c}}function q(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",c=t.hash||"",r=t.auth?t.auth+"@":"",o=t.host||"";return(t.protocol||t[C]?(t.protocol||"")+"//":"")+r+o+e+n+c}export{i as decode,W as decodeQueryKey,v as decodeQueryValue,A as encode,tt as encodeParam,H as encodePath,B as encodeQueryItem,l as encodeQueryKey,f as encodeQueryValue,J as hasLeadingSlash,S as hasProtocol,u as hasTrailingSlash,z as isEmptyURL,ot as isEqual,Z as isNonEmptyURL,et as isScriptProtocol,Y as joinURL,m as parsePath,x as parseQuery,O as parseURL,q as stringifyParsedURL,G as stringifyQuery,nt as withBase,ct as withHttps,g as withLeadingSlash,k as withProtocol,rt as withQuery,R as withTrailingSlash,X as withoutTrailingSlash};
//# sourceMappingURL=index.mjs.map
