import{incrementer as De,isFunction as v,warn as q,isString as u,isArray as W,isPlainObject as h,create as P,assign as X,isBoolean as b,isRegExp as _e,warnOnce as ze,isObject as S,hasOwn as Y,format as Fe,getGlobalThis as Xe,isNumber as R,isEmptyObject as oe,isDate as Ze,escapeHtml as de,inBrowser as z,join as Je,toDisplayString as Qe,isPromise as qe,generateFormatCacheKey as xe,generateCodeFrame as et}from"../../shared/dist/shared.mjs";import{CompileWarnCodes as Me,CompileErrorCodes as tt,createCompileError as rt,detectHtmlTag as nt,defaultOnError as st,baseCompile as at}from"../../message-compiler/dist/message-compiler.mjs";/*!
  * core-base v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function ot(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Xe().__INTLIFY_PROD_DEVTOOLS__=!1)}function H(e){return S(e)&&le(e)===0&&(Y(e,"b")||Y(e,"body"))}const ve=["b","body"];function lt(e){return $(e,ve)}const Le=["c","cases"];function it(e){return $(e,Le,[])}const Se=["s","static"];function ct(e){return $(e,Se)}const Re=["i","items"];function ut(e){return $(e,Re,[])}const Ie=["t","type"];function le(e){return $(e,Ie)}const be=["v","value"];function x(e,t){const r=$(e,be);if(r!=null)return r;throw J(t)}const Pe=["m","modifier"];function mt(e){return $(e,Pe)}const ye=["k","key"];function ft(e){const t=$(e,ye);if(t)return t;throw J(6)}function $(e,t,r){for(let n=0;n<t.length;n++){const s=t[n];if(Y(e,s)&&e[s]!=null)return e[s]}return r}const _t=[...ve,...Le,...Se,...Re,...ye,...Pe,...be,...Ie];function J(e){return new Error(`unhandled node type: ${e}`)}const K=[];K[0]={w:[0],i:[3,0],"[":[4],o:[7]};K[1]={w:[1],".":[2],"[":[4],o:[7]};K[2]={w:[2],i:[3,0],0:[3,0]};K[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};K[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};K[5]={"'":[4,0],o:8,l:[5,0]};K[6]={'"':[4,0],o:8,l:[6,0]};const dt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function gt(e){return dt.test(e)}function Et(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function Nt(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Ot(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:gt(t)?Et(t):"*"+t}function Tt(e){const t=[];let r=-1,n=0,s=0,o,l,i,a,c,f,N;const _=[];_[0]=()=>{l===void 0?l=i:l+=i},_[1]=()=>{l!==void 0&&(t.push(l),l=void 0)},_[2]=()=>{_[0](),s++},_[3]=()=>{if(s>0)s--,n=4,_[0]();else{if(s=0,l===void 0||(l=Ot(l),l===!1))return!1;_[1]()}};function E(){const O=e[r+1];if(n===5&&O==="'"||n===6&&O==='"')return r++,i="\\"+O,_[0](),!0}for(;n!==null;)if(r++,o=e[r],!(o==="\\"&&E())){if(a=Nt(o),N=K[n],c=N[a]||N.l||8,c===8||(n=c[0],c[1]!==void 0&&(f=_[c[1]],f&&(i=o,f()===!1))))return;if(n===7)return t}}const ge=new Map;function pt(e,t){return S(e)?e[t]:null}function or(e,t){if(!S(e))return null;let r=ge.get(t);if(r||(r=Tt(t),r&&ge.set(t,r)),!r)return null;const n=r.length;let s=e,o=0;for(;o<n;){const l=r[o];if(_t.includes(l)&&H(s))return null;const i=s[l];if(i===void 0||v(s))return null;s=i,o++}return s}const At=e=>e,ht=e=>"",Ct="text",Dt=e=>e.length===0?"":Je(e),Ft=Qe;function Ee(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Mt(e){const t=R(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(R(e.named.count)||R(e.named.n))?R(e.named.count)?e.named.count:R(e.named.n)?e.named.n:t:t}function vt(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Lt(e={}){const t=e.locale,r=Mt(e),n=S(e.pluralRules)&&u(t)&&v(e.pluralRules[t])?e.pluralRules[t]:Ee,s=S(e.pluralRules)&&u(t)&&v(e.pluralRules[t])?Ee:void 0,o=g=>g[n(r,g.length,s)],l=e.list||[],i=g=>l[g],a=e.named||P();R(e.pluralIndex)&&vt(r,a);const c=g=>a[g];function f(g){const m=v(e.messages)?e.messages(g):S(e.messages)?e.messages[g]:!1;return m||(e.parent?e.parent.message(g):ht)}const N=g=>e.modifiers?e.modifiers[g]:At,_=h(e.processor)&&v(e.processor.normalize)?e.processor.normalize:Dt,E=h(e.processor)&&v(e.processor.interpolate)?e.processor.interpolate:Ft,O=h(e.processor)&&u(e.processor.type)?e.processor.type:Ct,D={list:i,named:c,plural:o,linked:(g,...m)=>{const[C,d]=m;let F="text",A="";m.length===1?S(C)?(A=C.modifier||A,F=C.type||F):u(C)&&(A=C||A):m.length===2&&(u(C)&&(A=C||A),u(d)&&(F=d||F));const M=f(g)(D),p=F==="vnode"&&W(M)&&A?M[0]:M;return A?N(A)(p,F):p},message:f,type:O,interpolate:E,normalize:_,values:X(P(),l,a)};return D}let Q=null;function lr(e){Q=e}function St(e,t,r){Q&&Q.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:r})}const Rt=It("function:translate");function It(e){return t=>Q&&Q.emit(e,t)}const ke=Me.__EXTEND_POINT__,G=De(ke),I={NOT_FOUND_KEY:ke,FALLBACK_TO_TRANSLATE:G(),CANNOT_FORMAT_NUMBER:G(),FALLBACK_TO_NUMBER_FORMAT:G(),CANNOT_FORMAT_DATE:G(),FALLBACK_TO_DATE_FORMAT:G(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:G(),__EXTEND_POINT__:G()},bt={[I.NOT_FOUND_KEY]:"Not found '{key}' key in '{locale}' locale messages.",[I.FALLBACK_TO_TRANSLATE]:"Fall back to translate '{key}' key with '{target}' locale.",[I.CANNOT_FORMAT_NUMBER]:"Cannot format a number value due to not supported Intl.NumberFormat.",[I.FALLBACK_TO_NUMBER_FORMAT]:"Fall back to number format '{key}' key with '{target}' locale.",[I.CANNOT_FORMAT_DATE]:"Cannot format a date value due to not supported Intl.DateTimeFormat.",[I.FALLBACK_TO_DATE_FORMAT]:"Fall back to datetime format '{key}' key with '{target}' locale.",[I.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]:"This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future."};function j(e,...t){return Fe(bt[e],...t)}const we=tt.__EXTEND_POINT__,B=De(we),L={INVALID_ARGUMENT:we,INVALID_DATE_ARGUMENT:B(),INVALID_ISO_DATE_ARGUMENT:B(),NOT_SUPPORT_NON_STRING_MESSAGE:B(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:B(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:B(),NOT_SUPPORT_LOCALE_TYPE:B(),__EXTEND_POINT__:B()};function U(e){return rt(e,null,process.env.NODE_ENV!=="production"?{messages:Pt}:void 0)}const Pt={[L.INVALID_ARGUMENT]:"Invalid arguments",[L.INVALID_DATE_ARGUMENT]:"The date provided is an invalid Date object.Make sure your Date represents a valid date.",[L.INVALID_ISO_DATE_ARGUMENT]:"The argument provided is not a valid ISO date string",[L.NOT_SUPPORT_NON_STRING_MESSAGE]:"Not support non-string message",[L.NOT_SUPPORT_LOCALE_PROMISE_VALUE]:"cannot support promise value",[L.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]:"cannot support async function",[L.NOT_SUPPORT_LOCALE_TYPE]:"cannot support locale type"};function ie(e,t){return t.locale!=null?Ne(t.locale):Ne(e.locale)}let te;function Ne(e){if(u(e))return e;if(v(e)){if(e.resolvedOnce&&te!=null)return te;if(e.constructor.name==="Function"){const t=e();if(qe(t))throw U(L.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return te=t}else throw U(L.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw U(L.NOT_SUPPORT_LOCALE_TYPE)}function yt(e,t,r){return[...new Set([r,...W(t)?t:S(t)?Object.keys(t):u(t)?[t]:[r]])]}function ir(e,t,r){const n=u(r)?r:se,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let o=s.__localeChainCache.get(n);if(!o){o=[];let l=[r];for(;W(l);)l=Oe(o,l,t);const i=W(t)||!h(t)?t:t.default?t.default:null;l=u(i)?[i]:i,W(l)&&Oe(o,l,!1),s.__localeChainCache.set(n,o)}return o}function Oe(e,t,r){let n=!0;for(let s=0;s<t.length&&b(n);s++){const o=t[s];u(o)&&(n=kt(e,t[s],r))}return n}function kt(e,t,r){let n;const s=t.split("-");do{const o=s.join("-");n=wt(e,o,r),s.splice(-1,1)}while(s.length&&n===!0);return n}function wt(e,t,r){let n=!1;if(!e.includes(t)&&(n=!0,t)){n=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(W(r)||h(r))&&r[s]&&(n=r[s])}return n}const Vt="9.14.4",ce=-1,se="en-US",Ve="",Te=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Ut(){return{upper:(e,t)=>t==="text"&&u(e)?e.toUpperCase():t==="vnode"&&S(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&u(e)?e.toLowerCase():t==="vnode"&&S(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&u(e)?Te(e):t==="vnode"&&S(e)&&"__v_isVNode"in e?Te(e.children):e}}let Ue;function cr(e){Ue=e}let We;function ur(e){We=e}let $e;function mr(e){$e=e}let Ke=null;const fr=e=>{Ke=e},Wt=()=>Ke;let Ge=null;const _r=e=>{Ge=e},dr=()=>Ge;let pe=0;function gr(e={}){const t=v(e.onWarn)?e.onWarn:q,r=u(e.version)?e.version:Vt,n=u(e.locale)||v(e.locale)?e.locale:se,s=v(n)?se:n,o=W(e.fallbackLocale)||h(e.fallbackLocale)||u(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,l=h(e.messages)?e.messages:re(s),i=h(e.datetimeFormats)?e.datetimeFormats:re(s),a=h(e.numberFormats)?e.numberFormats:re(s),c=X(P(),e.modifiers,Ut()),f=e.pluralRules||P(),N=v(e.missing)?e.missing:null,_=b(e.missingWarn)||_e(e.missingWarn)?e.missingWarn:!0,E=b(e.fallbackWarn)||_e(e.fallbackWarn)?e.fallbackWarn:!0,O=!!e.fallbackFormat,T=!!e.unresolving,D=v(e.postTranslation)?e.postTranslation:null,g=h(e.processor)?e.processor:null,m=b(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter,d=v(e.messageCompiler)?e.messageCompiler:Ue;process.env.NODE_ENV!=="production"&&v(e.messageCompiler)&&ze(j(I.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER));const F=v(e.messageResolver)?e.messageResolver:We||pt,A=v(e.localeFallbacker)?e.localeFallbacker:$e||yt,M=S(e.fallbackContext)?e.fallbackContext:void 0,p=e,y=S(p.__datetimeFormatters)?p.__datetimeFormatters:new Map,V=S(p.__numberFormatters)?p.__numberFormatters:new Map,Z=S(p.__meta)?p.__meta:{};pe++;const w={version:r,cid:pe,locale:n,fallbackLocale:o,messages:l,modifiers:c,pluralRules:f,missing:N,missingWarn:_,fallbackWarn:E,fallbackFormat:O,unresolving:T,postTranslation:D,processor:g,warnHtmlMessage:m,escapeParameter:C,messageCompiler:d,messageResolver:F,localeFallbacker:A,fallbackContext:M,onWarn:t,__meta:Z};return w.datetimeFormats=i,w.numberFormats=a,w.__datetimeFormatters=y,w.__numberFormatters=V,process.env.NODE_ENV!=="production"&&(w.__v_emitter=p.__v_emitter!=null?p.__v_emitter:void 0),(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__)&&St(w,r,Z),w}const re=e=>({[e]:P()});function ue(e,t){return e instanceof RegExp?e.test(t):e}function $t(e,t){return e instanceof RegExp?e.test(t):e}function me(e,t,r,n,s){const{missing:o,onWarn:l}=e;if(process.env.NODE_ENV!=="production"){const i=e.__v_emitter;i&&i.emit("missing",{locale:r,key:t,type:s,groupId:`${s}:${t}`})}if(o!==null){const i=o(e,r,t,s);return u(i)?i:t}else return process.env.NODE_ENV!=="production"&&$t(n,t)&&l(j(I.NOT_FOUND_KEY,{key:t,locale:r})),t}function Er(e,t,r){const n=e;n.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}function Be(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Kt(e,t){const r=t.indexOf(e);if(r===-1)return!1;for(let n=r+1;n<t.length;n++)if(Be(e,t[n]))return!0;return!1}function ne(e){return r=>Gt(r,e)}function Gt(e,t){const r=lt(t);if(r==null)throw J(0);if(le(r)===1){const o=it(r);return e.plural(o.reduce((l,i)=>[...l,Ae(e,i)],[]))}else return Ae(e,r)}function Ae(e,t){const r=ct(t);if(r!=null)return e.type==="text"?r:e.normalize([r]);{const n=ut(t).reduce((s,o)=>[...s,ae(e,o)],[]);return e.normalize(n)}}function ae(e,t){const r=le(t);switch(r){case 3:return x(t,r);case 9:return x(t,r);case 4:{const n=t;if(Y(n,"k")&&n.k)return e.interpolate(e.named(n.k));if(Y(n,"key")&&n.key)return e.interpolate(e.named(n.key));throw J(r)}case 5:{const n=t;if(Y(n,"i")&&R(n.i))return e.interpolate(e.list(n.i));if(Y(n,"index")&&R(n.index))return e.interpolate(e.list(n.index));throw J(r)}case 6:{const n=t,s=mt(n),o=ft(n);return e.linked(ae(e,o),s?ae(e,s):void 0,e.type)}case 7:return x(t,r);case 8:return x(t,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const Bt="Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.";function Yt(e,t){t&&nt(e)&&q(Fe(Bt,{source:e}))}const Ht=e=>e;let ee=P();function jt(e){e.code===Me.USE_MODULO_SYNTAX&&q(`The use of named interpolation with modulo syntax is deprecated. It will be removed in v10.
reference: https://vue-i18n.intlify.dev/guide/essentials/syntax#rails-i18n-format 
(message compiler warning message: ${e.message})`)}function zt(e,t={}){let r=!1;const n=t.onError||st;return t.onError=s=>{r=!0,n(s)},{...at(e,t),detectError:r}}function Nr(e,t){if(process.env.NODE_ENV!=="production"&&(t.onWarn=jt),u(e)){const r=b(t.warnHtmlMessage)?t.warnHtmlMessage:!0;process.env.NODE_ENV!=="production"&&Yt(e,r);const s=(t.onCacheKey||Ht)(e),o=ee[s];if(o)return o;const{ast:l,detectError:i}=zt(e,{...t,location:process.env.NODE_ENV!=="production",jit:!0}),a=ne(l);return i?a:ee[s]=a}else{if(process.env.NODE_ENV!=="production"&&!H(e))return q(`the message that is resolve with key '${t.key}' is not supported for jit compilation`),()=>e;const r=e.cacheKey;if(r){const n=ee[r];return n||(ee[r]=ne(e))}else return ne(e)}}const he=()=>"",k=e=>v(e);function Or(e,...t){const{fallbackFormat:r,postTranslation:n,unresolving:s,messageCompiler:o,fallbackLocale:l,messages:i}=e,[a,c]=Jt(...t),f=b(c.missingWarn)?c.missingWarn:e.missingWarn,N=b(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,_=b(c.escapeParameter)?c.escapeParameter:e.escapeParameter,E=!!c.resolvedMessage,O=u(c.default)||b(c.default)?b(c.default)?o?a:()=>a:c.default:r?o?a:()=>a:"",T=r||O!=="",D=ie(e,c);_&&Xt(c);let[g,m,C]=E?[a,D,i[D]||P()]:Ye(e,a,D,l,N,f),d=g,F=a;if(!E&&!(u(d)||H(d)||k(d))&&T&&(d=O,F=d),!E&&(!(u(d)||H(d)||k(d))||!u(m)))return s?ce:a;if(process.env.NODE_ENV!=="production"&&u(d)&&e.messageCompiler==null)return q(`The message format compilation is not supported in this build. Because message compiler isn't included. You need to pre-compilation all message format. So translate function return '${a}'.`),a;let A=!1;const M=()=>{A=!0},p=k(d)?d:He(e,a,m,d,F,M);if(A)return d;const y=xt(e,m,C,c),V=Lt(y),Z=Zt(e,p,V),w=n?n(Z,a):Z;if(process.env.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__){const fe={timestamp:Date.now(),key:u(a)?a:k(d)?d.key:"",locale:m||(k(d)?d.locale:""),format:u(d)?d:k(d)?d.source:"",message:w};fe.meta=X({},e.__meta,Wt()||{}),Rt(fe)}return w}function Xt(e){W(e.list)?e.list=e.list.map(t=>u(t)?de(t):t):S(e.named)&&Object.keys(e.named).forEach(t=>{u(e.named[t])&&(e.named[t]=de(e.named[t]))})}function Ye(e,t,r,n,s,o){const{messages:l,onWarn:i,messageResolver:a,localeFallbacker:c}=e,f=c(e,n,r);let N=P(),_,E=null,O=r,T=null;const D="translate";for(let g=0;g<f.length;g++){if(_=T=f[g],process.env.NODE_ENV!=="production"&&r!==_&&!Be(r,_)&&ue(s,t)&&i(j(I.FALLBACK_TO_TRANSLATE,{key:t,target:_})),process.env.NODE_ENV!=="production"&&r!==_){const m=e.__v_emitter;m&&m.emit("fallback",{type:D,key:t,from:O,to:T,groupId:`${D}:${t}`})}if(N=l[_]||P(),process.env.NODE_ENV!=="production"&&z,(E=a(N,t))===null&&(E=N[t]),process.env.NODE_ENV!=="production"&&z,u(E)||H(E)||k(E))break;if(!Kt(_,f)){const m=me(e,t,_,o,D);m!==t&&(E=m)}O=T}return[E,_,N]}function He(e,t,r,n,s,o){const{messageCompiler:l,warnHtmlMessage:i}=e;if(k(n)){const c=n;return c.locale=c.locale||r,c.key=c.key||t,c}if(l==null){const c=()=>n;return c.locale=r,c.key=t,c}process.env.NODE_ENV!=="production"&&z;const a=l(n,Qt(e,r,s,n,i,o));return process.env.NODE_ENV!=="production"&&z,a.locale=r,a.key=t,a.source=n,a}function Zt(e,t,r){process.env.NODE_ENV!=="production"&&z;const n=t(r);return process.env.NODE_ENV!=="production"&&z,n}function Jt(...e){const[t,r,n]=e,s=P();if(!u(t)&&!R(t)&&!k(t)&&!H(t))throw U(L.INVALID_ARGUMENT);const o=R(t)?String(t):(k(t),t);return R(r)?s.plural=r:u(r)?s.default=r:h(r)&&!oe(r)?s.named=r:W(r)&&(s.list=r),R(n)?s.plural=n:u(n)?s.default=n:h(n)&&X(s,n),[o,s]}function Qt(e,t,r,n,s,o){return{locale:t,key:r,warnHtmlMessage:s,onError:l=>{if(o&&o(l),process.env.NODE_ENV!=="production"){const i=qt(n),a=`Message compilation error: ${l.message}`,c=l.location&&i&&et(i,l.location.start.offset,l.location.end.offset),f=e.__v_emitter;f&&i&&f.emit("compile-error",{message:i,error:l.message,start:l.location&&l.location.start.offset,end:l.location&&l.location.end.offset,groupId:`translate:${r}`}),console.error(c?`${a}
${c}`:a)}else throw l},onCacheKey:l=>xe(t,r,l)}}function qt(e){if(u(e))return e;if(e.loc&&e.loc.source)return e.loc.source}function xt(e,t,r,n){const{modifiers:s,pluralRules:o,messageResolver:l,fallbackLocale:i,fallbackWarn:a,missingWarn:c,fallbackContext:f}=e,_={locale:t,modifiers:s,pluralRules:o,messages:E=>{let O=l(r,E);if(O==null&&f){const[,,T]=Ye(f,E,t,i,a,c);O=l(T,E)}if(u(O)||H(O)){let T=!1;const g=He(e,E,t,O,E,()=>{T=!0});return T?he:g}else return k(O)?O:he}};return e.processor&&(_.processor=e.processor),n.list&&(_.list=n.list),n.named&&(_.named=n.named),R(n.plural)&&(_.pluralIndex=n.plural),_}const Ce=typeof Intl<"u",je={dateTimeFormat:Ce&&typeof Intl.DateTimeFormat<"u",numberFormat:Ce&&typeof Intl.NumberFormat<"u"};function Tr(e,...t){const{datetimeFormats:r,unresolving:n,fallbackLocale:s,onWarn:o,localeFallbacker:l}=e,{__datetimeFormatters:i}=e;if(process.env.NODE_ENV!=="production"&&!je.dateTimeFormat)return o(j(I.CANNOT_FORMAT_DATE)),Ve;const[a,c,f,N]=tr(...t),_=b(f.missingWarn)?f.missingWarn:e.missingWarn,E=b(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn,O=!!f.part,T=ie(e,f),D=l(e,s,T);if(!u(a)||a==="")return new Intl.DateTimeFormat(T,N).format(c);let g={},m,C=null,d=T,F=null;const A="datetime format";for(let y=0;y<D.length;y++){if(m=F=D[y],process.env.NODE_ENV!=="production"&&T!==m&&ue(E,a)&&o(j(I.FALLBACK_TO_DATE_FORMAT,{key:a,target:m})),process.env.NODE_ENV!=="production"&&T!==m){const V=e.__v_emitter;V&&V.emit("fallback",{type:A,key:a,from:d,to:F,groupId:`${A}:${a}`})}if(g=r[m]||{},C=g[a],h(C))break;me(e,a,m,_,A),d=F}if(!h(C)||!u(m))return n?ce:a;let M=`${m}__${a}`;oe(N)||(M=`${M}__${JSON.stringify(N)}`);let p=i.get(M);return p||(p=new Intl.DateTimeFormat(m,X({},C,N)),i.set(M,p)),O?p.formatToParts(c):p.format(c)}const er=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function tr(...e){const[t,r,n,s]=e,o=P();let l=P(),i;if(u(t)){const a=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!a)throw U(L.INVALID_ISO_DATE_ARGUMENT);const c=a[3]?a[3].trim().startsWith("T")?`${a[1].trim()}${a[3].trim()}`:`${a[1].trim()}T${a[3].trim()}`:a[1].trim();i=new Date(c);try{i.toISOString()}catch{throw U(L.INVALID_ISO_DATE_ARGUMENT)}}else if(Ze(t)){if(isNaN(t.getTime()))throw U(L.INVALID_DATE_ARGUMENT);i=t}else if(R(t))i=t;else throw U(L.INVALID_ARGUMENT);return u(r)?o.key=r:h(r)&&Object.keys(r).forEach(a=>{er.includes(a)?l[a]=r[a]:o[a]=r[a]}),u(n)?o.locale=n:h(n)&&(l=n),h(s)&&(l=s),[o.key||"",i,o,l]}function pr(e,t,r){const n=e;for(const s in r){const o=`${t}__${s}`;n.__datetimeFormatters.has(o)&&n.__datetimeFormatters.delete(o)}}function Ar(e,...t){const{numberFormats:r,unresolving:n,fallbackLocale:s,onWarn:o,localeFallbacker:l}=e,{__numberFormatters:i}=e;if(process.env.NODE_ENV!=="production"&&!je.numberFormat)return o(j(I.CANNOT_FORMAT_NUMBER)),Ve;const[a,c,f,N]=nr(...t),_=b(f.missingWarn)?f.missingWarn:e.missingWarn,E=b(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn,O=!!f.part,T=ie(e,f),D=l(e,s,T);if(!u(a)||a==="")return new Intl.NumberFormat(T,N).format(c);let g={},m,C=null,d=T,F=null;const A="number format";for(let y=0;y<D.length;y++){if(m=F=D[y],process.env.NODE_ENV!=="production"&&T!==m&&ue(E,a)&&o(j(I.FALLBACK_TO_NUMBER_FORMAT,{key:a,target:m})),process.env.NODE_ENV!=="production"&&T!==m){const V=e.__v_emitter;V&&V.emit("fallback",{type:A,key:a,from:d,to:F,groupId:`${A}:${a}`})}if(g=r[m]||{},C=g[a],h(C))break;me(e,a,m,_,A),d=F}if(!h(C)||!u(m))return n?ce:a;let M=`${m}__${a}`;oe(N)||(M=`${M}__${JSON.stringify(N)}`);let p=i.get(M);return p||(p=new Intl.NumberFormat(m,X({},C,N)),i.set(M,p)),O?p.formatToParts(c):p.format(c)}const rr=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function nr(...e){const[t,r,n,s]=e,o=P();let l=P();if(!R(t))throw U(L.INVALID_ARGUMENT);const i=t;return u(r)?o.key=r:h(r)&&Object.keys(r).forEach(a=>{rr.includes(a)?l[a]=r[a]:o[a]=r[a]}),u(n)?o.locale=n:h(n)&&(l=n),h(s)&&(l=s),[o.key||"",i,o,l]}function hr(e,t,r){const n=e;for(const s in r){const o=`${t}__${s}`;n.__numberFormatters.has(o)&&n.__numberFormatters.delete(o)}}ot();export{_t as AST_NODE_PROPS_KEYS,tt as CompileErrorCodes,L as CoreErrorCodes,I as CoreWarnCodes,er as DATETIME_FORMAT_OPTIONS_KEYS,se as DEFAULT_LOCALE,Ct as DEFAULT_MESSAGE_DATA_TYPE,Ve as MISSING_RESOLVE_VALUE,ce as NOT_REOSLVED,rr as NUMBER_FORMAT_OPTIONS_KEYS,Vt as VERSION,pr as clearDateTimeFormat,hr as clearNumberFormat,Nr as compile,rt as createCompileError,gr as createCoreContext,U as createCoreError,Lt as createMessageContext,Tr as datetime,ir as fallbackWithLocaleChain,yt as fallbackWithSimple,Wt as getAdditionalMeta,dr as getFallbackContext,ie as getLocale,j as getWarnMessage,me as handleMissing,St as initI18nDevTools,Be as isAlmostSameLocale,Kt as isImplicitFallback,H as isMessageAST,k as isMessageFunction,ue as isTranslateFallbackWarn,$t as isTranslateMissingWarn,Ar as number,Tt as parse,tr as parseDateTimeArgs,nr as parseNumberArgs,Jt as parseTranslateArgs,mr as registerLocaleFallbacker,cr as registerMessageCompiler,ur as registerMessageResolver,Ne as resolveLocale,or as resolveValue,pt as resolveWithKeyValue,fr as setAdditionalMeta,lr as setDevToolsHook,_r as setFallbackContext,Or as translate,Rt as translateDevTools,Er as updateFallbackLocale};
//# sourceMappingURL=core-base.mjs.map
