import{resolveSitePath as m}from"../../../../../../site-config-stack/dist/urls.mjs";import{hasProtocol as f,withHttps as p}from"../../../../../../ufo/dist/index.mjs";import{maybeAddIdentitySchemaOrg as b}from"../../utils/shared.mjs";import{createSitePathResolver as g}from"../../../../../../nuxt-site-config/dist/runtime/nuxt/composables/utils.mjs";import{defineNuxtPlugin as h,useRuntimeConfig as v}from"../../../../../../nuxt/dist/app/nuxt.mjs";import{defineWebSite as L,defineWebPage as S}from"@unhead/schema-org/vue";import{useLocalePath as w}from"../../../../../../_nuxtjs/i18n/dist/runtime/composables/index.mjs";import{useSchemaOrg as P}from"../../composables/useSchemaOrg.mjs";import{useSiteConfig as x}from"../../../../../../nuxt-site-config/dist/runtime/nuxt/composables/useSiteConfig.mjs";const D=h({name:"nuxt-schema-org:defaults",dependsOn:["nuxt-schema-org:init"],setup(o){var c;const e=x(),a=g({canonical:!0,absolute:!0});if(!o.$i18n)return;const i=w(),u=((c=o.$i18n)==null?void 0:c.locales.value)||[],n=a(i("index")).value,s=`${n}#website`,r=L({"@id":s,url:n,name:(e==null?void 0:e.name)||"",inLanguage:o.$i18n.localeProperties.value.language||"",description:e.description||""}),d=v().app.baseURL||"/",l=t=>t.domain?m(i("index",t.code),{absolute:!0,siteUrl:f(t.domain,{acceptRelative:!1})?t.domain:p(t.domain),trailingSlash:e.trailingSlash,base:d}):a(i("index",t.code)).value;e.defaultLocale&&(e.currentLocale&&e.currentLocale!==e.defaultLocale?r.translationOfWork={"@type":"WebSite","@id":`${l({code:e.currentLocale})}#website`}:r.workTranslation=u.filter(t=>t.code!==e.defaultLocale).map(t=>({"@type":"WebSite","@id":`${l(t)}#website`}))),P([r,S({isPartOf:{"@id":s}})]),b()}});export{D as default};
//# sourceMappingURL=defaults.mjs.map
