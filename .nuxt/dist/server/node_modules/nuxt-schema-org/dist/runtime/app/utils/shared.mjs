import{injectHead as f}from"../../../../../nuxt/dist/head/runtime/composables/v3.mjs";import{useSchemaOrg as h,SchemaOrgUnheadPlugin as p}from"@unhead/schema-org";import{defu as g}from"F:/TravelinAgency/node_modules/defu/dist/defu.mjs";import{computed as d}from"vue";import"F:/TravelinAgency/node_modules/hookable/dist/index.mjs";import{useRoute as y}from"../../../../../nuxt/dist/app/composables/router.mjs";import"F:/TravelinAgency/node_modules/klona/dist/index.mjs";import{withoutTrailingSlash as w}from"../../../../../ufo/dist/index.mjs";import"#internal/nuxt/paths";import{camelCase as S}from"scule";import{useSchemaOrgConfig as m}from"./config.mjs";import{createSitePathResolver as s}from"../../../../../nuxt-site-config/dist/runtime/nuxt/composables/utils.mjs";import{useSiteConfig as c}from"../../../../../nuxt-site-config/dist/runtime/nuxt/composables/useSiteConfig.mjs";function _(a){const t=f(),o=m(),e=y(),i=c(),n=s({absolute:!1,withBase:!0}),l=s({canonical:!0,absolute:!0,withBase:!0}),u=d(()=>{var r;return{...((r=e.meta)==null?void 0:r.schemaOrg)||{},...i,url:l(e.path),host:w(i.url),inLanguage:i.currentLocale||i.defaultLocale,path:n(e.path)}});t.push({templateParams:{schemaOrg:u}}),t.use(p({},async()=>{const r={};return await a.hooks.callHook("schema-org:meta",r),r},{minify:o.minify,trailingSlash:i.trailingSlash}))}function j(){const a=m(),t=c();if(a.identity||t.identity){const o=a.identity||t.identity;let e={name:t.name,url:t.url},i;if(typeof o!="string"?(e=g(o,e),i=o.type,delete e.type):i=o,t.twitter){const n=t.twitter.startsWith("@")?t.twitter.slice(1):t.twitter;e.sameAs=[`https://twitter.com/${n}`]}e._resolver=e._resolver||S(i),h([e])}}export{_ as initPlugin,j as maybeAddIdentitySchemaOrg};
//# sourceMappingURL=shared.mjs.map
