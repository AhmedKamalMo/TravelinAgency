{"version":3,"file":"_id_.vue3.mjs","sources":["../../../../../pages/packages/[id].vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div v-if=\"pending && !package_\" class=\"flex justify-center items-center min-h-screen\">\r\n      <div class=\"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent\"></div>\r\n      <span class=\"sr-only\">{{ $t('common.loading') }}</span>\r\n    </div>\r\n\r\n    <div v-else-if=\"error\" class=\"min-h-screen flex flex-col items-center justify-center px-4 text-center\">\r\n      <h1 class=\"text-2xl font-bold text-gray-900 mb-4\">{{ $t('common.error') }}</h1>\r\n      <p class=\"text-gray-600 mb-8\">{{ error.message }}</p>\r\n      <NuxtLink \r\n        to=\"/\" \r\n        class=\"rounded-full bg-primary px-6 py-3 text-white hover:bg-primary-dark transition-colors\"\r\n      >\r\n        {{ $t('common.back_home') }}\r\n      </NuxtLink>\r\n    </div>\r\n\r\n    <div \r\n      v-else-if=\"package_\" \r\n      class=\"relative min-h-screen\"\r\n    >\r\n      <!-- Hero Section -->\r\n      <div \r\n        class=\"relative h-[40vh] md:h-[60vh]\"\r\n        :style=\"{\r\n          viewTransitionName: `package-image-${package_.id}`\r\n        }\"\r\n      >\r\n        <NuxtImg\r\n          :src=\"package_.image_url\"\r\n          class=\"h-full w-full object-cover\"\r\n          :alt=\"$i18n.locale === 'ar-SA' ? package_.title_ar : package_.title_en\"\r\n        />\r\n        <div class=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\"></div>\r\n      </div>\r\n\r\n      <!-- Content -->\r\n      <div \r\n        class=\"relative z-10 -mt-32 rounded-t-[2.5rem] bg-surface px-4 pb-20 pt-12 md:px-8\"\r\n        :style=\"{\r\n          viewTransitionName: `package-content-${package_.id}`\r\n        }\"\r\n      >\r\n        <PackageDetails \r\n          :package_=\"package_\"\r\n          @contact=\"showContactForm = true\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Package Not Found -->\r\n    <div v-else class=\"min-h-screen flex flex-col items-center justify-center px-4 text-center\">\r\n      <h1 class=\"text-2xl font-bold text-gray-900 mb-4\">{{ $t('packages.not_found') }}</h1>\r\n      <p class=\"text-gray-600 mb-8\">{{ $t('packages.not_found_description') }}</p>\r\n      <NuxtLink \r\n        to=\"/packages\" \r\n        class=\"rounded-full bg-primary px-6 py-3 text-white hover:bg-primary-dark transition-colors\"\r\n      >\r\n        {{ $t('packages.view_all') }}\r\n      </NuxtLink>\r\n    </div>\r\n\r\n    <!-- Contact Form Modal -->\r\n    <ContactForm v-model=\"showContactForm\" :package_=\"package_\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, watch, computed, onMounted } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useI18n } from 'vue-i18n'\r\nimport type { Package } from '~/composables/usePackages'\r\nimport { usePackages } from '~/composables/usePackages'\r\n\r\nimport PackageDetails from '~/components/packages/PackageDetails.vue'\r\nimport ContactForm from '~/components/ContactForm.vue'\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\nconst { t, locale } = useI18n()\r\nconst { packages, pending, error } = usePackages()\r\nconst showContactForm = ref(false)\r\n\r\n// Get package by ID from the packages data\r\nconst package_ = computed(() => {\r\n  const packageId = route.params.id as string\r\n  return packages.value?.find(p => p.id === packageId) || null\r\n})\r\n\r\n// Define page meta for proper routing\r\ndefinePageMeta({\r\n  layout: 'default'\r\n})\r\n\r\n// Watch for package data and redirect if not found\r\nwatch([package_, pending], ([newPackage, isPending]) => {\r\n  if (!newPackage && !isPending) {\r\n    router.push('/packages')\r\n  }\r\n})\r\n\r\n// SEO\r\nuseHead({\r\n  title: computed(() => package_.value ? `${package_.value[`title_${locale.value.slice(0, 2)}`]} | Wonder Land Agency` : 'Loading...'),\r\n  meta: [\r\n    {\r\n      name: 'description',\r\n      content: computed(() => package_.value?.[`description_${locale.value.slice(0, 2)}`] || '')\r\n    },\r\n    {\r\n      property: 'og:title',\r\n      content: computed(() => package_.value?.[`title_${locale.value.slice(0, 2)}`] || '')\r\n    },\r\n    {\r\n      property: 'og:description',\r\n      content: computed(() => package_.value?.[`description_${locale.value.slice(0, 2)}`] || '')\r\n    },\r\n    {\r\n      property: 'og:image',\r\n      content: computed(() => package_.value?.image_url || '')\r\n    },\r\n    {\r\n      name: 'twitter:card',\r\n      content: 'summary_large_image'\r\n    },\r\n    {\r\n      property: 'og:type',\r\n      content: 'product'\r\n    },\r\n    {\r\n      property: 'og:price:amount',\r\n      content: computed(() => package_.value?.price.toString() || '')\r\n    },\r\n    {\r\n      property: 'og:price:currency',\r\n      content: 'SAR'\r\n    }\r\n  ]\r\n})\r\n</script>"],"names":["route","useRoute","router","useRouter","t","locale","useI18n","packages","pending","error","usePackages","showContactForm","ref","package_","computed","packageId","_a","p","watch","newPackage","isPending","useHead"],"mappings":"qlCA8EA,MAAMA,EAAQC,EAAS,EACjBC,EAASC,EAAU,EACnB,CAAE,EAAAC,EAAG,OAAAC,CAAO,EAAIC,EAAQ,EACxB,CAAE,SAAAC,EAAU,QAAAC,EAAS,MAAAC,CAAA,EAAUC,EAAY,EAC3CC,EAAkBC,EAAI,EAAK,EAG3BC,EAAWC,EAAS,IAAM,OACxB,MAAAC,EAAYf,EAAM,OAAO,GAC/B,QAAOgB,EAAAT,EAAS,QAAT,YAAAS,EAAgB,QAAUC,EAAE,KAAOF,KAAc,IAAA,CACzD,EAQK,OAAAG,EAAA,CAACL,EAAUL,CAAO,EAAG,CAAC,CAACW,EAAYC,CAAS,IAAM,CAClD,CAACD,GAAc,CAACC,GAClBlB,EAAO,KAAK,WAAW,CACzB,CACD,EAGOmB,EAAA,CACN,MAAOP,EAAS,IAAMD,EAAS,MAAQ,GAAGA,EAAS,MAAM,SAASR,EAAO,MAAM,MAAM,EAAG,CAAC,CAAC,EAAE,CAAC,wBAA0B,YAAY,EACnI,KAAM,CACJ,CACE,KAAM,cACN,QAASS,EAAS,IAAA,OAAM,QAAAE,EAAAH,EAAS,QAAT,YAAAG,EAAiB,eAAeX,EAAO,MAAM,MAAM,EAAG,CAAC,CAAC,MAAO,GAAE,CAC3F,EACA,CACE,SAAU,WACV,QAASS,EAAS,IAAA,OAAM,QAAAE,EAAAH,EAAS,QAAT,YAAAG,EAAiB,SAASX,EAAO,MAAM,MAAM,EAAG,CAAC,CAAC,MAAO,GAAE,CACrF,EACA,CACE,SAAU,iBACV,QAASS,EAAS,IAAA,OAAM,QAAAE,EAAAH,EAAS,QAAT,YAAAG,EAAiB,eAAeX,EAAO,MAAM,MAAM,EAAG,CAAC,CAAC,MAAO,GAAE,CAC3F,EACA,CACE,SAAU,WACV,QAASS,EAAS,IAAA,OAAM,QAAAE,EAAAH,EAAS,QAAT,YAAAG,EAAgB,YAAa,GAAE,CACzD,EACA,CACE,KAAM,eACN,QAAS,qBACX,EACA,CACE,SAAU,UACV,QAAS,SACX,EACA,CACE,SAAU,kBACV,QAASF,EAAS,WAAM,QAAAE,EAAAH,EAAS,QAAT,YAAAG,EAAgB,MAAM,aAAc,GAAE,CAChE,EACA,CACE,SAAU,oBACV,QAAS,KAAA,CACX,CACF,CACD"}