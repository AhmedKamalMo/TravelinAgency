import V from"../../../../node_modules/nuxt/dist/app/components/nuxt-link.mjs";import B from"../../../../node_modules/_nuxt/icon/dist/runtime/components/index2.mjs";import{ref as p,computed as $,watch as E,mergeProps as Q,withCtx as R,createVNode as z,createTextVNode as S,unref as e,useSSRContext as G}from"vue";import{ssrRenderAttrs as H,ssrRenderComponent as b,ssrRenderAttr as J,ssrIncludeBooleanAttr as l,ssrLooseContain as d,ssrLooseEqual as i,ssrRenderList as _,ssrInterpolate as n,ssrRenderClass as C}from"vue/server-renderer";import"F:/TravelinAgency/node_modules/hookable/dist/index.mjs";const y=10,T={__name:"index",__ssrInlineRender:!0,setup(L){const A=p(!0),g=p([]),v=p(""),a=p(""),r=p(""),c=p(1),x=$(()=>{let s=g.value;if(v.value){const t=v.value.toLowerCase();s=s.filter(u=>u.title.toLowerCase().includes(t)||u.slug.toLowerCase().includes(t))}return a.value&&(s=s.filter(t=>t.status===a.value)),r.value&&(s=s.filter(t=>t.template===r.value)),s}),k=$(()=>Math.ceil(x.value.length/y)),D=$(()=>{const s=(c.value-1)*y,t=s+y;return x.value.slice(s,t)}),N=$(()=>{const s=[],t=Math.max(1,c.value-2),u=Math.min(k.value,c.value+2);for(let m=t;m<=u;m++)s.push(m);return s}),j=s=>({published:"منشور",draft:"مسودة",archived:"مؤرشف"})[s]||s,q=s=>({home:"الرئيسية",about:"من نحن",services:"الخدمات",contact:"اتصل بنا",default:"افتراضي"})[s]||s,F=s=>new Date(s).toLocaleDateString("ar-SA");return E([v,a,r],()=>{c.value=1}),(s,t,u,m)=>{const M=V,f=B;t(`<div${H(Q({class:"space-y-6"},m))}><div class="h-16"></div><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold text-gray-900">إدارة الصفحات</h1><p class="text-gray-600">إدارة صفحات الموقع والمحتوى</p></div>`),t(b(M,{to:"/admin/cms/pages/new",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center"},{default:R((o,h,w,P)=>{if(h)h(b(f,{name:"material-symbols:add",class:"h-5 w-5 ml-2"},null,w,P)),h(" صفحة جديدة ");else return[z(f,{name:"material-symbols:add",class:"h-5 w-5 ml-2"}),S(" صفحة جديدة ")]}),_:1},u)),t(`</div><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="flex flex-wrap gap-4"><div class="flex-1 min-w-64"><label class="block text-sm font-medium text-gray-700 mb-2">البحث</label><input${J("value",e(v))} type="text" placeholder="البحث في الصفحات..." class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div class="min-w-48"><label class="block text-sm font-medium text-gray-700 mb-2">الحالة</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${l(Array.isArray(e(a))?d(e(a),""):i(e(a),""))?" selected":""}>جميع الحالات</option><option value="published"${l(Array.isArray(e(a))?d(e(a),"published"):i(e(a),"published"))?" selected":""}>منشور</option><option value="draft"${l(Array.isArray(e(a))?d(e(a),"draft"):i(e(a),"draft"))?" selected":""}>مسودة</option><option value="archived"${l(Array.isArray(e(a))?d(e(a),"archived"):i(e(a),"archived"))?" selected":""}>مؤرشف</option></select></div><div class="min-w-48"><label class="block text-sm font-medium text-gray-700 mb-2">القالب</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${l(Array.isArray(e(r))?d(e(r),""):i(e(r),""))?" selected":""}>جميع القوالب</option><option value="home"${l(Array.isArray(e(r))?d(e(r),"home"):i(e(r),"home"))?" selected":""}>الرئيسية</option><option value="about"${l(Array.isArray(e(r))?d(e(r),"about"):i(e(r),"about"))?" selected":""}>من نحن</option><option value="services"${l(Array.isArray(e(r))?d(e(r),"services"):i(e(r),"services"))?" selected":""}>الخدمات</option><option value="contact"${l(Array.isArray(e(r))?d(e(r),"contact"):i(e(r),"contact"))?" selected":""}>اتصل بنا</option><option value="default"${l(Array.isArray(e(r))?d(e(r),"default"):i(e(r),"default"))?" selected":""}>افتراضي</option></select></div></div></div><div class="bg-white rounded-xl shadow-sm border border-gray-200"><div class="p-6 border-b border-gray-200"><h2 class="text-lg font-semibold text-gray-900">الصفحات</h2></div>`),e(A)?(t('<div class="text-center py-8">'),t(b(f,{name:"material-symbols:refresh",class:"h-8 w-8 text-gray-400 animate-spin mx-auto"},null,u)),t('<p class="text-gray-600 mt-2">جاري التحميل...</p></div>')):e(x).length===0?(t('<div class="text-center py-8">'),t(b(f,{name:"material-symbols:description",class:"h-12 w-12 text-gray-400 mx-auto"},null,u)),t('<p class="text-gray-600 mt-2">لا توجد صفحات</p></div>')):(t('<div class="overflow-x-auto"><table class="w-full"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الصفحة</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الحالة</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">القالب</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">آخر تحديث</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الإجراءات</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><!--[-->'),_(e(D),o=>{t(`<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div><div class="text-sm font-medium text-gray-900">${n(o.title)}</div><div class="text-sm text-gray-500">${n(o.slug)}</div></div></td><td class="px-6 py-4 whitespace-nowrap"><span class="${C(["px-2 py-1 text-xs font-medium rounded-full",o.status==="published"?"bg-green-100 text-green-800":o.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])}">${n(j(o.status))}</span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${n(q(o.template))}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${n(F(o.updated_at))}</td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><div class="flex items-center space-x-3 space-x-reverse">`),t(b(M,{to:`/admin/cms/pages/${o.id}`,class:"text-blue-600 hover:text-blue-900"},{default:R((h,w,P,K)=>{if(w)w(" تعديل ");else return[S(" تعديل ")]}),_:2},u)),t(`<button class="${C(["px-2 py-1 text-xs rounded",o.status==="published"?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-green-100 text-green-800 hover:bg-green-200"])}">${n(o.status==="published"?"إلغاء النشر":"نشر")}</button><button class="text-red-600 hover:text-red-900"> حذف </button></div></td></tr>`)}),t("<!--]--></tbody></table></div>")),e(k)>1?(t(`<div class="px-6 py-4 border-t border-gray-200"><div class="flex items-center justify-between"><div class="text-sm text-gray-700"> عرض ${n((e(c)-1)*y+1)} إلى ${n(Math.min(e(c)*y,e(x).length))} من ${n(e(x).length)} صفحة </div><div class="flex space-x-2 space-x-reverse"><button${l(e(c)===1)?" disabled":""} class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"> السابق </button><!--[-->`),_(e(N),o=>{t(`<span class="${C(["px-3 py-1 text-sm border rounded cursor-pointer",o===e(c)?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"])}">${n(o)}</span>`)}),t(`<!--]--><button${l(e(c)===e(k))?" disabled":""} class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"> التالي </button></div></div></div>`)):t("<!---->"),t("</div></div>")}}},I=T.setup;T.setup=(L,A)=>{const g=G();return(g.modules||(g.modules=new Set)).add("pages/admin/cms/pages/index.vue"),I?I(L,A):void 0};export{T as default};
//# sourceMappingURL=index.vue.mjs.map
