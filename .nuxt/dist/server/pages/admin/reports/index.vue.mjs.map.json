{"file":"index.vue.mjs","mappings":"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","names":["loading","ref","selectedPeriod","customStartDate","customEndDate","stats","topPackages","customerStats","performanceMetrics","revenueChartData","bookingsChartData","customerDistributionData","destinationsChartData","teamPerformanceData","revenueChartOptions","value","bookingsChartOptions","customerChartOptions","destinationsChartOptions","teamChartOptions","formatPrice","price","useHead"],"sources":["../../../../../../pages/admin/reports/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"space-y-6\">\r\n    <!-- مساحة إضافية في الأعلى -->\r\n    <div class=\"h-16\"></div>\r\n    \r\n    <!-- رأس الصفحة -->\r\n    <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\r\n      <div>\r\n        <h1 class=\"text-2xl font-bold text-gray-900\">التقارير والإحصائيات</h1>\r\n        <p class=\"mt-1 text-sm text-gray-600\">تحليل شامل لأداء الموقع والمبيعات</p>\r\n      </div>\r\n      <div class=\"mt-4 sm:mt-0 flex space-x-3 space-x-reverse\">\r\n        <button\r\n          @click=\"exportReport\"\r\n          class=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n        >\r\n          <Icon name=\"material-symbols:download\" class=\"h-5 w-5 ml-2\" />\r\n          تصدير التقرير\r\n        </button>\r\n        <button\r\n          @click=\"refreshData\"\r\n          :disabled=\"loading\"\r\n          class=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\r\n        >\r\n          <Icon v-if=\"loading\" name=\"material-symbols:progress-activity\" class=\"animate-spin h-5 w-5 ml-2\" />\r\n          <Icon v-else name=\"material-symbols:refresh\" class=\"h-5 w-5 ml-2\" />\r\n          تحديث البيانات\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- فلاتر الفترة الزمنية -->\r\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n      <div class=\"flex flex-wrap items-center gap-4\">\r\n        <div class=\"flex items-center space-x-2 space-x-reverse\">\r\n          <label class=\"text-sm font-medium text-gray-700\">الفترة الزمنية:</label>\r\n          <select\r\n            v-model=\"selectedPeriod\"\r\n            @change=\"loadReportData\"\r\n            class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          >\r\n            <option value=\"today\">اليوم</option>\r\n            <option value=\"week\">هذا الأسبوع</option>\r\n            <option value=\"month\">هذا الشهر</option>\r\n            <option value=\"quarter\">هذا الربع</option>\r\n            <option value=\"year\">هذا العام</option>\r\n            <option value=\"custom\">فترة مخصصة</option>\r\n          </select>\r\n        </div>\r\n        \r\n        <div v-if=\"selectedPeriod === 'custom'\" class=\"flex items-center space-x-2 space-x-reverse\">\r\n          <input\r\n            v-model=\"customStartDate\"\r\n            type=\"date\"\r\n            class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          />\r\n          <span class=\"text-gray-500\">إلى</span>\r\n          <input\r\n            v-model=\"customEndDate\"\r\n            type=\"date\"\r\n            class=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          />\r\n          <button\r\n            @click=\"loadReportData\"\r\n            class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            تطبيق\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- إحصائيات عامة -->\r\n    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div class=\"flex items-center justify-between\">\r\n          <div>\r\n            <p class=\"text-sm font-medium text-gray-600\">إجمالي المبيعات</p>\r\n            <p class=\"text-2xl font-bold text-gray-900\">{{ formatPrice(stats.totalRevenue) }}</p>\r\n            <p class=\"text-sm text-green-600\">{{ stats.revenueGrowth }}% من الفترة السابقة</p>\r\n          </div>\r\n          <div class=\"p-3 bg-green-100 rounded-lg\">\r\n            <Icon name=\"material-symbols:attach-money\" class=\"h-6 w-6 text-green-600\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div class=\"flex items-center justify-between\">\r\n          <div>\r\n            <p class=\"text-sm font-medium text-gray-600\">عدد الحجوزات</p>\r\n            <p class=\"text-2xl font-bold text-gray-900\">{{ stats.totalBookings }}</p>\r\n            <p class=\"text-sm text-blue-600\">{{ stats.bookingsGrowth }}% من الفترة السابقة</p>\r\n          </div>\r\n          <div class=\"p-3 bg-blue-100 rounded-lg\">\r\n            <Icon name=\"material-symbols:book-online\" class=\"h-6 w-6 text-blue-600\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div class=\"flex items-center justify-between\">\r\n          <div>\r\n            <p class=\"text-sm font-medium text-gray-600\">متوسط قيمة الحجز</p>\r\n            <p class=\"text-2xl font-bold text-gray-900\">{{ formatPrice(stats.averageBookingValue) }}</p>\r\n            <p class=\"text-sm text-purple-600\">{{ stats.avgValueGrowth }}% من الفترة السابقة</p>\r\n          </div>\r\n          <div class=\"p-3 bg-purple-100 rounded-lg\">\r\n            <Icon name=\"material-symbols:trending-up\" class=\"h-6 w-6 text-purple-600\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div class=\"flex items-center justify-between\">\r\n          <div>\r\n            <p class=\"text-sm font-medium text-gray-600\">معدل التحويل</p>\r\n            <p class=\"text-2xl font-bold text-gray-900\">{{ stats.conversionRate }}%</p>\r\n            <p class=\"text-sm text-orange-600\">{{ stats.conversionGrowth }}% من الفترة السابقة</p>\r\n          </div>\r\n          <div class=\"p-3 bg-orange-100 rounded-lg\">\r\n            <Icon name=\"material-symbols:percent\" class=\"h-6 w-6 text-orange-600\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- الرسوم البيانية -->\r\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n      <!-- رسم المبيعات -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <h3 class=\"text-lg font-semibold text-gray-900\">اتجاه المبيعات</h3>\r\n          <div class=\"flex items-center space-x-2 space-x-reverse\">\r\n            <span class=\"text-sm text-gray-500\">آخر 12 شهر</span>\r\n            <Icon name=\"material-symbols:trending-up\" class=\"h-5 w-5 text-green-600\" />\r\n          </div>\r\n        </div>\r\n        <LineChart \r\n          :data=\"revenueChartData\" \r\n          :height=\"280\"\r\n          :options=\"revenueChartOptions\"\r\n        />\r\n      </div>\r\n\r\n      <!-- رسم الحجوزات -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <h3 class=\"text-lg font-semibold text-gray-900\">اتجاه الحجوزات</h3>\r\n          <div class=\"flex items-center space-x-2 space-x-reverse\">\r\n            <span class=\"text-sm text-gray-500\">آخر 12 شهر</span>\r\n            <Icon name=\"material-symbols:show-chart\" class=\"h-5 w-5 text-blue-600\" />\r\n          </div>\r\n        </div>\r\n        <BarChart \r\n          :data=\"bookingsChartData\" \r\n          :height=\"280\"\r\n          :options=\"bookingsChartOptions\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- رسوم بيانية إضافية -->\r\n    <div class=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n      <!-- توزيع العملاء -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <h3 class=\"text-lg font-semibold text-gray-900\">توزيع العملاء</h3>\r\n          <Icon name=\"material-symbols:pie-chart\" class=\"h-5 w-5 text-purple-600\" />\r\n        </div>\r\n        <PieChart \r\n          :data=\"customerDistributionData\" \r\n          :height=\"250\"\r\n          :options=\"customerChartOptions\"\r\n        />\r\n      </div>\r\n\r\n      <!-- أفضل الوجهات -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <h3 class=\"text-lg font-semibold text-gray-900\">أفضل الوجهات</h3>\r\n          <Icon name=\"material-symbols:location-on\" class=\"h-5 w-5 text-green-600\" />\r\n        </div>\r\n        <BarChart \r\n          :data=\"destinationsChartData\" \r\n          :height=\"250\"\r\n          :options=\"destinationsChartOptions\"\r\n        />\r\n      </div>\r\n\r\n      <!-- أداء الفريق -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <div class=\"flex items-center justify-between mb-4\">\r\n          <h3 class=\"text-lg font-semibold text-gray-900\">أداء الفريق</h3>\r\n          <Icon name=\"material-symbols:group\" class=\"h-5 w-5 text-orange-600\" />\r\n        </div>\r\n        <DoughnutChart \r\n          :data=\"teamPerformanceData\" \r\n          :height=\"250\"\r\n          :options=\"teamChartOptions\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- تقارير مفصلة -->\r\n    <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n      <!-- أفضل الباقات مبيعاً -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">أفضل الباقات مبيعاً</h3>\r\n        <div class=\"space-y-4\">\r\n          <div v-for=\"(pkg, index) in topPackages\" :key=\"pkg.id\" class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center space-x-3 space-x-reverse\">\r\n              <div class=\"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\r\n                <span class=\"text-sm font-medium text-blue-600\">{{ index + 1 }}</span>\r\n              </div>\r\n              <div>\r\n                <p class=\"text-sm font-medium text-gray-900\">{{ pkg.title }}</p>\r\n                <p class=\"text-xs text-gray-500\">{{ pkg.bookings }} حجز</p>\r\n              </div>\r\n            </div>\r\n            <div class=\"text-right\">\r\n              <p class=\"text-sm font-medium text-gray-900\">{{ formatPrice(pkg.revenue) }}</p>\r\n              <p class=\"text-xs text-gray-500\">{{ pkg.growth }}%</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- إحصائيات العملاء -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">إحصائيات العملاء</h3>\r\n        <div class=\"space-y-4\">\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-sm text-gray-600\">عملاء جدد</span>\r\n            <span class=\"text-sm font-medium text-gray-900\">{{ customerStats.newCustomers }}</span>\r\n          </div>\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-sm text-gray-600\">عملاء متكررون</span>\r\n            <span class=\"text-sm font-medium text-gray-900\">{{ customerStats.repeatCustomers }}</span>\r\n          </div>\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-sm text-gray-600\">معدل الاحتفاظ</span>\r\n            <span class=\"text-sm font-medium text-gray-900\">{{ customerStats.retentionRate }}%</span>\r\n          </div>\r\n          <div class=\"flex justify-between items-center\">\r\n            <span class=\"text-sm text-gray-600\">متوسط قيمة العميل</span>\r\n            <span class=\"text-sm font-medium text-gray-900\">{{ formatPrice(customerStats.avgCustomerValue) }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- تقرير الأداء -->\r\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n      <h3 class=\"text-lg font-semibold text-gray-900 mb-4\">تقرير الأداء الشامل</h3>\r\n      <div class=\"overflow-x-auto\">\r\n        <table class=\"min-w-full divide-y divide-gray-200\">\r\n          <thead class=\"bg-gray-50\">\r\n            <tr>\r\n              <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">المؤشر</th>\r\n              <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">القيمة الحالية</th>\r\n              <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">الفترة السابقة</th>\r\n              <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">التغيير</th>\r\n              <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">الاتجاه</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"bg-white divide-y divide-gray-200\">\r\n            <tr v-for=\"metric in performanceMetrics\" :key=\"metric.name\">\r\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{{ metric.name }}</td>\r\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{{ metric.current }}</td>\r\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">{{ metric.previous }}</td>\r\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm\">\r\n                <span :class=\"metric.change >= 0 ? 'text-green-600' : 'text-red-600'\">\r\n                  {{ metric.change >= 0 ? '+' : '' }}{{ metric.change }}%\r\n                </span>\r\n              </td>\r\n              <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                <Icon \r\n                  :name=\"metric.change >= 0 ? 'material-symbols:trending-up' : 'material-symbols:trending-down'\" \r\n                  :class=\"metric.change >= 0 ? 'text-green-600' : 'text-red-600'\"\r\n                  class=\"h-5 w-5\"\r\n                />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { LineChart, BarChart, PieChart, DoughnutChart } from '~/components/charts'\r\n\r\n// إعداد الصفحة\r\ndefinePageMeta({\r\n  layout: 'admin',\r\n  middleware: 'admin'\r\n})\r\n\r\n// المتغيرات التفاعلية\r\nconst loading = ref(false)\r\nconst selectedPeriod = ref('month')\r\nconst customStartDate = ref('')\r\nconst customEndDate = ref('')\r\n\r\n// البيانات\r\nconst stats = ref({\r\n  totalRevenue: 0,\r\n  revenueGrowth: 0,\r\n  totalBookings: 0,\r\n  bookingsGrowth: 0,\r\n  averageBookingValue: 0,\r\n  avgValueGrowth: 0,\r\n  conversionRate: 0,\r\n  conversionGrowth: 0\r\n})\r\n\r\nconst topPackages = ref([])\r\nconst customerStats = ref({\r\n  newCustomers: 0,\r\n  repeatCustomers: 0,\r\n  retentionRate: 0,\r\n  avgCustomerValue: 0\r\n})\r\n\r\nconst performanceMetrics = ref([])\r\n\r\n// بيانات الرسوم البيانية\r\nconst revenueChartData = ref({\r\n  labels: ['يناير', 'فبراير', 'مارس', 'أبريل', 'مايو', 'يونيو', 'يوليو', 'أغسطس', 'سبتمبر', 'أكتوبر', 'نوفمبر', 'ديسمبر'],\r\n  datasets: [{\r\n    label: 'المبيعات (ريال)',\r\n    data: [45000, 52000, 48000, 61000, 55000, 67000, 72000, 68000, 75000, 80000, 78000, 85000],\r\n    borderColor: 'rgb(34, 197, 94)',\r\n    backgroundColor: 'rgba(34, 197, 94, 0.1)',\r\n    fill: true,\r\n    tension: 0.4\r\n  }]\r\n})\r\n\r\nconst bookingsChartData = ref({\r\n  labels: ['يناير', 'فبراير', 'مارس', 'أبريل', 'مايو', 'يونيو', 'يوليو', 'أغسطس', 'سبتمبر', 'أكتوبر', 'نوفمبر', 'ديسمبر'],\r\n  datasets: [{\r\n    label: 'عدد الحجوزات',\r\n    data: [12, 15, 18, 22, 20, 25, 28, 26, 30, 32, 29, 35],\r\n    backgroundColor: 'rgba(59, 130, 246, 0.8)',\r\n    borderColor: 'rgb(59, 130, 246)',\r\n    borderWidth: 1\r\n  }]\r\n})\r\n\r\nconst customerDistributionData = ref({\r\n  labels: ['عملاء جدد', 'عملاء متكررون', 'عملاء VIP', 'عملاء محتملون'],\r\n  datasets: [{\r\n    data: [45, 30, 15, 10],\r\n    backgroundColor: [\r\n      'rgba(59, 130, 246, 0.8)',\r\n      'rgba(16, 185, 129, 0.8)',\r\n      'rgba(245, 158, 11, 0.8)',\r\n      'rgba(239, 68, 68, 0.8)'\r\n    ],\r\n    borderColor: [\r\n      'rgb(59, 130, 246)',\r\n      'rgb(16, 185, 129)',\r\n      'rgb(245, 158, 11)',\r\n      'rgb(239, 68, 68)'\r\n    ]\r\n  }]\r\n})\r\n\r\nconst destinationsChartData = ref({\r\n  labels: ['دبي', 'تركيا', 'ماليزيا', 'تايلاند', 'مصر', 'المغرب'],\r\n  datasets: [{\r\n    label: 'عدد الحجوزات',\r\n    data: [25, 20, 18, 15, 12, 10],\r\n    backgroundColor: [\r\n      'rgba(16, 185, 129, 0.8)',\r\n      'rgba(59, 130, 246, 0.8)',\r\n      'rgba(245, 158, 11, 0.8)',\r\n      'rgba(239, 68, 68, 0.8)',\r\n      'rgba(139, 92, 246, 0.8)',\r\n      'rgba(236, 72, 153, 0.8)'\r\n    ],\r\n    borderColor: [\r\n      'rgb(16, 185, 129)',\r\n      'rgb(59, 130, 246)',\r\n      'rgb(245, 158, 11)',\r\n      'rgb(239, 68, 68)',\r\n      'rgb(139, 92, 246)',\r\n      'rgb(236, 72, 153)'\r\n    ],\r\n    borderWidth: 1\r\n  }]\r\n})\r\n\r\nconst teamPerformanceData = ref({\r\n  labels: ['أحمد محمد', 'فاطمة علي', 'محمد أحمد', 'نورا سعد', 'خالد حسن'],\r\n  datasets: [{\r\n    data: [25, 20, 18, 15, 12],\r\n    backgroundColor: [\r\n      'rgba(34, 197, 94, 0.8)',\r\n      'rgba(59, 130, 246, 0.8)',\r\n      'rgba(245, 158, 11, 0.8)',\r\n      'rgba(239, 68, 68, 0.8)',\r\n      'rgba(139, 92, 246, 0.8)'\r\n    ],\r\n    borderColor: [\r\n      'rgb(34, 197, 94)',\r\n      'rgb(59, 130, 246)',\r\n      'rgb(245, 158, 11)',\r\n      'rgb(239, 68, 68)',\r\n      'rgb(139, 92, 246)'\r\n    ]\r\n  }]\r\n})\r\n\r\n// إعدادات الرسوم البيانية\r\nconst revenueChartOptions = ref({\r\n  plugins: {\r\n    legend: {\r\n      display: false\r\n    }\r\n  },\r\n  scales: {\r\n    y: {\r\n      beginAtZero: true,\r\n      ticks: {\r\n        callback: function(value) {\r\n          return new Intl.NumberFormat('ar-SA').format(value) + ' ريال'\r\n        }\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nconst bookingsChartOptions = ref({\r\n  plugins: {\r\n    legend: {\r\n      display: false\r\n    }\r\n  },\r\n  scales: {\r\n    y: {\r\n      beginAtZero: true,\r\n      ticks: {\r\n        stepSize: 5\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nconst customerChartOptions = ref({\r\n  plugins: {\r\n    legend: {\r\n      position: 'bottom',\r\n      labels: {\r\n        padding: 15,\r\n        usePointStyle: true\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nconst destinationsChartOptions = ref({\r\n  plugins: {\r\n    legend: {\r\n      display: false\r\n    }\r\n  },\r\n  scales: {\r\n    y: {\r\n      beginAtZero: true,\r\n      ticks: {\r\n        stepSize: 5\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nconst teamChartOptions = ref({\r\n  plugins: {\r\n    legend: {\r\n      position: 'bottom',\r\n      labels: {\r\n        padding: 10,\r\n        usePointStyle: true,\r\n        font: {\r\n          size: 10\r\n        }\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\n// تحميل بيانات التقرير\r\nconst loadReportData = async () => {\r\n  try {\r\n    loading.value = true\r\n    \r\n    // TODO: Add API endpoint for reports\r\n    // For now, use mock data\r\n    stats.value = {\r\n      totalRevenue: 125000,\r\n      revenueGrowth: 15.2,\r\n      totalBookings: 45,\r\n      bookingsGrowth: 8.5,\r\n      averageBookingValue: 2777,\r\n      avgValueGrowth: 6.3,\r\n      conversionRate: 3.2,\r\n      conversionGrowth: 1.1\r\n    }\r\n\r\n    topPackages.value = [\r\n      { id: 1, title: 'رحلة إلى دبي', bookings: 12, revenue: 30000, growth: 25 },\r\n      { id: 2, title: 'عمرة رمضان', bookings: 8, revenue: 14400, growth: 18 },\r\n      { id: 3, title: 'رحلة إلى تركيا', bookings: 6, revenue: 18000, growth: 12 }\r\n    ]\r\n\r\n    customerStats.value = {\r\n      newCustomers: 28,\r\n      repeatCustomers: 17,\r\n      retentionRate: 68,\r\n      avgCustomerValue: 3125\r\n    }\r\n\r\n    performanceMetrics.value = [\r\n      { name: 'إجمالي المبيعات', current: '125,000 ريال', previous: '108,500 ريال', change: 15.2 },\r\n      { name: 'عدد الحجوزات', current: '45', previous: '41', change: 8.5 },\r\n      { name: 'متوسط قيمة الحجز', current: '2,777 ريال', previous: '2,646 ريال', change: 6.3 },\r\n      { name: 'معدل التحويل', current: '3.2%', previous: '3.1%', change: 1.1 },\r\n      { name: 'عملاء جدد', current: '28', previous: '25', change: 12.0 },\r\n      { name: 'معدل الاحتفاظ', current: '68%', previous: '65%', change: 4.6 }\r\n    ]\r\n\r\n  } catch (error) {\r\n    console.error('خطأ في تحميل بيانات التقرير:', error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// تحديث البيانات\r\nconst refreshData = () => {\r\n  loadReportData()\r\n}\r\n\r\n// تصدير التقرير\r\nconst exportReport = () => {\r\n  // TODO: Implement report export functionality\r\n  console.log('Exporting report...')\r\n}\r\n\r\n// دوال المساعدة\r\nconst formatPrice = (price) => {\r\n  return new Intl.NumberFormat('ar-SA', {\r\n    style: 'currency',\r\n    currency: 'SAR'\r\n  }).format(price)\r\n}\r\n\r\n// تحميل البيانات عند تحميل الصفحة\r\nonMounted(() => {\r\n  loadReportData()\r\n})\r\n\r\n// SEO والميتا\r\nuseHead({\r\n  title: 'التقارير والإحصائيات - Wonder Land Admin',\r\n  meta: [\r\n    { name: 'description', content: 'تحليل شامل لأداء الموقع والمبيعات' },\r\n    { name: 'robots', content: 'noindex, nofollow' }\r\n  ]\r\n})\r\n</script>\r\n"],"version":3}