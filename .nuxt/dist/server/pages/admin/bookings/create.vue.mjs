import U from"../../../node_modules/nuxt/dist/app/components/nuxt-link.mjs";import I from"../../../node_modules/_nuxt/icon/dist/runtime/components/index2.mjs";import{ref as g,computed as N,watch as k,mergeProps as C,withCtx as w,createVNode as L,createTextVNode as h,unref as e,useSSRContext as P}from"vue";import{ssrRenderAttrs as V,ssrRenderComponent as v,ssrRenderAttr as d,ssrIncludeBooleanAttr as r,ssrLooseContain as s,ssrLooseEqual as o,ssrRenderList as F,ssrInterpolate as l}from"vue/server-renderer";import"F:/TravelinAgency/node_modules/hookable/dist/index.mjs";import{useHead as T}from"../../../node_modules/nuxt/dist/head/runtime/composables/v3.mjs";const R={__name:"create",__ssrInlineRender:!0,setup(x){const m=g(!1),y=g([]),n=g(null),t=g({customer_name:"",customer_email:"",customer_phone:"",package_id:"",guests_count:1,departure_date:"",return_date:"",total_amount:0,paid_amount:0,currency:"SAR",payment_method:"",payment_reference:"",booking_status:"pending",payment_status:"pending",special_requests:"",notes:"",booking_number:"",confirmed_at:""}),D=N(()=>t.value.customer_name&&t.value.customer_email&&t.value.customer_phone&&t.value.package_id&&t.value.departure_date&&t.value.total_amount>0),b=i=>i?new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR"}).format(i):"0.00 ر.س",q=i=>({confirmed:"مؤكدة",pending:"في الانتظار",cancelled:"ملغية",completed:"مكتملة"})[i]||i,j=i=>({paid:"مدفوع",partial:"مدفوع جزئياً",pending:"في الانتظار",refunded:"مسترد"})[i]||i;return k(()=>t.value.guests_count,()=>{n.value&&(t.value.total_amount=n.value.price*t.value.guests_count)}),k(()=>t.value.departure_date,()=>{var i;if(t.value.departure_date&&((i=n.value)!=null&&i.duration_days)){const a=new Date(t.value.departure_date),u=new Date(a);u.setDate(u.getDate()+n.value.duration_days),t.value.return_date=u.toISOString().split("T")[0]}}),T({title:"إضافة حجز جديد - Wonder Land Admin",meta:[{name:"description",content:"إنشاء حجز جديد للعميل"},{name:"robots",content:"noindex, nofollow"}]}),(i,a,u,E)=>{const _=U,f=I;a(`<div${V(C({class:"space-y-6"},E))}><div class="h-16"></div><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between"><div><h1 class="text-2xl font-bold text-gray-900">إضافة حجز جديد</h1><p class="mt-1 text-sm text-gray-600">إنشاء حجز جديد للعميل</p></div><div class="mt-4 sm:mt-0">`),a(v(_,{to:"/admin/bookings",class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:w((c,p,A,$)=>{if(p)p(v(f,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"},null,A,$)),p(" العودة ");else return[L(f,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),h(" العودة ")]}),_:1},u)),a(`</div></div><form class="space-y-6"><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"><div><h2 class="text-lg font-semibold text-gray-900 mb-4">معلومات العميل</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">اسم العميل *</label><input${d("value",e(t).customer_name)} type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل اسم العميل"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">البريد الإلكتروني *</label><input${d("value",e(t).customer_email)} type="email" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل البريد الإلكتروني"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">رقم الهاتف *</label><input${d("value",e(t).customer_phone)} type="tel" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="+966501234567"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">عدد الضيوف *</label><input${d("value",e(t).guests_count)} type="number" min="1" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div></div><div><h2 class="text-lg font-semibold text-gray-900 mb-4">تفاصيل الباقة</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">اختيار الباقة *</label><select required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${r(Array.isArray(e(t).package_id)?s(e(t).package_id,""):o(e(t).package_id,""))?" selected":""}>اختر الباقة</option><!--[-->`),F(e(y),c=>{a(`<option${d("value",c.id)}${r(Array.isArray(e(t).package_id)?s(e(t).package_id,c.id):o(e(t).package_id,c.id))?" selected":""}>${l(c.title_ar||c.title_en||c.title)} - ${l(b(c.price))}</option>`)}),a("<!--]--></select></div>"),e(n)?a(`<div><label class="block text-sm font-medium text-gray-700 mb-2">مدة الرحلة</label><input${d("value",e(n).duration_days+" أيام")} type="text" readonly class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"></div>`):a("<!---->"),a(`<div><label class="block text-sm font-medium text-gray-700 mb-2">تاريخ المغادرة *</label><input${d("value",e(t).departure_date)} type="date" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">تاريخ العودة</label><input${d("value",e(t).return_date)} type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div>`),e(n)?a(`<div class="mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200"><h3 class="text-sm font-medium text-blue-900 mb-2">تفاصيل الباقة المختارة</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800"><div><span class="font-medium">العنوان:</span> ${l(e(n).title_ar||e(n).title_en||e(n).title)}</div><div><span class="font-medium">السعر:</span> ${l(b(e(n).price))}</div><div><span class="font-medium">المدة:</span> ${l(e(n).duration_days)} أيام </div><div><span class="font-medium">الوجهة:</span> ${l(e(n).location||e(n).travel_period)}</div></div></div>`):a("<!---->"),a(`</div><div><h2 class="text-lg font-semibold text-gray-900 mb-4">تفاصيل الدفع</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">المبلغ الإجمالي *</label><input${d("value",e(t).total_amount)} type="number" min="0" step="0.01" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0.00"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">المبلغ المدفوع</label><input${d("value",e(t).paid_amount)} type="number" min="0" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0.00"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">العملة</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="SAR"${r(Array.isArray(e(t).currency)?s(e(t).currency,"SAR"):o(e(t).currency,"SAR"))?" selected":""}>ريال سعودي (SAR)</option><option value="USD"${r(Array.isArray(e(t).currency)?s(e(t).currency,"USD"):o(e(t).currency,"USD"))?" selected":""}>دولار أمريكي (USD)</option><option value="EUR"${r(Array.isArray(e(t).currency)?s(e(t).currency,"EUR"):o(e(t).currency,"EUR"))?" selected":""}>يورو (EUR)</option><option value="AED"${r(Array.isArray(e(t).currency)?s(e(t).currency,"AED"):o(e(t).currency,"AED"))?" selected":""}>درهم إماراتي (AED)</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">طريقة الدفع</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${r(Array.isArray(e(t).payment_method)?s(e(t).payment_method,""):o(e(t).payment_method,""))?" selected":""}>اختر طريقة الدفع</option><option value="cash"${r(Array.isArray(e(t).payment_method)?s(e(t).payment_method,"cash"):o(e(t).payment_method,"cash"))?" selected":""}>نقداً</option><option value="bank_transfer"${r(Array.isArray(e(t).payment_method)?s(e(t).payment_method,"bank_transfer"):o(e(t).payment_method,"bank_transfer"))?" selected":""}>تحويل بنكي</option><option value="credit_card"${r(Array.isArray(e(t).payment_method)?s(e(t).payment_method,"credit_card"):o(e(t).payment_method,"credit_card"))?" selected":""}>بطاقة ائتمان</option><option value="online"${r(Array.isArray(e(t).payment_method)?s(e(t).payment_method,"online"):o(e(t).payment_method,"online"))?" selected":""}>دفع إلكتروني</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">مرجع الدفع</label><input${d("value",e(t).payment_reference)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="رقم المرجع أو المعاملة"></div></div></div><div><h2 class="text-lg font-semibold text-gray-900 mb-4">طلبات خاصة وملاحظات</h2><div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">طلبات خاصة</label><textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أي طلبات خاصة من العميل">${l(e(t).special_requests)}</textarea></div><div><label class="block text-sm font-medium text-gray-700 mb-2">ملاحظات إدارية</label><textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="ملاحظات إدارية أو تفاصيل إضافية">${l(e(t).notes)}</textarea></div></div></div></div><div class="space-y-6"><div class="bg-gray-50 rounded-lg p-4"><h3 class="text-lg font-semibold text-gray-900 mb-4">حالة الحجز</h3><div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">حالة الحجز *</label><select required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="pending"${r(Array.isArray(e(t).booking_status)?s(e(t).booking_status,"pending"):o(e(t).booking_status,"pending"))?" selected":""}>في الانتظار</option><option value="confirmed"${r(Array.isArray(e(t).booking_status)?s(e(t).booking_status,"confirmed"):o(e(t).booking_status,"confirmed"))?" selected":""}>مؤكدة</option><option value="cancelled"${r(Array.isArray(e(t).booking_status)?s(e(t).booking_status,"cancelled"):o(e(t).booking_status,"cancelled"))?" selected":""}>ملغية</option><option value="completed"${r(Array.isArray(e(t).booking_status)?s(e(t).booking_status,"completed"):o(e(t).booking_status,"completed"))?" selected":""}>مكتملة</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">حالة الدفع *</label><select required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="pending"${r(Array.isArray(e(t).payment_status)?s(e(t).payment_status,"pending"):o(e(t).payment_status,"pending"))?" selected":""}>في الانتظار</option><option value="partial"${r(Array.isArray(e(t).payment_status)?s(e(t).payment_status,"partial"):o(e(t).payment_status,"partial"))?" selected":""}>مدفوع جزئياً</option><option value="paid"${r(Array.isArray(e(t).payment_status)?s(e(t).payment_status,"paid"):o(e(t).payment_status,"paid"))?" selected":""}>مدفوع بالكامل</option><option value="refunded"${r(Array.isArray(e(t).payment_status)?s(e(t).payment_status,"refunded"):o(e(t).payment_status,"refunded"))?" selected":""}>مسترد</option></select></div></div></div><div class="bg-blue-50 rounded-lg border border-blue-200 p-4"><h3 class="text-lg font-semibold text-blue-900 mb-3">ملخص الحجز</h3><div class="space-y-2 text-sm text-blue-800"><div class="flex justify-between"><span>العميل:</span><span>${l(e(t).customer_name||"غير محدد")}</span></div><div class="flex justify-between"><span>عدد الضيوف:</span><span>${l(e(t).guests_count||0)}</span></div><div class="flex justify-between"><span>تاريخ المغادرة:</span><span>${l(e(t).departure_date||"غير محدد")}</span></div><div class="flex justify-between"><span>المبلغ الإجمالي:</span><span>${l(b(e(t).total_amount))}</span></div><div class="flex justify-between"><span>المبلغ المدفوع:</span><span>${l(b(e(t).paid_amount))}</span></div><div class="flex justify-between"><span>المتبقي:</span><span>${l(b(e(t).total_amount-e(t).paid_amount))}</span></div><div class="flex justify-between"><span>حالة الحجز:</span><span>${l(q(e(t).booking_status))}</span></div><div class="flex justify-between"><span>حالة الدفع:</span><span>${l(j(e(t).payment_status))}</span></div></div></div><div class="bg-gray-50 rounded-lg p-4"><h3 class="text-lg font-semibold text-gray-900 mb-4">معلومات إضافية</h3><div class="space-y-3"><div><label class="block text-sm font-medium text-gray-700 mb-2">رقم الحجز</label><input${d("value",e(t).booking_number)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="سيتم إنشاؤه تلقائياً"><p class="text-xs text-gray-500 mt-1">اتركه فارغاً لإنشاء رقم تلقائي</p></div><div><label class="block text-sm font-medium text-gray-700 mb-2">تاريخ التأكيد</label><input${d("value",e(t).confirmed_at)} type="datetime-local" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div></div></div></div><div class="flex justify-end space-x-3 space-x-reverse pt-6 border-t border-gray-200">`),a(v(_,{to:"/admin/bookings",class:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},{default:w((c,p,A,$)=>{if(p)p(" إلغاء ");else return[h(" إلغاء ")]}),_:1},u)),a(`<button type="submit"${r(e(m)||!e(D))?" disabled":""} class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50">`),e(m)?a(v(f,{name:"material-symbols:progress-activity",class:"animate-spin h-4 w-4 ml-2 inline"},null,u)):a("<!---->"),a(` ${l(e(m)?"جاري الإنشاء...":"إنشاء الحجز")}</button></div></div></form></div>`)}}},S=R.setup;R.setup=(x,m)=>{const y=P();return(y.modules||(y.modules=new Set)).add("pages/admin/bookings/create.vue"),S?S(x,m):void 0};export{R as default};
//# sourceMappingURL=create.vue.mjs.map
