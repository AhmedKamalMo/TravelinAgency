{"version":3,"file":"index.vue.mjs","sources":["../../../../../../pages/admin/contacts/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"space-y-6\">\r\n    <!-- مساحة إضافية في الأعلى -->\r\n    <div class=\"h-16\"></div>\r\n    \r\n    <!-- رأس الصفحة -->\r\n    <AdminPageHeader \r\n      title=\"إدارة الرسائل\"\r\n      description=\"عرض وإدارة رسائل العملاء\"\r\n    >\r\n      <template #actions>\r\n        <button\r\n          @click=\"markAllAsRead\"\r\n          class=\"inline-flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm\"\r\n        >\r\n          <Icon name=\"material-symbols:mark-email-read\" class=\"h-4 w-4 sm:h-5 sm:w-5 ml-2\" />\r\n          <span class=\"hidden sm:inline\">تعيين الكل كمقروء</span>\r\n          <span class=\"sm:hidden\">مقروء</span>\r\n        </button>\r\n        <button\r\n          @click=\"exportContacts\"\r\n          class=\"inline-flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm\"\r\n        >\r\n          <Icon name=\"material-symbols:download\" class=\"h-4 w-4 sm:h-5 sm:w-5 ml-2\" />\r\n          <span class=\"hidden sm:inline\">تصدير البيانات</span>\r\n          <span class=\"sm:hidden\">تصدير</span>\r\n        </button>\r\n      </template>\r\n    </AdminPageHeader>\r\n\r\n    <!-- إحصائيات سريعة -->\r\n    <AdminStats :stats=\"messageStats\" />\r\n\r\n    <!-- شريط البحث والتصفية -->\r\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n      <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <!-- البحث -->\r\n        <div class=\"relative\">\r\n          <Icon name=\"material-symbols:search\" class=\"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n          <input\r\n            v-model=\"searchQuery\"\r\n            type=\"text\"\r\n            placeholder=\"البحث في الرسائل...\"\r\n            class=\"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          />\r\n        </div>\r\n\r\n        <!-- تصفية حسب النوع -->\r\n        <select\r\n          v-model=\"typeFilter\"\r\n          class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n        >\r\n          <option value=\"\">جميع الأنواع</option>\r\n          <option value=\"general\">عام</option>\r\n          <option value=\"package\">حزمة سياحية</option>\r\n          <option value=\"destination\">وجهة</option>\r\n          <option value=\"complaint\">شكوى</option>\r\n          <option value=\"suggestion\">اقتراح</option>\r\n        </select>\r\n\r\n        <!-- تصفية حسب الحالة -->\r\n        <select\r\n          v-model=\"statusFilter\"\r\n          class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n        >\r\n          <option value=\"\">جميع الحالات</option>\r\n          <option value=\"read\">مقروء</option>\r\n          <option value=\"unread\">غير مقروء</option>\r\n        </select>\r\n\r\n        <!-- تصفية حسب التاريخ -->\r\n        <select\r\n          v-model=\"dateFilter\"\r\n          class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n        >\r\n          <option value=\"\">جميع التواريخ</option>\r\n          <option value=\"today\">اليوم</option>\r\n          <option value=\"week\">هذا الأسبوع</option>\r\n          <option value=\"month\">هذا الشهر</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- قائمة الرسائل -->\r\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n      <!-- حالة التحميل -->\r\n      <div v-if=\"loading\" class=\"flex justify-center items-center py-12\">\r\n        <Icon name=\"material-symbols:progress-activity\" class=\"animate-spin h-8 w-8 text-blue-600\" />\r\n        <span class=\"mr-3 text-gray-600\">جارٍ تحميل الرسائل...</span>\r\n      </div>\r\n\r\n      <!-- قائمة الرسائل -->\r\n      <div v-else-if=\"filteredMessages.length > 0\" class=\"divide-y divide-gray-200\">\r\n        <div \r\n          v-for=\"message in filteredMessages\" \r\n          :key=\"message.id\" \r\n          class=\"p-6 hover:bg-gray-50 transition-colors cursor-pointer\"\r\n          @click=\"viewMessage(message)\"\r\n        >\r\n          <div class=\"flex items-start justify-between\">\r\n            <div class=\"flex-1\">\r\n              <div class=\"flex items-center space-x-3 space-x-reverse\">\r\n                <div :class=\"message.is_read ? 'bg-gray-100' : 'bg-blue-100'\" class=\"p-2 rounded-full\">\r\n                  <Icon \r\n                    :name=\"message.is_read ? 'material-symbols:mark-email-read' : 'material-symbols:mark-email-unread'\" \r\n                    :class=\"message.is_read ? 'text-gray-600' : 'text-blue-600'\" \r\n                    class=\"h-5 w-5\" \r\n                  />\r\n                </div>\r\n                <div class=\"flex-1\">\r\n                  <div class=\"flex items-center space-x-2 space-x-reverse\">\r\n                    <h3 class=\"text-sm font-medium text-gray-900\">{{ message.name }}</h3>\r\n                    <span :class=\"getTypeColor(message.type)\" class=\"px-2 py-1 text-xs font-medium rounded-full\">\r\n                      {{ getTypeName(message.type) }}\r\n                    </span>\r\n                    <span v-if=\"!message.is_read\" class=\"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full\">\r\n                      جديد\r\n                    </span>\r\n                  </div>\r\n                  <p class=\"text-sm text-gray-600 mt-1\">{{ message.email }}</p>\r\n                  <p v-if=\"message.phone\" class=\"text-sm text-gray-600 mt-1\">\r\n                    <Icon name=\"material-symbols:phone\" class=\"h-4 w-4 inline ml-1\" />\r\n                    {{ message.phone }}\r\n                  </p>\r\n                  <p class=\"text-sm text-gray-700 mt-2\">{{ truncateText(message.message, 100) }}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"flex items-center space-x-2 space-x-reverse\">\r\n              <div class=\"text-right\">\r\n                <p class=\"text-sm text-gray-500\">{{ formatDate(message.created_at) }}</p>\r\n                <p class=\"text-xs text-gray-400\">{{ formatTime(message.created_at) }}</p>\r\n              </div>\r\n              <div class=\"flex items-center space-x-1 space-x-reverse\">\r\n                <button\r\n                  @click.stop=\"toggleReadStatus(message)\"\r\n                  :class=\"message.is_read ? 'text-orange-600 hover:text-orange-900' : 'text-green-600 hover:text-green-900'\"\r\n                  class=\"p-1 rounded\"\r\n                  :title=\"message.is_read ? 'تعيين كغير مقروء' : 'تعيين كمقروء'\"\r\n                >\r\n                  <Icon :name=\"message.is_read ? 'material-symbols:mark-email-unread' : 'material-symbols:mark-email-read'\" class=\"h-4 w-4\" />\r\n                </button>\r\n                <button\r\n                  @click.stop=\"deleteMessage(message)\"\r\n                  class=\"text-red-600 hover:text-red-900 p-1 rounded\"\r\n                  title=\"حذف\"\r\n                >\r\n                  <Icon name=\"material-symbols:delete\" class=\"h-4 w-4\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- حالة عدم وجود بيانات -->\r\n      <div v-else class=\"text-center py-12\">\r\n        <Icon name=\"material-symbols:mail\" class=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\r\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">لا توجد رسائل</h3>\r\n        <p class=\"text-gray-500 mb-6\">لم يتم العثور على أي رسائل</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- التصفح -->\r\n    <div v-if=\"totalPages > 1\" class=\"flex items-center justify-between\">\r\n      <div class=\"text-sm text-gray-700\">\r\n        عرض {{ (currentPage - 1) * itemsPerPage + 1 }} إلى {{ Math.min(currentPage * itemsPerPage, totalItems) }} من أصل {{ totalItems }} رسالة\r\n      </div>\r\n      <div class=\"flex space-x-1 space-x-reverse\">\r\n        <button\r\n          @click=\"currentPage = Math.max(1, currentPage - 1)\"\r\n          :disabled=\"currentPage === 1\"\r\n          class=\"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          السابق\r\n        </button>\r\n        <span class=\"px-3 py-2 text-sm bg-blue-600 text-white border border-blue-600 rounded-md\">\r\n          {{ currentPage }}\r\n        </span>\r\n        <button\r\n          @click=\"currentPage = Math.min(totalPages, currentPage + 1)\"\r\n          :disabled=\"currentPage === totalPages\"\r\n          class=\"px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        >\r\n          التالي\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// إعداد الصفحة\r\ndefinePageMeta({\r\n  layout: 'admin',\r\n  middleware: 'admin'\r\n})\r\n\r\n// المتغيرات التفاعلية\r\nconst messages = ref([])\r\nconst loading = ref(true)\r\nconst searchQuery = ref('')\r\nconst typeFilter = ref('')\r\nconst statusFilter = ref('')\r\nconst dateFilter = ref('')\r\nconst currentPage = ref(1)\r\nconst itemsPerPage = 10\r\n\r\n// المتغيرات المحسوبة\r\nconst filteredMessages = computed(() => {\r\n  let filtered = messages.value\r\n\r\n  // تصفية البحث\r\n  if (searchQuery.value) {\r\n    filtered = filtered.filter(msg => \r\n      msg.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\r\n      msg.email.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\r\n      msg.message.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n    )\r\n  }\r\n\r\n  // تصفية النوع\r\n  if (typeFilter.value) {\r\n    filtered = filtered.filter(msg => msg.type === typeFilter.value)\r\n  }\r\n\r\n  // تصفية الحالة\r\n  if (statusFilter.value) {\r\n    filtered = filtered.filter(msg => \r\n      statusFilter.value === 'read' ? msg.is_read : !msg.is_read\r\n    )\r\n  }\r\n\r\n  // تصفية التاريخ\r\n  if (dateFilter.value) {\r\n    const now = new Date()\r\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\r\n    const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000)\r\n    const monthAgo = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000)\r\n\r\n    filtered = filtered.filter(msg => {\r\n      const msgDate = new Date(msg.created_at)\r\n      switch (dateFilter.value) {\r\n        case 'today':\r\n          return msgDate >= today\r\n        case 'week':\r\n          return msgDate >= weekAgo\r\n        case 'month':\r\n          return msgDate >= monthAgo\r\n        default:\r\n          return true\r\n      }\r\n    })\r\n  }\r\n\r\n  return filtered.slice((currentPage.value - 1) * itemsPerPage, currentPage.value * itemsPerPage)\r\n})\r\n\r\nconst totalItems = computed(() => {\r\n  let filtered = messages.value\r\n\r\n  if (searchQuery.value) {\r\n    filtered = filtered.filter(msg => \r\n      msg.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\r\n      msg.email.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\r\n      msg.message.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n    )\r\n  }\r\n\r\n  if (typeFilter.value) {\r\n    filtered = filtered.filter(msg => msg.type === typeFilter.value)\r\n  }\r\n\r\n  if (statusFilter.value) {\r\n    filtered = filtered.filter(msg => \r\n      statusFilter.value === 'read' ? msg.is_read : !msg.is_read\r\n    )\r\n  }\r\n\r\n  if (dateFilter.value) {\r\n    const now = new Date()\r\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\r\n    const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000)\r\n    const monthAgo = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000)\r\n\r\n    filtered = filtered.filter(msg => {\r\n      const msgDate = new Date(msg.created_at)\r\n      switch (dateFilter.value) {\r\n        case 'today':\r\n          return msgDate >= today\r\n        case 'week':\r\n          return msgDate >= weekAgo\r\n        case 'month':\r\n          return msgDate >= monthAgo\r\n        default:\r\n          return true\r\n      }\r\n    })\r\n  }\r\n\r\n  return filtered.length\r\n})\r\n\r\nconst totalPages = computed(() => Math.ceil(totalItems.value / itemsPerPage))\r\n\r\n// إحصائيات\r\nconst totalMessages = computed(() => messages.value.length)\r\nconst readMessages = computed(() => messages.value.filter(msg => msg.is_read).length)\r\nconst unreadMessages = computed(() => messages.value.filter(msg => !msg.is_read).length)\r\nconst todayMessages = computed(() => {\r\n  const today = new Date()\r\n  today.setHours(0, 0, 0, 0)\r\n  return messages.value.filter(msg => new Date(msg.created_at) >= today).length\r\n})\r\n\r\nconst messagesWithPhone = computed(() => {\r\n  return messages.value.filter(msg => msg.phone && msg.phone.trim() !== '').length\r\n})\r\n\r\n// إحصائيات الرسائل\r\nconst messageStats = computed(() => [\r\n  {\r\n    key: 'total',\r\n    label: 'إجمالي الرسائل',\r\n    value: totalMessages.value,\r\n    icon: 'material-symbols:mail',\r\n    iconBg: 'bg-blue-100',\r\n    iconColor: 'text-blue-600'\r\n  },\r\n  {\r\n    key: 'read',\r\n    label: 'مقروء',\r\n    value: readMessages.value,\r\n    icon: 'material-symbols:mark-email-read',\r\n    iconBg: 'bg-green-100',\r\n    iconColor: 'text-green-600'\r\n  },\r\n  {\r\n    key: 'unread',\r\n    label: 'غير مقروء',\r\n    value: unreadMessages.value,\r\n    icon: 'material-symbols:mark-email-unread',\r\n    iconBg: 'bg-orange-100',\r\n    iconColor: 'text-orange-600'\r\n  },\r\n  {\r\n    key: 'today',\r\n    label: 'اليوم',\r\n    value: todayMessages.value,\r\n    icon: 'material-symbols:today',\r\n    iconBg: 'bg-purple-100',\r\n    iconColor: 'text-purple-600'\r\n  },\r\n  {\r\n    key: 'phone',\r\n    label: 'مع رقم هاتف',\r\n    value: messagesWithPhone.value,\r\n    icon: 'material-symbols:phone',\r\n    iconBg: 'bg-teal-100',\r\n    iconColor: 'text-teal-600'\r\n  }\r\n])\r\n\r\n// تحميل الرسائل\r\nconst loadMessages = async () => {\r\n  try {\r\n    loading.value = true\r\n    const result = await $fetch('/api/contact-messages')\r\n    \r\n    if (result.messages) {\r\n      messages.value = result.messages\r\n      \r\n      // Update message counter\r\n      const { updateCounts } = useMessageCounter()\r\n      const unreadCount = messages.value.filter(msg => !msg.is_read).length\r\n      updateCounts(messages.value.length, unreadCount)\r\n    } else {\r\n      messages.value = []\r\n    }\r\n  } catch (error) {\r\n    console.error('خطأ في تحميل الرسائل:', error)\r\n    // بيانات وهمية للعرض في حالة الخطأ\r\n    messages.value = [\r\n      {\r\n        id: 1,\r\n        name: 'أحمد محمد',\r\n        email: 'ahmed@example.com',\r\n        phone: '+966501234567',\r\n        type: 'package',\r\n        message: 'أريد الاستفسار عن الباقات السياحية المتاحة لتركيا',\r\n        is_read: false,\r\n        created_at: new Date().toISOString()\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'فاطمة علي',\r\n        email: 'fatima@example.com',\r\n        phone: '+966507654321',\r\n        type: 'general',\r\n        message: 'شكراً لكم على الخدمة الممتازة',\r\n        is_read: true,\r\n        created_at: new Date(Date.now() - 86400000).toISOString()\r\n      }\r\n    ]\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// عرض الرسالة\r\nconst viewMessage = (message) => {\r\n  // TODO: Open message detail modal or navigate to detail page\r\n  console.log('Viewing message:', message)\r\n}\r\n\r\n// تغيير حالة القراءة\r\nconst toggleReadStatus = async (message) => {\r\n  try {\r\n    const newStatus = !message.is_read\r\n    \r\n    // Update in database\r\n    const result = await $fetch(`/api/contact-messages/${message.id}`, {\r\n      method: 'PUT',\r\n      body: {\r\n        is_read: newStatus,\r\n        status: newStatus ? 'read' : 'new'\r\n      }\r\n    })\r\n    \r\n    if (result.success) {\r\n      // Update local state\r\n      const index = messages.value.findIndex(m => m.id === message.id)\r\n      if (index !== -1) {\r\n        messages.value[index].status = newStatus ? 'read' : 'new'\r\n        messages.value[index].is_read = newStatus\r\n      }\r\n      \r\n      // Update message counter\r\n      const { fetchMessageCounts } = useMessageCounter()\r\n      await fetchMessageCounts()\r\n      \r\n      console.log(`تم ${newStatus ? 'تعيين' : 'إلغاء تعيين'} الرسالة كمقروءة`)\r\n    }\r\n  } catch (error) {\r\n    console.error('خطأ في تغيير حالة الرسالة:', error)\r\n  }\r\n}\r\n\r\n// حذف الرسالة\r\nconst deleteMessage = async (message) => {\r\n  if (!confirm('هل أنت متأكد من حذف هذه الرسالة؟ لا يمكن التراجع عن هذا الإجراء.')) return\r\n\r\n  try {\r\n    await $fetch(`/api/contact-messages/${message.id}`, { method: 'DELETE' })\r\n    \r\n    // Remove from local list\r\n    messages.value = messages.value.filter(m => m.id !== message.id)\r\n    \r\n    console.log('تم حذف الرسالة بنجاح')\r\n  } catch (error) {\r\n    console.error('خطأ في حذف الرسالة:', error)\r\n  }\r\n}\r\n\r\n// تعيين الكل كمقروء\r\nconst markAllAsRead = async () => {\r\n  try {\r\n    // Update in database\r\n    const result = await $fetch('/api/contact-messages/mark-all-read', {\r\n      method: 'PUT'\r\n    })\r\n    \r\n    if (result.success) {\r\n      // Update local state\r\n      messages.value.forEach(msg => {\r\n        msg.status = 'read'\r\n        msg.is_read = true\r\n      })\r\n      \r\n      // Update message counter\r\n      const { fetchMessageCounts } = useMessageCounter()\r\n      await fetchMessageCounts()\r\n      \r\n      console.log(`تم تعيين ${result.affectedRows} رسالة كمقروءة`)\r\n    }\r\n  } catch (error) {\r\n    console.error('خطأ في تعيين الرسائل كمقروءة:', error)\r\n  }\r\n}\r\n\r\n// تصدير البيانات\r\nconst exportContacts = () => {\r\n  // TODO: Implement CSV/Excel export\r\n  console.log('Exporting contacts...')\r\n}\r\n\r\n// دوال المساعدة\r\nconst formatDate = (dateString) => {\r\n  const date = new Date(dateString)\r\n  return date.toLocaleDateString('ar-SA')\r\n}\r\n\r\nconst formatTime = (dateString) => {\r\n  const date = new Date(dateString)\r\n  return date.toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' })\r\n}\r\n\r\nconst truncateText = (text, length) => {\r\n  if (!text) return ''\r\n  return text.length > length ? text.substring(0, length) + '...' : text\r\n}\r\n\r\nconst getTypeName = (type) => {\r\n  const types = {\r\n    general: 'عام',\r\n    package: 'حزمة سياحية',\r\n    destination: 'وجهة',\r\n    complaint: 'شكوى',\r\n    suggestion: 'اقتراح'\r\n  }\r\n  return types[type] || type\r\n}\r\n\r\nconst getTypeColor = (type) => {\r\n  const colors = {\r\n    general: 'bg-gray-100 text-gray-800',\r\n    package: 'bg-blue-100 text-blue-800',\r\n    destination: 'bg-green-100 text-green-800',\r\n    complaint: 'bg-red-100 text-red-800',\r\n    suggestion: 'bg-purple-100 text-purple-800'\r\n  }\r\n  return colors[type] || 'bg-gray-100 text-gray-800'\r\n}\r\n\r\n// إعادة تعيين الصفحة عند تغيير الفلاتر\r\nwatch([searchQuery, typeFilter, statusFilter, dateFilter], () => {\r\n  currentPage.value = 1\r\n})\r\n\r\n// تحميل البيانات عند تحميل الصفحة\r\nonMounted(async () => {\r\n  loadMessages()\r\n  \r\n  // إعداد الإشعارات في الوقت الفعلي\r\n  const { requestNotificationPermission, startRealTimeChecking } = useRealTimeNotifications()\r\n  \r\n  // طلب إذن الإشعارات\r\n  await requestNotificationPermission()\r\n  \r\n  // بدء فحص الرسائل الجديدة\r\n  const cleanup = startRealTimeChecking()\r\n  \r\n  // تنظيف عند إلغاء تحميل الصفحة\r\n  onUnmounted(() => {\r\n    if (cleanup) cleanup()\r\n  })\r\n})\r\n\r\n// SEO والميتا\r\nuseHead({\r\n  title: 'إدارة الرسائل - Wonder Land Admin',\r\n  meta: [\r\n    { name: 'description', content: 'عرض وإدارة رسائل العملاء' },\r\n    { name: 'robots', content: 'noindex, nofollow' }\r\n  ]\r\n})\r\n</script>"],"names":["itemsPerPage","messages","ref","loading","searchQuery","typeFilter","statusFilter","dateFilter","currentPage","filteredMessages","computed","filtered","msg","now","today","weekAgo","monthAgo","msgDate","totalItems","totalPages","totalMessages","readMessages","unreadMessages","todayMessages","messagesWithPhone","messageStats","markAllAsRead","result","fetchMessageCounts","useMessageCounter","error","exportContacts","formatDate","dateString","formatTime","truncateText","text","length","getTypeName","type","getTypeColor","watch","useHead"],"mappings":"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"}