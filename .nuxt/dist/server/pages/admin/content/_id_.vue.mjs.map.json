{"file":"_id_.vue.mjs","mappings":"isBA0JcA,EAAU,EACH,OAAO,GAG5B,MAAMC,EAAOC,EAAI,IAAI,EACfC,EAAUD,EAAI,EAAI,EA0DlBE,EAAcC,GACbA,EACQ,IAAI,KAAKA,CAAU,EACpB,mBAAmB,OAAO,EAFd,WAKpBC,EAAeC,IACL,CACZ,KAAM,OACN,KAAM,OACN,KAAM,OACP,GACYA,CAAI,GAAKA,EAGlBC,EAAgBD,IACL,CACb,KAAM,4BACN,KAAM,8BACN,KAAM,+BACP,GACaA,CAAI,GAAK,4BAGnBE,EAAiBC,IACJ,CACf,UAAW,QACX,MAAO,QACP,SAAU,OACX,GACeA,CAAM,GAAKA,EAGvBC,EAAkBD,IACP,CACb,UAAW,8BACX,MAAO,gCACP,SAAU,2BACX,GACaA,CAAM,GAAK,4BAS3B,OAAAE,EAAQ,CACN,MAAOC,EAAS,IAAMZ,EAAK,MAAQ,GAAGA,EAAK,MAAM,UAAYA,EAAK,MAAM,QAAQ,uBAAyB,gCAAgC,EACzI,KAAM,CACJ,CAAE,KAAM,cAAe,QAAS,mBAAqB,EACrD,CAAE,KAAM,SAAU,QAAS,mBAAqB,CACjD,CACH,CAAC","names":["useRoute","page","ref","loading","formatDate","dateString","getTypeName","type","getTypeColor","getStatusName","status","getStatusColor","useHead","computed"],"sources":["../../../../../../pages/admin/content/[id].vue"],"sourcesContent":["<template>\r\n  <div class=\"space-y-6\">\r\n    <!-- مساحة إضافية في الأعلى -->\r\n    <div class=\"h-16\"></div>\r\n    \r\n    <!-- رأس الصفحة -->\r\n    <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\r\n      <div>\r\n        <h1 class=\"text-2xl font-bold text-gray-900\">{{ page?.title_ar || page?.title_en || 'عرض الصفحة' }}</h1>\r\n        <p class=\"mt-1 text-sm text-gray-600\">عرض تفاصيل الصفحة</p>\r\n      </div>\r\n      <div class=\"mt-4 sm:mt-0 flex space-x-3 space-x-reverse\">\r\n        <NuxtLink\r\n          :to=\"`/admin/content/${page?.id}/edit`\"\r\n          class=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n        >\r\n          <Icon name=\"material-symbols:edit\" class=\"h-5 w-5 ml-2\" />\r\n          تعديل\r\n        </NuxtLink>\r\n        <NuxtLink\r\n          to=\"/admin/content\"\r\n          class=\"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\r\n        >\r\n          <Icon name=\"material-symbols:arrow-back\" class=\"h-5 w-5 ml-2\" />\r\n          العودة للقائمة\r\n        </NuxtLink>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- حالة التحميل -->\r\n    <div v-if=\"loading\" class=\"flex justify-center items-center py-12\">\r\n      <Icon name=\"material-symbols:progress-activity\" class=\"animate-spin h-8 w-8 text-blue-600\" />\r\n      <span class=\"mr-3 text-gray-600\">جارٍ تحميل الصفحة...</span>\r\n    </div>\r\n\r\n    <!-- محتوى الصفحة -->\r\n    <div v-else-if=\"page\" class=\"space-y-6\">\r\n      <!-- معلومات أساسية -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <h2 class=\"text-lg font-medium text-gray-900 mb-4\">المعلومات الأساسية</h2>\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">العنوان بالعربية</label>\r\n            <p class=\"text-gray-900\">{{ page.title_ar || 'غير محدد' }}</p>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">العنوان بالإنجليزية</label>\r\n            <p class=\"text-gray-900\">{{ page.title_en || 'غير محدد' }}</p>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">النوع</label>\r\n            <span :class=\"getTypeColor(page.type)\" class=\"px-2 py-1 text-xs font-medium rounded-full\">\r\n              {{ getTypeName(page.type) }}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">الحالة</label>\r\n            <span :class=\"getStatusColor(page.status)\" class=\"px-2 py-1 text-xs font-medium rounded-full\">\r\n              {{ getStatusName(page.status) }}\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">تاريخ الإنشاء</label>\r\n            <p class=\"text-gray-900\">{{ formatDate(page.created_at) }}</p>\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">آخر تحديث</label>\r\n            <p class=\"text-gray-900\">{{ formatDate(page.updated_at) }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- المحتوى -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <h2 class=\"text-lg font-medium text-gray-900 mb-4\">المحتوى</h2>\r\n        \r\n        <!-- المحتوى بالعربية -->\r\n        <div class=\"mb-6\">\r\n          <h3 class=\"text-md font-medium text-gray-700 mb-2\">المحتوى بالعربية</h3>\r\n          <div class=\"prose max-w-none\">\r\n            <div v-html=\"page.content_ar || 'لا يوجد محتوى'\" class=\"text-gray-900\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- المحتوى بالإنجليزية -->\r\n        <div>\r\n          <h3 class=\"text-md font-medium text-gray-700 mb-2\">المحتوى بالإنجليزية</h3>\r\n          <div class=\"prose max-w-none\">\r\n            <div v-html=\"page.content_en || 'No content'\" class=\"text-gray-900\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- إعدادات SEO -->\r\n      <div v-if=\"page.meta_description_ar || page.meta_description_en\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <h2 class=\"text-lg font-medium text-gray-900 mb-4\">إعدادات SEO</h2>\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div v-if=\"page.meta_description_ar\">\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">وصف الصفحة بالعربية</label>\r\n            <p class=\"text-gray-900\">{{ page.meta_description_ar }}</p>\r\n          </div>\r\n          <div v-if=\"page.meta_description_en\">\r\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">وصف الصفحة بالإنجليزية</label>\r\n            <p class=\"text-gray-900\">{{ page.meta_description_en }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- إجراءات سريعة -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n        <h2 class=\"text-lg font-medium text-gray-900 mb-4\">إجراءات سريعة</h2>\r\n        <div class=\"flex flex-wrap gap-3\">\r\n          <button\r\n            @click=\"toggleStatus\"\r\n            :class=\"page.status === 'published' ? 'bg-orange-600 hover:bg-orange-700' : 'bg-green-600 hover:bg-green-700'\"\r\n            class=\"px-4 py-2 text-white rounded-lg transition-colors flex items-center\"\r\n          >\r\n            <Icon :name=\"page.status === 'published' ? 'material-symbols:visibility-off' : 'material-symbols:visibility'\" class=\"h-4 w-4 ml-2\" />\r\n            {{ page.status === 'published' ? 'إلغاء النشر' : 'نشر' }}\r\n          </button>\r\n          <button\r\n            @click=\"deletePage\"\r\n            class=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center\"\r\n          >\r\n            <Icon name=\"material-symbols:delete\" class=\"h-4 w-4 ml-2\" />\r\n            حذف الصفحة\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- حالة عدم وجود الصفحة -->\r\n    <div v-else class=\"text-center py-12\">\r\n      <Icon name=\"material-symbols:article\" class=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\r\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">الصفحة غير موجودة</h3>\r\n      <p class=\"text-gray-500 mb-6\">لم يتم العثور على الصفحة المطلوبة</p>\r\n      <NuxtLink\r\n        to=\"/admin/content\"\r\n        class=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n      >\r\n        العودة للقائمة\r\n      </NuxtLink>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// إعداد الصفحة\r\ndefinePageMeta({\r\n  layout: 'admin',\r\n  middleware: 'admin'\r\n})\r\n\r\n// الحصول على معرف الصفحة\r\nconst route = useRoute()\r\nconst pageId = route.params.id\r\n\r\n// المتغيرات التفاعلية\r\nconst page = ref(null)\r\nconst loading = ref(true)\r\n\r\n// تحميل الصفحة\r\nconst loadPage = async () => {\r\n  try {\r\n    loading.value = true\r\n    const response = await $fetch(`/api/content/${pageId}`)\r\n    \r\n    if (response.success && response.page) {\r\n      page.value = response.page\r\n    } else {\r\n      page.value = null\r\n    }\r\n  } catch (error) {\r\n    console.error('خطأ في تحميل الصفحة:', error)\r\n    page.value = null\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// تغيير حالة الصفحة\r\nconst toggleStatus = async () => {\r\n  try {\r\n    const newStatus = page.value.status === 'published' ? 'draft' : 'published'\r\n    \r\n    const response = await $fetch(`/api/content/${pageId}`, {\r\n      method: 'PUT',\r\n      body: { status: newStatus }\r\n    })\r\n    \r\n    if (response.success) {\r\n      page.value.status = newStatus\r\n      console.log(`تم ${newStatus === 'published' ? 'نشر' : 'إلغاء نشر'} الصفحة بنجاح`)\r\n    }\r\n  } catch (error) {\r\n    console.error('خطأ في تغيير حالة الصفحة:', error)\r\n  }\r\n}\r\n\r\n// حذف الصفحة\r\nconst deletePage = async () => {\r\n  if (!confirm('هل أنت متأكد من حذف هذه الصفحة؟ لا يمكن التراجع عن هذا الإجراء.')) return\r\n\r\n  try {\r\n    const response = await $fetch(`/api/content/${pageId}`, {\r\n      method: 'DELETE'\r\n    })\r\n    \r\n    if (response.success) {\r\n      await navigateTo('/admin/content')\r\n    }\r\n  } catch (error) {\r\n    console.error('خطأ في حذف الصفحة:', error)\r\n  }\r\n}\r\n\r\n// دوال المساعدة\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return 'غير محدد'\r\n  const date = new Date(dateString)\r\n  return date.toLocaleDateString('ar-SA')\r\n}\r\n\r\nconst getTypeName = (type) => {\r\n  const types = {\r\n    page: 'صفحة',\r\n    post: 'مقال',\r\n    news: 'أخبار'\r\n  }\r\n  return types[type] || type\r\n}\r\n\r\nconst getTypeColor = (type) => {\r\n  const colors = {\r\n    page: 'bg-blue-100 text-blue-800',\r\n    post: 'bg-green-100 text-green-800',\r\n    news: 'bg-purple-100 text-purple-800'\r\n  }\r\n  return colors[type] || 'bg-gray-100 text-gray-800'\r\n}\r\n\r\nconst getStatusName = (status) => {\r\n  const statuses = {\r\n    published: 'منشور',\r\n    draft: 'مسودة',\r\n    archived: 'مؤرشف'\r\n  }\r\n  return statuses[status] || status\r\n}\r\n\r\nconst getStatusColor = (status) => {\r\n  const colors = {\r\n    published: 'bg-green-100 text-green-800',\r\n    draft: 'bg-orange-100 text-orange-800',\r\n    archived: 'bg-gray-100 text-gray-800'\r\n  }\r\n  return colors[status] || 'bg-gray-100 text-gray-800'\r\n}\r\n\r\n// تحميل البيانات عند تحميل الصفحة\r\nonMounted(() => {\r\n  loadPage()\r\n})\r\n\r\n// SEO والميتا\r\nuseHead({\r\n  title: computed(() => page.value ? `${page.value.title_ar || page.value.title_en} - Wonder Land Admin` : 'عرض الصفحة - Wonder Land Admin'),\r\n  meta: [\r\n    { name: 'description', content: 'عرض تفاصيل الصفحة' },\r\n    { name: 'robots', content: 'noindex, nofollow' }\r\n  ]\r\n})\r\n</script>\r\n"],"version":3}