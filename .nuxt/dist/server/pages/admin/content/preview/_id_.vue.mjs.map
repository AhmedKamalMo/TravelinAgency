{"version":3,"file":"_id_.vue.mjs","sources":["../../../../../../../pages/admin/content/preview/[id].vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gray-50\">\r\n    <!-- مساحة إضافية في الأعلى -->\r\n    <div class=\"h-16\"></div>\r\n    \r\n    <!-- شريط الأدوات -->\r\n    <div class=\"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between\">\r\n      <div class=\"flex items-center space-x-4 space-x-reverse\">\r\n        <NuxtLink\r\n          to=\"/admin/content\"\r\n          class=\"flex items-center text-gray-600 hover:text-gray-900\"\r\n        >\r\n          <Icon name=\"material-symbols:arrow-back\" class=\"h-5 w-5 ml-2\" />\r\n          العودة للإدارة\r\n        </NuxtLink>\r\n        <div class=\"h-6 w-px bg-gray-300\"></div>\r\n        <h1 class=\"text-lg font-semibold text-gray-900\">معاينة الصفحة</h1>\r\n      </div>\r\n      \r\n      <div class=\"flex items-center space-x-3 space-x-reverse\">\r\n        <NuxtLink\r\n          :to=\"`/admin/content/editor?page=${pageId}`\"\r\n          class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center\"\r\n        >\r\n          <Icon name=\"material-symbols:edit\" class=\"h-4 w-4 ml-2\" />\r\n          تحرير\r\n        </NuxtLink>\r\n        <button\r\n          @click=\"refreshPage\"\r\n          class=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center\"\r\n        >\r\n          <Icon name=\"material-symbols:refresh\" class=\"h-4 w-4 ml-2\" />\r\n          تحديث\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- محتوى الصفحة -->\r\n    <div v-if=\"loading\" class=\"flex justify-center items-center py-12\">\r\n      <Icon name=\"material-symbols:progress-activity\" class=\"animate-spin h-8 w-8 text-blue-600\" />\r\n      <span class=\"mr-3 text-gray-600\">جارٍ تحميل الصفحة...</span>\r\n    </div>\r\n\r\n    <div v-else-if=\"page\" class=\"max-w-6xl mx-auto p-6\">\r\n      <!-- معلومات الصفحة -->\r\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6\">\r\n        <div class=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 class=\"text-2xl font-bold text-gray-900\">{{ page.title_ar || page.title }}</h1>\r\n            <p class=\"text-sm text-gray-600 mt-1\">\r\n              الحالة: \r\n              <span :class=\"getStatusColor(page.status)\" class=\"px-2 py-1 text-xs font-medium rounded-full\">\r\n                {{ getStatusName(page.status) }}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"text-sm text-gray-500\">\r\n            آخر تحديث: {{ formatDate(page.updated_at) }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- مكونات الصفحة -->\r\n      <div class=\"space-y-6\">\r\n        <div v-if=\"page.components && page.components.length > 0\">\r\n          <div v-for=\"(component, index) in page.components\" :key=\"component.id || index\" class=\"mb-6\">\r\n            <component\r\n              :is=\"getComponentName(component.type)\"\r\n              v-bind=\"component.props\"\r\n              :class=\"component.classes\"\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- محتوى نصي إذا لم تكن هناك مكونات -->\r\n        <div v-else-if=\"page.content_ar || page.content_en\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n          <div class=\"prose max-w-none\" v-html=\"page.content_ar || page.content_en\"></div>\r\n        </div>\r\n        \r\n        <!-- رسالة فارغة -->\r\n        <div v-else class=\"text-center py-12 bg-white rounded-lg border-2 border-dashed border-gray-300\">\r\n          <Icon name=\"material-symbols:article\" class=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\r\n          <h3 class=\"text-lg font-medium text-gray-900 mb-2\">لا يوجد محتوى</h3>\r\n          <p class=\"text-gray-500 mb-6\">هذه الصفحة لا تحتوي على أي محتوى</p>\r\n          <NuxtLink\r\n            :to=\"`/admin/content/editor?page=${pageId}`\"\r\n            class=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            <Icon name=\"material-symbols:edit\" class=\"h-5 w-5 ml-2\" />\r\n            إضافة محتوى\r\n          </NuxtLink>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- حالة عدم وجود الصفحة -->\r\n    <div v-else class=\"text-center py-12\">\r\n      <Icon name=\"material-symbols:article\" class=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\r\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">الصفحة غير موجودة</h3>\r\n      <p class=\"text-gray-500 mb-6\">لم يتم العثور على الصفحة المطلوبة</p>\r\n      <NuxtLink\r\n        to=\"/admin/content\"\r\n        class=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n      >\r\n        العودة للقائمة\r\n      </NuxtLink>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// إعداد الصفحة\r\ndefinePageMeta({\r\n  layout: 'admin',\r\n  middleware: 'admin'\r\n})\r\n\r\n// الحصول على معرف الصفحة\r\nconst route = useRoute()\r\nconst pageId = route.params.id\r\n\r\n// المتغيرات التفاعلية\r\nconst page = ref(null)\r\nconst loading = ref(true)\r\n\r\n// تحميل الصفحة\r\nconst loadPage = async () => {\r\n  try {\r\n    loading.value = true\r\n    const response = await $fetch(`/api/cms/editor/${pageId}`)\r\n    \r\n    if (response.success && response.page) {\r\n      page.value = response.page\r\n    } else {\r\n      page.value = null\r\n    }\r\n  } catch (error) {\r\n    console.error('Error loading page:', error)\r\n    page.value = null\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// تحديث الصفحة\r\nconst refreshPage = () => {\r\n  loadPage()\r\n}\r\n\r\n// الحصول على اسم المكون\r\nconst getComponentName = (type) => {\r\n  const componentMap = {\r\n    hero: 'CMSHero',\r\n    about: 'CMSAbout',\r\n    services: 'CMSServices',\r\n    testimonials: 'CMSTestimonials',\r\n    contact: 'CMSContact',\r\n    heading: 'CMSHeading',\r\n    paragraph: 'CMSParagraph',\r\n    image: 'CMSImage'\r\n  }\r\n  return componentMap[type] || 'CMSGeneric'\r\n}\r\n\r\n// دوال المساعدة\r\nconst formatDate = (dateString) => {\r\n  const date = new Date(dateString)\r\n  return date.toLocaleDateString('ar-SA')\r\n}\r\n\r\nconst getStatusName = (status) => {\r\n  const statuses = {\r\n    published: 'منشور',\r\n    draft: 'مسودة',\r\n    archived: 'مؤرشف'\r\n  }\r\n  return statuses[status] || status\r\n}\r\n\r\nconst getStatusColor = (status) => {\r\n  const colors = {\r\n    published: 'bg-green-100 text-green-800',\r\n    draft: 'bg-orange-100 text-orange-800',\r\n    archived: 'bg-gray-100 text-gray-800'\r\n  }\r\n  return colors[status] || 'bg-gray-100 text-gray-800'\r\n}\r\n\r\n// تحميل البيانات عند تحميل الصفحة\r\nonMounted(() => {\r\n  loadPage()\r\n})\r\n\r\n// SEO والميتا\r\nuseHead({\r\n  title: computed(() => page.value ? `معاينة ${page.value.title_ar || page.value.title} - Wonder Land Admin` : 'معاينة الصفحة - Wonder Land Admin'),\r\n  meta: [\r\n    { name: 'description', content: 'معاينة الصفحة قبل النشر' },\r\n    { name: 'robots', content: 'noindex, nofollow' }\r\n  ]\r\n})\r\n</script>\r\n"],"names":["pageId","useRoute","page","ref","loading","getComponentName","type","formatDate","dateString","getStatusName","status","getStatusColor","useHead","computed"],"mappings":"ixBAuHA,MAAMA,EADQC,EAAU,EACH,OAAO,GAGtBC,EAAOC,EAAI,IAAI,EACfC,EAAUD,EAAI,EAAI,EA2BlBE,EAAoBC,IACH,CACnB,KAAM,UACN,MAAO,WACP,SAAU,cACV,aAAc,kBACd,QAAS,aACT,QAAS,aACT,UAAW,eACX,MAAO,UACR,GACmBA,CAAI,GAAK,aAIzBC,EAAcC,GACL,IAAI,KAAKA,CAAU,EACpB,mBAAmB,OAAO,EAGlCC,EAAiBC,IACJ,CACf,UAAW,QACX,MAAO,QACP,SAAU,OACX,GACeA,CAAM,GAAKA,EAGvBC,EAAkBD,IACP,CACb,UAAW,8BACX,MAAO,gCACP,SAAU,2BACX,GACaA,CAAM,GAAK,4BAS3B,OAAAE,EAAQ,CACN,MAAOC,EAAS,IAAMX,EAAK,MAAQ,UAAUA,EAAK,MAAM,UAAYA,EAAK,MAAM,KAAK,uBAAyB,mCAAmC,EAChJ,KAAM,CACJ,CAAE,KAAM,cAAe,QAAS,yBAA2B,EAC3D,CAAE,KAAM,SAAU,QAAS,mBAAqB,CACjD,CACH,CAAC"}