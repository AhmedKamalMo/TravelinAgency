{"file":"templates.vue.mjs","mappings":"spBA4KA,MAAMA,EAAmBC,EAAI,KAAK,EAC5BC,EAAcD,EAAI,EAAK,EACvBE,EAAkBF,EAAI,IAAI,EAG1BG,EAAqBH,EAAI,CAC7B,CAAE,GAAI,MAAO,KAAM,OAAQ,KAAM,uBAAyB,EAC1D,CAAE,GAAI,UAAW,KAAM,eAAgB,KAAM,uBAAyB,EACtE,CAAE,GAAI,WAAY,KAAM,QAAS,KAAM,uBAAyB,EAChE,CAAE,GAAI,YAAa,KAAM,aAAc,KAAM,gCAAkC,EAC/E,CAAE,GAAI,OAAQ,KAAM,QAAS,KAAM,0BAA4B,EAC/D,CAAE,GAAI,UAAW,KAAM,QAAS,KAAM,+BAAiC,CACzE,CAAC,EAGKI,EAAYJ,EAAI,CACpB,CACE,GAAI,EACJ,KAAM,mBACN,YAAa,oCACb,SAAU,UACV,QAAS,uCACT,WAAY,CAAC,OAAQ,QAAS,WAAY,eAAgB,SAAS,EACnE,KAAM,CACJ,KAAM,CACJ,MAAO,oBACP,SAAU,sCACV,gBAAiB,sBACjB,WAAY,aACZ,WAAY,WACb,EACD,MAAO,CACL,MAAO,SACP,QAAS,qDACT,MAAO,mBACR,EACD,SAAU,CACR,MAAO,UACP,SAAU;AAAA;AAAA;AAAA,UACX,CACF,CACF,EACD,CACE,GAAI,EACJ,KAAM,sBACN,YAAa,8BACb,SAAU,WACV,QAAS,iCACT,WAAY,CAAC,OAAQ,QAAS,WAAY,OAAQ,SAAS,EAC3D,KAAM,CACJ,KAAM,CACJ,MAAO,oBACP,SAAU,kCACV,gBAAiB,4BACjB,WAAY,aACZ,WAAY,QACb,CACF,CACF,EACD,CACE,GAAI,EACJ,KAAM,aACN,YAAa,sCACb,SAAU,YACV,QAAS,kCACT,WAAY,CAAC,OAAQ,YAAa,QAAS,SAAS,EACpD,KAAM,CACJ,KAAM,CACJ,MAAO,eACP,SAAU,0BACV,gBAAiB,6BACjB,WAAY,eACZ,WAAY,YACb,CACF,CACF,EACD,CACE,GAAI,EACJ,KAAM,aACN,YAAa,gCACb,SAAU,OACV,QAAS,6BACT,WAAY,CAAC,OAAQ,aAAc,UAAW,SAAS,EACvD,KAAM,CACJ,KAAM,CACJ,MAAO,UACP,SAAU,yBACV,gBAAiB,wBACjB,WAAY,cACZ,WAAY,QACb,CACF,CACF,EACD,CACE,GAAI,EACJ,KAAM,aACN,YAAa,kCACb,SAAU,UACV,QAAS,gCACT,WAAY,CAAC,OAAQ,eAAgB,MAAO,MAAM,EAClD,KAAM,CACJ,KAAM,CACJ,MAAO,aACP,SAAU,mBACV,gBAAiB,2BACjB,WAAY,SACZ,WAAY,UACb,CACF,CACF,EACD,CACE,GAAI,EACJ,KAAM,aACN,YAAa,0BACb,SAAU,WACV,QAAS,iCACT,WAAY,CAAC,OAAQ,WAAY,UAAW,cAAc,EAC1D,KAAM,CACJ,KAAM,CACJ,MAAO,UACP,SAAU,8BACV,gBAAiB,4BACjB,WAAY,YACZ,WAAY,WACb,CACF,CACF,CACH,CAAC,EAGKK,EAAoBC,EAAS,IAC7BP,EAAiB,QAAU,MACtBK,EAAU,MAEZA,EAAU,MAAM,OAAOG,GAAYA,EAAS,WAAaR,EAAiB,KAAK,CACvF,EAqED,OAAAS,EAAQ,CACN,MAAO,oCACP,KAAM,CACJ,CAAE,KAAM,cAAe,QAAS,0CAA4C,EAC5E,CAAE,KAAM,SAAU,QAAS,mBAAqB,CACjD,CACH,CAAC","names":["selectedCategory","ref","showPreview","previewTemplate","templateCategories","templates","filteredTemplates","computed","template","useHead"],"sources":["../../../../../../pages/admin/content/templates.vue"],"sourcesContent":["<template>\r\n  <div class=\"space-y-6\">\r\n    <!-- مساحة إضافية في الأعلى -->\r\n    <div class=\"h-16\"></div>\r\n    \r\n    <!-- رأس الصفحة -->\r\n    <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\r\n      <div>\r\n        <h1 class=\"text-2xl font-bold text-gray-900\">قوالب الصفحات</h1>\r\n        <p class=\"mt-1 text-sm text-gray-600\">اختر من مجموعة متنوعة من القوالب الجاهزة</p>\r\n      </div>\r\n      <div class=\"mt-4 sm:mt-0\">\r\n        <NuxtLink\r\n          to=\"/admin/content\"\r\n          class=\"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors\"\r\n        >\r\n          <Icon name=\"material-symbols:arrow-back\" class=\"h-5 w-5 ml-2\" />\r\n          العودة\r\n        </NuxtLink>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- فئات القوالب -->\r\n    <div class=\"flex flex-wrap gap-2 mb-6\">\r\n      <button\r\n        v-for=\"category in templateCategories\"\r\n        :key=\"category.id\"\r\n        @click=\"selectedCategory = category.id\"\r\n        :class=\"[\r\n          'px-4 py-2 rounded-lg text-sm font-medium transition-colors',\r\n          selectedCategory === category.id\r\n            ? 'bg-blue-600 text-white'\r\n            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n        ]\"\r\n      >\r\n        <Icon :name=\"category.icon\" class=\"h-4 w-4 ml-2\" />\r\n        {{ category.name }}\r\n      </button>\r\n    </div>\r\n\r\n    <!-- قوالب الصفحات -->\r\n    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n      <div\r\n        v-for=\"template in filteredTemplates\"\r\n        :key=\"template.id\"\r\n        class=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow cursor-pointer group\"\r\n        @click=\"showTemplatePreview(template)\"\r\n      >\r\n        <!-- معاينة القالب -->\r\n        <div class=\"aspect-video bg-gray-100 relative overflow-hidden\">\r\n          <img\r\n            :src=\"template.preview\"\r\n            :alt=\"template.name\"\r\n            class=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\r\n          />\r\n          <div class=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center\">\r\n            <div class=\"opacity-0 group-hover:opacity-100 transition-opacity\">\r\n              <Icon name=\"material-symbols:visibility\" class=\"h-8 w-8 text-white\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- معلومات القالب -->\r\n        <div class=\"p-4\">\r\n          <h3 class=\"text-lg font-semibold text-gray-900 mb-2\">{{ template.name }}</h3>\r\n          <p class=\"text-sm text-gray-600 mb-3\">{{ template.description }}</p>\r\n          \r\n          <!-- مكونات القالب -->\r\n          <div class=\"flex flex-wrap gap-1 mb-4\">\r\n            <span\r\n              v-for=\"comp in template.components\"\r\n              :key=\"comp\"\r\n              class=\"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full\"\r\n            >\r\n              {{ comp }}\r\n            </span>\r\n          </div>\r\n\r\n          <!-- أزرار الإجراءات -->\r\n          <div class=\"flex space-x-2 space-x-reverse\">\r\n            <button\r\n              @click.stop=\"showTemplatePreview(template)\"\r\n              class=\"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium\"\r\n            >\r\n              معاينة\r\n            </button>\r\n            <button\r\n              @click.stop=\"useTemplate(template)\"\r\n              class=\"flex-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium\"\r\n            >\r\n              استخدام\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- نافذة معاينة القالب -->\r\n    <div v-if=\"showPreview\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div class=\"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] flex flex-col\">\r\n        <!-- رأس المعاينة -->\r\n        <div class=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n          <div>\r\n            <h2 class=\"text-xl font-semibold text-gray-900\">{{ previewTemplate?.name }}</h2>\r\n            <p class=\"text-sm text-gray-600\">{{ previewTemplate?.description }}</p>\r\n          </div>\r\n          <button\r\n            @click=\"showPreview = false\"\r\n            class=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <Icon name=\"material-symbols:close\" class=\"h-6 w-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        <!-- معاينة القالب -->\r\n        <div class=\"flex-1 overflow-y-auto p-6\">\r\n          <div class=\"max-w-2xl mx-auto\">\r\n            <div class=\"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden\">\r\n              <div class=\"aspect-video bg-gray-100\">\r\n                <img\r\n                  :src=\"previewTemplate?.preview\"\r\n                  :alt=\"previewTemplate?.name\"\r\n                  class=\"w-full h-full object-cover\"\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- مكونات القالب -->\r\n            <div class=\"mt-6\">\r\n              <h3 class=\"text-lg font-semibold text-gray-900 mb-3\">مكونات القالب</h3>\r\n              <div class=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n                <div\r\n                  v-for=\"comp in previewTemplate?.components\"\r\n                  :key=\"comp\"\r\n                  class=\"flex items-center p-3 bg-gray-50 rounded-lg\"\r\n                >\r\n                  <Icon name=\"material-symbols:check-circle\" class=\"h-5 w-5 text-green-600 ml-2\" />\r\n                  <span class=\"text-sm text-gray-700\">{{ comp }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- أزرار الإجراءات -->\r\n        <div class=\"flex items-center justify-end space-x-3 space-x-reverse p-6 border-t border-gray-200\">\r\n          <button\r\n            @click=\"showPreview = false\"\r\n            class=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\r\n          >\r\n            إلغاء\r\n          </button>\r\n          <button\r\n            @click=\"useTemplate(previewTemplate)\"\r\n            class=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            استخدام هذا القالب\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// إعداد الصفحة\r\ndefinePageMeta({\r\n  layout: 'admin',\r\n  middleware: 'admin'\r\n})\r\n\r\n// المتغيرات التفاعلية\r\nconst selectedCategory = ref('all')\r\nconst showPreview = ref(false)\r\nconst previewTemplate = ref(null)\r\n\r\n// فئات القوالب\r\nconst templateCategories = ref([\r\n  { id: 'all', name: 'الكل', icon: 'material-symbols:apps' },\r\n  { id: 'landing', name: 'صفحات الهبوط', icon: 'material-symbols:home' },\r\n  { id: 'business', name: 'أعمال', icon: 'material-symbols:work' },\r\n  { id: 'portfolio', name: 'معرض أعمال', icon: 'material-symbols:photo-library' },\r\n  { id: 'blog', name: 'مدونة', icon: 'material-symbols:article' },\r\n  { id: 'contact', name: 'تواصل', icon: 'material-symbols:contact-mail' }\r\n])\r\n\r\n// قوالب الصفحات\r\nconst templates = ref([\r\n  {\r\n    id: 1,\r\n    name: 'صفحة هبوط سياحية',\r\n    description: 'قالب مثالي لوكالات السفر والسياحة',\r\n    category: 'landing',\r\n    preview: '/images/templates/travel-landing.jpg',\r\n    components: ['Hero', 'About', 'Services', 'Testimonials', 'Contact'],\r\n    data: {\r\n      hero: {\r\n        title: 'اكتشف العالم معنا',\r\n        subtitle: 'أفضل الرحلات السياحية والحج والعمرة',\r\n        backgroundImage: '/images/hero-bg.jpg',\r\n        buttonText: 'اكتشف الآن',\r\n        buttonLink: '/packages'\r\n      },\r\n      about: {\r\n        title: 'من نحن',\r\n        content: 'نحن وكالة سفر رائدة في المملكة العربية السعودية...',\r\n        image: '/images/about.jpg'\r\n      },\r\n      services: {\r\n        title: 'خدماتنا',\r\n        services: 'حج وعمرة\\nرحلات سياحية\\nتذاكر طيران\\nحجز فنادق'\r\n      }\r\n    }\r\n  },\r\n  {\r\n    id: 2,\r\n    name: 'صفحة أعمال احترافية',\r\n    description: 'قالب أنيق للشركات والمؤسسات',\r\n    category: 'business',\r\n    preview: '/images/templates/business.jpg',\r\n    components: ['Hero', 'About', 'Services', 'Team', 'Contact'],\r\n    data: {\r\n      hero: {\r\n        title: 'حلول أعمال متطورة',\r\n        subtitle: 'نقدم أفضل الخدمات لتنمية أعمالك',\r\n        backgroundImage: '/images/business-hero.jpg',\r\n        buttonText: 'تعرف علينا',\r\n        buttonLink: '/about'\r\n      }\r\n    }\r\n  },\r\n  {\r\n    id: 3,\r\n    name: 'معرض أعمال',\r\n    description: 'عرض مشاريعك وأعمالك بطريقة احترافية',\r\n    category: 'portfolio',\r\n    preview: '/images/templates/portfolio.jpg',\r\n    components: ['Hero', 'Portfolio', 'About', 'Contact'],\r\n    data: {\r\n      hero: {\r\n        title: 'معرض أعمالنا',\r\n        subtitle: 'اكتشف مشاريعنا المتميزة',\r\n        backgroundImage: '/images/portfolio-hero.jpg',\r\n        buttonText: 'شاهد الأعمال',\r\n        buttonLink: '#portfolio'\r\n      }\r\n    }\r\n  },\r\n  {\r\n    id: 4,\r\n    name: 'صفحة مدونة',\r\n    description: 'قالب مثالي للمدونات والمقالات',\r\n    category: 'blog',\r\n    preview: '/images/templates/blog.jpg',\r\n    components: ['Hero', 'Blog Posts', 'Sidebar', 'Contact'],\r\n    data: {\r\n      hero: {\r\n        title: 'مدونتنا',\r\n        subtitle: 'أحدث المقالات والأخبار',\r\n        backgroundImage: '/images/blog-hero.jpg',\r\n        buttonText: 'اقرأ المزيد',\r\n        buttonLink: '#posts'\r\n      }\r\n    }\r\n  },\r\n  {\r\n    id: 5,\r\n    name: 'صفحة تواصل',\r\n    description: 'صفحة تواصل شاملة مع نموذج اتصال',\r\n    category: 'contact',\r\n    preview: '/images/templates/contact.jpg',\r\n    components: ['Hero', 'Contact Form', 'Map', 'Info'],\r\n    data: {\r\n      hero: {\r\n        title: 'تواصل معنا',\r\n        subtitle: 'نحن هنا لمساعدتك',\r\n        backgroundImage: '/images/contact-hero.jpg',\r\n        buttonText: 'راسلنا',\r\n        buttonLink: '#contact'\r\n      }\r\n    }\r\n  },\r\n  {\r\n    id: 6,\r\n    name: 'صفحة خدمات',\r\n    description: 'عرض خدماتك بطريقة جذابة',\r\n    category: 'business',\r\n    preview: '/images/templates/services.jpg',\r\n    components: ['Hero', 'Services', 'Pricing', 'Testimonials'],\r\n    data: {\r\n      hero: {\r\n        title: 'خدماتنا',\r\n        subtitle: 'نقدم أفضل الحلول لاحتياجاتك',\r\n        backgroundImage: '/images/services-hero.jpg',\r\n        buttonText: 'اطلب خدمة',\r\n        buttonLink: '#services'\r\n      }\r\n    }\r\n  }\r\n])\r\n\r\n// القوالب المفلترة\r\nconst filteredTemplates = computed(() => {\r\n  if (selectedCategory.value === 'all') {\r\n    return templates.value\r\n  }\r\n  return templates.value.filter(template => template.category === selectedCategory.value)\r\n})\r\n\r\n// دوال الإجراءات\r\nconst showTemplatePreview = (template) => {\r\n  previewTemplate.value = template\r\n  showPreview.value = true\r\n}\r\n\r\nconst useTemplate = async (template) => {\r\n  try {\r\n    // إنشاء مكونات من بيانات القالب\r\n    const components = []\r\n    \r\n    // تحويل بيانات القالب إلى مكونات\r\n    if (template.data.hero) {\r\n      components.push({\r\n        id: Date.now() + 1,\r\n        type: 'hero',\r\n        props: template.data.hero,\r\n        classes: 'mb-6'\r\n      })\r\n    }\r\n    \r\n    if (template.data.about) {\r\n      components.push({\r\n        id: Date.now() + 2,\r\n        type: 'about',\r\n        props: template.data.about,\r\n        classes: 'mb-6'\r\n      })\r\n    }\r\n    \r\n    if (template.data.services) {\r\n      components.push({\r\n        id: Date.now() + 3,\r\n        type: 'services',\r\n        props: template.data.services,\r\n        classes: 'mb-6'\r\n      })\r\n    }\r\n    \r\n    // إنشاء صفحة جديدة باستخدام القالب\r\n    const newPage = {\r\n      title_ar: template.name,\r\n      title_en: template.name,\r\n      content_ar: '',\r\n      content_en: '',\r\n      components: components,\r\n      status: 'draft',\r\n      template: template.id\r\n    }\r\n\r\n    // حفظ الصفحة في قاعدة البيانات\r\n    const response = await $fetch('/api/cms/editor', {\r\n      method: 'POST',\r\n      body: newPage\r\n    })\r\n    \r\n    if (response.success) {\r\n      console.log('Page created with template:', response.id)\r\n      // إعادة توجيه إلى محرر المحتوى مع الصفحة الجديدة\r\n      await navigateTo(`/admin/content/editor?page=${response.id}`)\r\n    }\r\n  } catch (error) {\r\n    console.error('Error using template:', error)\r\n  }\r\n}\r\n\r\n// SEO والميتا\r\nuseHead({\r\n  title: 'قوالب الصفحات - Wonder Land Admin',\r\n  meta: [\r\n    { name: 'description', content: 'اختر من مجموعة متنوعة من القوالب الجاهزة' },\r\n    { name: 'robots', content: 'noindex, nofollow' }\r\n  ]\r\n})\r\n</script>\r\n"],"version":3}