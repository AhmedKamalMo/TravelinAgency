{"version":3,"file":"_id_.vue.mjs","sources":["../../../../../pages/cms/[id].vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gray-50\">\r\n    <!-- محتوى الصفحة -->\r\n    <div v-if=\"loading\" class=\"flex justify-center items-center py-12\">\r\n      <Icon name=\"material-symbols:progress-activity\" class=\"animate-spin h-8 w-8 text-blue-600\" />\r\n      <span class=\"mr-3 text-gray-600\">جارٍ تحميل الصفحة...</span>\r\n    </div>\r\n\r\n    <div v-else-if=\"page\" class=\"max-w-6xl mx-auto p-6\">\r\n      <!-- مكونات الصفحة -->\r\n      <div class=\"space-y-6\">\r\n        <div v-if=\"page.components && page.components.length > 0\">\r\n          <div v-for=\"(component, index) in page.components\" :key=\"component.id || index\" class=\"mb-6\">\r\n            <component\r\n              :is=\"getComponentName(component.type)\"\r\n              v-bind=\"component.props\"\r\n              :class=\"component.classes\"\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- محتوى نصي إذا لم تكن هناك مكونات -->\r\n        <div v-else-if=\"page.content_ar || page.content_en\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n          <div class=\"prose max-w-none\" v-html=\"page.content_ar || page.content_en\"></div>\r\n        </div>\r\n        \r\n        <!-- رسالة فارغة -->\r\n        <div v-else class=\"text-center py-12 bg-white rounded-lg border-2 border-dashed border-gray-300\">\r\n          <Icon name=\"material-symbols:article\" class=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\r\n          <h3 class=\"text-lg font-medium text-gray-900 mb-2\">لا يوجد محتوى</h3>\r\n          <p class=\"text-gray-500\">هذه الصفحة لا تحتوي على أي محتوى</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- حالة عدم وجود الصفحة -->\r\n    <div v-else class=\"text-center py-12\">\r\n      <Icon name=\"material-symbols:article\" class=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\r\n      <h3 class=\"text-lg font-medium text-gray-900 mb-2\">الصفحة غير موجودة</h3>\r\n      <p class=\"text-gray-500 mb-6\">لم يتم العثور على الصفحة المطلوبة</p>\r\n      <NuxtLink\r\n        to=\"/\"\r\n        class=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n      >\r\n        العودة للرئيسية\r\n      </NuxtLink>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// الحصول على معرف الصفحة\r\nconst route = useRoute()\r\nconst pageId = route.params.id\r\n\r\n// المتغيرات التفاعلية\r\nconst page = ref(null)\r\nconst loading = ref(true)\r\n\r\n// تحميل الصفحة\r\nconst loadPage = async () => {\r\n  try {\r\n    loading.value = true\r\n    const response = await $fetch(`/api/public/pages/${pageId}`)\r\n    \r\n    if (response.success && response.page) {\r\n      page.value = response.page\r\n    } else {\r\n      page.value = null\r\n    }\r\n  } catch (error) {\r\n    console.error('Error loading page:', error)\r\n    page.value = null\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// الحصول على اسم المكون\r\nconst getComponentName = (type) => {\r\n  const componentMap = {\r\n    hero: 'CMSHero',\r\n    about: 'CMSAbout',\r\n    services: 'CMSServices',\r\n    testimonials: 'CMSTestimonials',\r\n    contact: 'CMSContact',\r\n    heading: 'CMSHeading',\r\n    paragraph: 'CMSParagraph',\r\n    image: 'CMSImage'\r\n  }\r\n  return componentMap[type] || 'CMSGeneric'\r\n}\r\n\r\n// تحميل البيانات عند تحميل الصفحة\r\nonMounted(() => {\r\n  loadPage()\r\n})\r\n\r\n// SEO والميتا\r\nuseHead({\r\n  title: computed(() => page.value ? page.value.title_ar || page.value.title : 'الصفحة'),\r\n  meta: [\r\n    { name: 'description', content: computed(() => page.value?.content_ar || page.value?.content_en || '') }\r\n  ]\r\n})\r\n</script>\r\n"],"names":["useRoute","page","ref","loading","getComponentName","type","useHead","computed","_a","_b"],"mappings":"kpBAoDcA,EAAU,EACH,OAAO,GAG5B,MAAMC,EAAOC,EAAI,IAAI,EACfC,EAAUD,EAAI,EAAI,EAsBlBE,EAAoBC,IACH,CACnB,KAAM,UACN,MAAO,WACP,SAAU,cACV,aAAc,kBACd,QAAS,aACT,QAAS,aACT,UAAW,eACX,MAAO,UACR,GACmBA,CAAI,GAAK,aAS/B,OAAAC,EAAQ,CACN,MAAOC,EAAS,IAAMN,EAAK,MAAQA,EAAK,MAAM,UAAYA,EAAK,MAAM,MAAQ,QAAQ,EACrF,KAAM,CACJ,CAAE,KAAM,cAAe,QAASM,EAAS,IAAA,SAAM,QAAAC,EAAAP,EAAK,QAAL,YAAAO,EAAY,eAAcC,EAAAR,EAAK,QAAL,YAAAQ,EAAY,aAAc,GAAE,CAAG,CACzG,CACH,CAAC"}