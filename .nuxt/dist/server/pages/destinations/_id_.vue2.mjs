import R from"../../node_modules/nuxt/dist/app/components/nuxt-link.mjs";import"../../node_modules/_nuxt/image/dist/runtime/components/NuxtImg.vue.mjs";import N from"../../node_modules/_nuxt/icon/dist/runtime/components/index2.mjs";import{defineComponent as E,ref as S,withAsyncContext as q,computed as f,unref as t,withCtx as z,createTextVNode as W,toDisplayString as B}from"vue";import{ssrRenderAttrs as F,ssrInterpolate as o,ssrRenderComponent as m,ssrRenderList as $,ssrRenderAttr as H}from"vue/server-renderer";import{useDestinations as T}from"../../composables/useDestinations.mjs";import{useRoute as U}from"vue-router";import{useWhatsApp as V}from"../../composables/useWhatsApp.mjs";import"../../components/ui/modals/DestinationContactFormModal.vue.mjs";import{useAsyncData as G}from"../../node_modules/nuxt/dist/app/composables/asyncData.mjs";import{createError as J}from"../../node_modules/nuxt/dist/app/composables/error.mjs";import{useHead as K}from"../../node_modules/nuxt/dist/head/runtime/composables/v3.mjs";import M from"../../node_modules/_nuxt/image/dist/runtime/components/NuxtImg.vue2.mjs";import O from"../../components/ui/modals/DestinationContactFormModal.vue2.mjs";import{useI18n as P}from"../../node_modules/vue-i18n/dist/vue-i18n.mjs";const ge=E({__name:"[id]",__ssrInlineRender:!0,async setup(Q){let x,u;const b=U(),{t:l,locale:r}=P(),{getWhatsAppUrl:D}=V(),{getDestinationById:I}=T(),p=S(!1),{data:a,pending:j,error:h}=([x,u]=q(()=>G(`destination-${b.params.id}`,()=>{const s=I(b.params.id);if(!s)throw J({statusCode:404,message:"Destination not found"});return s})),x=await x,u(),x),g=f(()=>{var s;return((s=a.value)==null?void 0:s.name[r.value.slice(0,2)])||""}),C=f(()=>{var s;return((s=a.value)==null?void 0:s.description[r.value.slice(0,2)])||""});function A(s){return new Date(s).toLocaleDateString(r.value.slice(0,2),{year:"numeric",month:"long",day:"numeric"})}return K({title:f(()=>a.value?`${a.value.name[r.value.slice(0,2)]} | Wonder Land Agency`:"Loading..."),meta:[{name:"description",content:f(()=>{var s;return((s=a.value)==null?void 0:s.description[r.value.slice(0,2)])||""})}]}),(s,e,n,L)=>{var y,w;const k=R,v=M,c=N;e(`<div${F(L)}>`),t(j)?e(`<div class="flex justify-center items-center min-h-screen"><div class="animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"></div><span class="sr-only">${o(t(l)("common.loading"))}</span></div>`):t(h)?(e(`<div class="min-h-screen flex flex-col items-center justify-center px-4 text-center"><h1 class="text-2xl font-bold text-gray-900 mb-4">${o(t(l)("common.error"))}</h1><p class="text-gray-600 mb-8">${o(t(h).message)}</p>`),e(m(k,{to:"/",class:"rounded-full bg-primary px-6 py-3 text-white hover:bg-primary-dark transition-colors"},{default:z((i,d,X,Y)=>{if(d)d(`${o(t(l)("common.back_home"))}`);else return[W(B(t(l)("common.back_home")),1)]}),_:1},n)),e("</div>")):t(a)?(e('<div class="relative min-h-screen"><div class="relative h-[40vh] md:h-[60vh] w-full">'),e(m(v,{src:t(a).mainImage,class:"h-full w-full object-cover",alt:g.value,loading:"eager",width:"1920",height:"1080",format:"webp",quality:"90"},null,n)),e(`<div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div></div><div class="relative z-10 -mt-32 rounded-t-[2.5rem] bg-white px-4 pb-20 pt-12 md:px-8"><div class="mx-auto max-w-6xl"><h1 class="mb-4 text-4xl font-bold text-gray-900">${o(g.value)}</h1><p class="mb-12 text-lg text-gray-600 max-w-3xl">${o(C.value)}</p>`),(y=t(a).touristSpots)!=null&&y.length?(e('<section class="mb-16"><h2 class="text-2xl font-semibold mb-6 text-gray-900 flex items-center gap-2">'),e(m(c,{name:"material-symbols:location-on",class:"h-6 w-6 text-primary"},null,n)),e(` ${o(t(l)("home.destinations.tourist_spots"))}</h2><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"><!--[-->`),$(t(a).touristSpots,i=>{var d;e('<div class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100"><div class="relative h-48">'),e(m(v,{src:i.image||((d=t(a).gallery)==null?void 0:d[0])||t(a).mainImage,alt:i.name[t(r).slice(0,2)],class:"w-full h-full object-cover",width:"600",height:"400",format:"webp",quality:"85"},null,n)),e(`</div><div class="p-6"><h3 class="text-xl font-semibold mb-3 text-gray-900">${o(i.name[t(r).slice(0,2)])}</h3><p class="text-gray-600">${o(i.description[t(r).slice(0,2)])}</p></div></div>`)}),e("<!--]--></div></section>")):e("<!---->"),(w=t(a).upcomingEvents)!=null&&w.length?(e('<section class="mb-16"><h2 class="text-2xl font-semibold mb-6 text-gray-900 flex items-center gap-2">'),e(m(c,{name:"material-symbols:calendar-month-outline",class:"h-6 w-6 text-primary"},null,n)),e(` ${o(t(l)("home.destinations.upcoming_events"))}</h2><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"><!--[-->`),$(t(a).upcomingEvents,i=>{e('<div class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 p-6">'),i.image?(e('<div class="relative h-40 -mx-6 -mt-6 mb-6">'),e(m(v,{src:i.image,alt:i.title[t(r).slice(0,2)],class:"w-full h-full object-cover",width:"400",height:"300",format:"webp",quality:"85"},null,n)),e("</div>")):e("<!---->"),e(`<h3 class="text-xl font-semibold mb-3 text-gray-900">${o(i.title[t(r).slice(0,2)])}</h3><p class="text-gray-600 mb-4">${o(i.description[t(r).slice(0,2)])}</p><div class="flex items-center text-sm text-gray-500">`),e(m(c,{name:"material-symbols:calendar-month-outline",class:"w-5 h-5 mr-2"},null,n)),e(` ${o(A(i.date))}</div></div>`)}),e("<!--]--></div></section>")):e("<!---->"),e(`<section class="bg-gradient-to-br from-primary/5 to-primary/10 rounded-2xl p-6 sm:p-8 md:p-12 text-center"><h2 class="text-2xl sm:text-3xl font-semibold mb-3 sm:mb-4 text-gray-900">${o(t(l)("home.destinations.plan_your_trip"))}</h2><p class="text-gray-600 mb-6 sm:mb-8 max-w-2xl mx-auto text-base sm:text-lg">${o(t(l)("home.destinations.contact_description"))}</p><div class="flex flex-col sm:flex-row items-center justify-center gap-4"><button class="w-full sm:w-auto rounded-full bg-primary-500 px-6 sm:px-8 py-4 text-white hover:bg-primary-800 transition-colors text-base sm:text-lg font-medium shadow-lg hover:shadow-xl flex items-center justify-center gap-2 min-h-[44px]">`),e(m(c,{name:"material-symbols:chat",class:"h-5 w-5"},null,n)),e(` ${o(t(l)("home.destinations.cta_button"))}</button>`),p.value?e(m(O,{destinationName:g.value,onClose:i=>p.value=!1},null,n)):e("<!---->"),e(`<a${H("href",t(D)(t(l)("whatsapp.messages.destination_interest",{name:g.value})))} target="_blank" rel="noopener noreferrer" class="w-full sm:w-auto rounded-full bg-[#25D366] px-6 sm:px-8 py-4 text-white hover:bg-[#128C7E] transition-colors text-base sm:text-lg font-medium shadow-lg hover:shadow-xl flex items-center justify-center gap-2 min-h-[44px]">`),e(m(c,{name:"logos:whatsapp-icon",class:"w-5 h-5"},null,n)),e(` ${o(t(l)("buttons.whatsapp"))}</a></div></section></div></div></div>`)):e("<!---->"),e("</div>")}}});export{ge as default};
//# sourceMappingURL=_id_.vue2.mjs.map
