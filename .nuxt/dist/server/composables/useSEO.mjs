import{ref as c,readonly as i}from"vue";const w=()=>{const o=c({siteTitleAr:"",siteTitleEn:"",siteDescriptionAr:"",siteDescriptionEn:"",keywords:"",siteUrl:"",ogImage:"",twitterHandle:"",googleAnalytics:"",googleSearchConsole:""}),u=c({indexedPages:0,performanceScore:0,seoIssues:0,internalLinks:0}),l=c([]),a=c(!1),r=c(null),f=async()=>{try{a.value=!0,r.value=null;const e=await $fetch("/api/seo");if(e.success){const{seoData:s,seoStats:t,seoPages:n}=e.data;o.value={...o.value,...s},u.value={...u.value,...t},l.value=n}}catch(e){r.value=e,console.error("Error loading SEO data:",e)}finally{a.value=!1}},d=async e=>{try{a.value=!0,r.value=null;const s=await $fetch("/api/seo",{method:"PUT",body:e});if(s.success)return o.value={...o.value,...e.seoData},{success:!0,message:s.message}}catch(s){return r.value=s,console.error("Error saving SEO settings:",s),{success:!1,error:s}}finally{a.value=!1}},v=async e=>{try{a.value=!0,r.value=null;const s=await $fetch("/api/seo/sitemap/generate",{method:"POST",body:e});if(s.success)return{success:!0,data:s.data}}catch(s){return r.value=s,console.error("Error generating sitemap:",s),{success:!1,error:s}}finally{a.value=!1}},h=async e=>{try{a.value=!0,r.value=null;const s=await $fetch("/api/seo/pages",{method:"POST",body:e});if(s.success)return l.value.push(s.data),{success:!0,data:s.data}}catch(s){return r.value=s,console.error("Error creating SEO page:",s),{success:!1,error:s}}finally{a.value=!1}},g=async(e,s)=>{try{a.value=!0,r.value=null;const t=await $fetch(`/api/seo/pages/${e}`,{method:"PUT",body:s});if(t.success){const n=l.value.findIndex(m=>m.id===e);return n!==-1&&(l.value[n]={...l.value[n],...t.data}),{success:!0,data:t.data}}}catch(t){return r.value=t,console.error("Error updating SEO page:",t),{success:!1,error:t}}finally{a.value=!1}},p=async e=>{try{a.value=!0,r.value=null;const s=await $fetch(`/api/seo/pages/${e}`,{method:"DELETE"});if(s.success)return l.value=l.value.filter(t=>t.id!==e),{success:!0,message:s.message}}catch(s){return r.value=s,console.error("Error deleting SEO page:",s),{success:!1,error:s}}finally{a.value=!1}},y=e=>{let s=0;const t=[];return e.title&&e.title.length>0?s+=20:t.push("عنوان الصفحة مفقود"),e.description&&e.description.length>0?s+=20:t.push("وصف الصفحة مفقود"),e.keywords&&e.keywords.length>0?s+=15:t.push("الكلمات المفتاحية مفقودة"),e.title&&e.title.length>=30&&e.title.length<=60?s+=15:e.title&&t.push("طول العنوان غير مناسب (يجب أن يكون بين 30-60 حرف)"),e.description&&e.description.length>=120&&e.description.length<=160?s+=15:e.description&&t.push("طول الوصف غير مناسب (يجب أن يكون بين 120-160 حرف)"),e.ogImage&&e.ogImage.length>0?s+=15:t.push("صورة Open Graph مفقودة"),{score:Math.min(s,100),issues:t,status:s>=80?"optimized":s>=60?"needs-work":"not-optimized"}},S=()=>{const e=[];return o.value.siteTitleAr||e.push("أضف عنوان الموقع باللغة العربية"),o.value.siteDescriptionAr||e.push("أضف وصف الموقع باللغة العربية"),o.value.keywords||e.push("أضف الكلمات المفتاحية للموقع"),o.value.googleAnalytics||e.push("أضف كود Google Analytics لتتبع الزوار"),o.value.googleSearchConsole||e.push("أضف كود Google Search Console لتحسين الفهرسة"),e};return{seoData:i(o),seoStats:i(u),seoPages:i(l),loading:i(a),error:i(r),loadSeoData:f,saveSeoSettings:d,generateSitemap:v,createSeoPage:h,updateSeoPage:g,deleteSeoPage:p,analyzeSeoScore:y,getSeoRecommendations:S}};export{w as useSEO};
//# sourceMappingURL=useSEO.mjs.map
