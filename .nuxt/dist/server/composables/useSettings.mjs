import{ref as c,computed as o,readonly as l}from"vue";const w=()=>{const s=c({}),i=c(!1),r=c(null),g=async(a=!1)=>{try{i.value=!0,r.value=null;const t=await $fetch("/api/cms/site-settings",{query:{public_only:a}});return t&&t.data&&(s.value=t.data.flatObject||{}),s.value}catch(t){throw r.value=t,console.error("Error loading settings:",t),t}finally{i.value=!1}},e=(a,t="")=>s.value[a]||t,u=a=>{const t={};return Object.keys(s.value).forEach(n=>{(n.startsWith(a+"_")||n.includes(a))&&(t[n]=s.value[n])}),t},_=o(()=>({name_ar:e("site_name_ar","Wonder Land"),name_en:e("site_name_en","Wonder Land"),tagline_ar:e("site_tagline_ar","وكالة السفر الرائدة"),tagline_en:e("site_tagline_en","Leading Travel Agency"),description_ar:e("site_description_ar","وكالة سفر رائدة في المملكة العربية السعودية"),description_en:e("site_description_en","Leading travel agency in Saudi Arabia"),logo:e("site_logo","/images/logo.png")})),d=o(()=>({email:e("contact_email","info@wonderland.com"),phone:e("contact_phone","+966501234567"),whatsapp:e("contact_whatsapp","+966501234567"),address:e("contact_address","الرياض، المملكة العربية السعودية"),website:e("website_url","https://wonderland.com")})),p=o(()=>({facebook:e("social_facebook",""),twitter:e("social_twitter",""),instagram:e("social_instagram",""),youtube:e("social_youtube",""),linkedin:e("social_linkedin",""),snapchat:e("social_snapchat","")})),m=o(()=>({keywords:e("seo_keywords","سفر، سياحة، رحلات، السعودية"),description:e("seo_description","اكتشف أفضل الوجهات السياحية مع Wonder Land"),googleAnalytics:e("google_analytics",""),googleTagManager:e("google_tag_manager",""),facebookPixel:e("facebook_pixel","")})),f=o(()=>({defaultLanguage:e("default_language","ar"),timezone:e("timezone","Asia/Riyadh"),defaultCurrency:e("default_currency","SAR"),itemsPerPage:parseInt(e("items_per_page","20")),maintenanceMode:e("maintenance_mode","false")==="true",allowRegistration:e("allow_registration","true")==="true",enableNotifications:e("enable_notifications","true")==="true",enableAnalytics:e("enable_analytics","true")==="true"})),y=o(()=>({sessionTimeout:parseInt(e("session_timeout","60")),maxLoginAttempts:parseInt(e("max_login_attempts","5")),require2FA:e("require_2fa","false")==="true",enableCaptcha:e("enable_captcha","false")==="true",logActivities:e("log_activities","true")==="true",forceHttps:e("force_https","true")==="true"})),b=async(a,t)=>{try{return await $fetch("/api/cms/site-settings",{method:"PUT",body:{settings:[{setting_key:a,setting_value:t.toString(),setting_type:typeof t=="boolean"?"boolean":typeof t=="number"?"number":"text",category:"general",is_public:!0}]}}),s.value[a]=t,!0}catch(n){throw console.error("Error updating setting:",n),n}},h=async a=>{try{const t=Object.keys(a).map(n=>({setting_key:n,setting_value:a[n].toString(),setting_type:typeof a[n]=="boolean"?"boolean":typeof a[n]=="number"?"number":"text",category:"general",is_public:!0}));return await $fetch("/api/cms/site-settings",{method:"PUT",body:{settings:t}}),Object.assign(s.value,a),!0}catch(t){throw console.error("Error updating settings:",t),t}};return{settings:l(s),loading:l(i),error:l(r),siteSettings:_,contactSettings:d,socialSettings:p,seoSettings:m,systemSettings:f,securitySettings:y,loadSettings:g,getSetting:e,getSettingsByCategory:u,updateSetting:b,updateSettings:h}};export{w as useSettings};
//# sourceMappingURL=useSettings.mjs.map
