import{ref as o}from"vue";function k(){const s=o([]),t=o(!0),c=o(null),r=async()=>{if(!(t.value&&s.value.length>0)){t.value=!0,c.value=null;try{console.log("usePackages: Fetching packages from API...");const e=await fetch("/api/packages");if(!e.ok)throw console.error("usePackages: Failed to fetch packages:",e.status,e.statusText),new Error("Failed to fetch packages");const a=await e.json();console.log("usePackages: API response:",a),console.log("usePackages: Packages data:",a.data),s.value=a.data}catch(e){c.value=e,console.error("usePackages: Error fetching packages:",e)}finally{t.value=!1}}};(()=>{r()})();const n=()=>{const e=s.value||[];return console.log("getPackages called, returning:",e.length,"packages"),e};return{packages:s,getPackages:n,getPackageById:e=>n().find(a=>a.id===e),pending:t,error:c,refresh:()=>r()}}export{k as usePackages};
//# sourceMappingURL=usePackages.mjs.map
