import{createRenderer as e,getRequestDependencies as t,getPreloadLinks as n,getPrefetchLinks as r}from"file://F:/TravelinAgency/node_modules/vue-bundle-renderer/dist/runtime.mjs";import{getResponseStatusText as o,getResponseStatus as s,getQuery as i,createError as a,appendResponseHeader as d}from"file://F:/TravelinAgency/node_modules/h3/dist/index.mjs";import{b as l,a as p,c as u,d as c,p as m,g as f,j as h,w as y,u as g}from"./nitro.mjs";import{createHead as _,propsToString as v,renderSSRHead as x}from"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/server.mjs";import{toValue as A,isRef as b}from"file://F:/TravelinAgency/node_modules/vue/index.mjs";import{stringify as j,uneval as T}from"file://F:/TravelinAgency/node_modules/devalue/index.js";import{DeprecationsPlugin as w,PromisesPlugin as C,TemplateParamsPlugin as F,AliasSortingPlugin as R}from"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/plugins.mjs";import"file://F:/TravelinAgency/node_modules/destr/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/hookable/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ofetch/dist/node.mjs";import"file://F:/TravelinAgency/node_modules/node-mock-http/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/klona/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/defu/dist/defu.mjs";import"file://F:/TravelinAgency/node_modules/scule/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/radix3/dist/index.mjs";import"node:fs";import"node:url";import"file://F:/TravelinAgency/node_modules/pathe/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/utils/lib/index.mjs";import"file://F:/TravelinAgency/node_modules/ohash/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/consola/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ipx/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs.mjs";import"file:///F:/TravelinAgency/node_modules/nuxt/dist/core/runtime/nitro/utils/cache-driver.js";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs-lite.mjs";const VueResolver=(e,t)=>b(t)?A(t):t;const k={meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{name:"description",content:"Your trusted travel partner for unforgettable experiences"}],link:[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;500;600;700;800;900&display=swap"}],style:[],script:[],noscript:[],title:"World Trip Agency",htmlAttrs:{lang:"ar-SA",dir:"rtl"}},P={id:"teleports"},S=`<div${v({id:"__nuxt"})}>`,$=function(e){let t=null;return()=>(null===t&&(t=e().catch((e=>{throw t=null,e}))),t)}((async()=>{const t=await import("../build/client.manifest.mjs").then((e=>e.default||e)).then((e=>"function"==typeof e?e():e)),n=await import("../virtual/_virtual_spa-template.mjs").then((e=>e.template)).catch((()=>"")).then((e=>S+e+"</div>")),r=e((()=>()=>{}),{manifest:t,renderToString:()=>n,buildAssetsURL:l}),o=await r.renderToString({});return{rendererContext:r.rendererContext,renderToString:e=>{const t=p(e.event);return e.modules||=new Set,e.payload.serverRendered=!1,e.config={public:t.public,app:t.app},Promise.resolve(o)}}}));const L=u("internal:nuxt:prerender:payload");function renderPayloadResponse(e){return{body:j(splitPayload(e).payload,e._payloadReducers),statusCode:s(e.event),statusMessage:o(e.event),headers:{"content-type":"application/json;charset=utf-8","x-powered-by":"Nuxt"}}}function renderPayloadJsonScript(e){const t={type:"application/json",innerHTML:e.data?j(e.data,e.ssrContext._payloadReducers):"","data-nuxt-data":"nuxt-app","data-ssr":!1,id:"__NUXT_DATA__"};e.src&&(t["data-src"]=e.src);return[t,{innerHTML:`window.__NUXT__={};window.__NUXT__.config=${T(e.ssrContext.config)}`}]}function splitPayload(e){const{data:t,prerenderedAt:n,...r}=e.payload;return{initial:{...r,prerenderedAt:n},payload:{data:t,prerenderedAt:n}}}u("internal:nuxt:prerender:island"),u("internal:nuxt:prerender:island-props");const U={disableDefaults:!0,disableCapoSorting:!1,plugins:[w,C,F,R]},I={omitLineBreaks:!1};globalThis.__buildAssetsURL=l,globalThis.__publicAssetsURL=m;const N=!!P.id,H=N?`<div${v(P)}>`:"",M=N?"</div>":"",O=/^[^?]*\/_payload.json(?:\?.*)?$/,D="_payload.json",z=c((async e=>{const u=g(),c=e.path.startsWith("/__nuxt_error")?i(e):null;if(c&&c.statusCode&&(c.statusCode=Number.parseInt(c.statusCode)),c&&!("__unenv__"in e.node.req))throw a({statusCode:404,statusMessage:"Page Not Found: /__nuxt_error"});const m=void 0;let v=c?.url||e.path;const A=O.test(v);if(A&&(v=v.substring(0,v.lastIndexOf("/"))||"/",e._path=v,e.node.req.url=v,await L.hasItem(v)))return L.getItem(v);const b=f(e),j=function(e={}){const t=_({...e,propResolvers:[VueResolver]});return t.install=function(e){return{install(t){t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide("usehead",e)}}.install}(t),t}(U),T={mode:"server"};j.push(k,T);const w={url:v,event:e,runtimeConfig:p(e),noSSR:!0,head:j,error:!!c,nuxt:void 0,payload:c?{error:c}:{},_payloadReducers:Object.create(null),modules:new Set,islandContext:m},C=!w.noSSR&&!0,F=C?h(w.runtimeConfig.app.cdnURL||w.runtimeConfig.app.baseURL,v.replace(/\?.*$/,""),D)+"?"+w.runtimeConfig.app.buildId:void 0;w.payload.prerenderedAt=Date.now();const R=await $(),S=await R.renderToString(w).catch((async e=>{if(w._renderResponse&&"skipping render"===e.message)return{};const t=!c&&w.payload?.error||e;throw await(w.nuxt?.hooks.callHook("app:error",t)),t}));if(await(w.nuxt?.hooks.callHook("app:rendered",{ssrContext:w,renderResult:S})),w._renderResponse)return w._renderResponse;if(w.payload?.error&&!c)throw w.payload.error;if(A){const e=renderPayloadResponse(w);return await L.setItem(v,e),e}C&&(d(e,"x-nitro-prerender",h(v.replace(/\?.*$/,""),D)),await L.setItem(y(v),renderPayloadResponse(w)));const z=[],X=b.noScripts,{styles:q,scripts:B}=t(w,R.rendererContext);C&&!X&&j.push({link:[{rel:"preload",as:"fetch",crossorigin:"anonymous",href:F}]},T),w._preloadManifest&&j.push({link:[{rel:"preload",as:"fetch",fetchpriority:"low",crossorigin:"anonymous",href:l(`builds/meta/${w.runtimeConfig.app.buildId}.json`)}]},{...T,tagPriority:"low"}),z.length&&j.push({style:z});{const e=[];for(const t of Object.values(q))e.push({rel:"stylesheet",href:R.rendererContext.buildAssetsURL(t.file),crossorigin:""});e.length&&j.push({link:e},T)}X||(j.push({link:n(w,R.rendererContext)},T),j.push({link:r(w,R.rendererContext)},T),j.push({script:renderPayloadJsonScript(C?{ssrContext:w,data:splitPayload(w).initial,src:F}:{ssrContext:w,data:w.payload})},{...T,tagPosition:"bodyClose",tagPriority:"high"})),b.noScripts||j.push({script:Object.values(B).map((e=>({type:e.module?"module":null,src:R.rendererContext.buildAssetsURL(e.file),defer:!e.module||null,tagPosition:"head",crossorigin:""})))},T);const{headTags:J,bodyTags:W,bodyTagsOpen:Y,htmlAttrs:E,bodyAttrs:G}=await x(j,I),K={island:false,htmlAttrs:E?[E]:[],head:normalizeChunks([J]),bodyAttrs:G?[G]:[],bodyPrepend:normalizeChunks([Y,w.teleports?.body]),body:[S.html,H+(N?joinTags([w.teleports?.[`#${P.id}`]]):"")+M],bodyAppend:[W]};await u.hooks.callHook("render:html",K,{event:e});var Q;return{body:(Q=K,`<!DOCTYPE html><html${joinAttrs(Q.htmlAttrs)}><head>${joinTags(Q.head)}</head><body${joinAttrs(Q.bodyAttrs)}>${joinTags(Q.bodyPrepend)}${joinTags(Q.body)}${joinTags(Q.bodyAppend)}</body></html>`),statusCode:s(e),statusMessage:o(e),headers:{"content-type":"text/html;charset=utf-8","x-powered-by":"Nuxt"}}}));function normalizeChunks(e){return e.filter(Boolean).map((e=>e.trim()))}function joinTags(e){return e.join("")}function joinAttrs(e){return 0===e.length?"":" "+e.join(" ")}export{z as default};
//# sourceMappingURL=renderer.mjs.map
