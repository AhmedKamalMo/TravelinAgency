import{defineEventHandler as e}from"file://F:/TravelinAgency/node_modules/h3/dist/index.mjs";import{executeQuery as t}from"../../_/database.mjs";import"../../_/nitro.mjs";import"file://F:/TravelinAgency/node_modules/destr/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/hookable/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ofetch/dist/node.mjs";import"file://F:/TravelinAgency/node_modules/node-mock-http/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/klona/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/defu/dist/defu.mjs";import"file://F:/TravelinAgency/node_modules/scule/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/radix3/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/vue/index.mjs";import"node:fs";import"node:url";import"file://F:/TravelinAgency/node_modules/pathe/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/utils/lib/index.mjs";import"file://F:/TravelinAgency/node_modules/ohash/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/consola/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ipx/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs.mjs";import"file:///F:/TravelinAgency/node_modules/nuxt/dist/core/runtime/nitro/utils/cache-driver.js";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs-lite.mjs";import"file://F:/TravelinAgency/node_modules/mysql2/promise.js";import"file://F:/TravelinAgency/node_modules/bcryptjs/index.js";import"file://F:/TravelinAgency/node_modules/jsonwebtoken/index.js";const n=e((async e=>{try{try{const e=await t("\n        SELECT \n          id, \n          title_ar,\n          title_en,\n          content_ar,\n          content_en,\n          type,\n          status,\n          url,\n          slug,\n          created_at,\n          updated_at\n        FROM content_pages \n        ORDER BY created_at DESC\n      ");if(e&&e.length>0){return{success:!0,message:"Content retrieved successfully from database",pages:e.map((e=>({id:e.id,title:e.title_ar||e.title_en,title_ar:e.title_ar,title_en:e.title_en,content:e.content_ar||e.content_en,content_ar:e.content_ar,content_en:e.content_en,type:e.type||"page",status:e.status||"draft",url:e.url||`/${e.slug||""}`,created_at:e.created_at,updated_at:e.updated_at})))}}}catch(e){}let e={};try{const t=await import("node:fs/promises"),n=(await import("node:path")).join(process.cwd(),"page-statuses.json"),a=await t.readFile(n,"utf-8");e=JSON.parse(a)}catch(t){e={}}return{success:!0,message:"Content retrieved successfully from default data",pages:[{id:1,title_ar:"الصفحة الرئيسية",title_en:"Home Page",content_ar:"الصفحة الرئيسية لموقع وكالة السفر",content_en:"Main homepage of the travel agency website",type:"page",status:e[1]||"published",url:"/",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{id:2,title_ar:"الباقات السياحية",title_en:"Travel Packages",content_ar:"عرض جميع الباقات السياحية المتاحة",content_en:"View all available travel packages",type:"page",status:e[2]||"published",url:"/packages/",created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date(Date.now()-864e5).toISOString()},{id:3,title_ar:"باقة مخصصة",title_en:"Custom Package",content_ar:"إنشاء باقة سياحية مخصصة حسب احتياجاتك",content_en:"Create a custom travel package according to your needs",type:"page",status:e[3]||"published",url:"/custom-package/",created_at:new Date(Date.now()-1728e5).toISOString(),updated_at:new Date(Date.now()-1728e5).toISOString()},{id:4,title_ar:"من نحن",title_en:"About Us",content_ar:"تعرف على وكالة السفر وخدماتنا",content_en:"Learn about our travel agency and services",type:"page",status:e[4]||"published",url:"/about/",created_at:new Date(Date.now()-2592e5).toISOString(),updated_at:new Date(Date.now()-2592e5).toISOString()}]}}catch(e){return console.error("Error fetching content:",e),{success:!1,message:"Failed to fetch content",error:"Internal server error",pages:[]}}}));export{n as default};
//# sourceMappingURL=index.get.mjs.map
