import{defineEventHandler as e}from"file://F:/TravelinAgency/node_modules/h3/dist/index.mjs";import{readdir as r,stat as s}from"node:fs/promises";import{join as t}from"node:path";const o=e((async e=>{try{const e=t(process.cwd(),"public","images","packages","imported"),o=t(process.cwd(),"public","images","packages");let a=[];try{a=(await r(e)).filter((e=>{const r=e.toLowerCase().split(".").pop();return["jpg","jpeg","png","webp","gif"].includes(r)}))}catch(e){console.error("Error reading imported directory:",e)}let i=[];try{i=(await r(o)).filter((e=>{const r=e.toLowerCase().split(".").pop();return["jpg","jpeg","png","webp","gif"].includes(r)}))}catch(e){console.error("Error reading old directory:",e)}const c=["paris-romance.jpg","tokyo-modern.jpg","london-royal.jpg"],p=[];for(const r of c){const a=t(e,r),i=t(o,r);let c=!1,m=!1;try{await s(a),c=!0}catch{c=!1}try{await s(i),m=!0}catch{m=!1}p.push({name:r,imported:{path:`/images/packages/imported/${r}`,exists:c},old:{path:`/images/packages/${r}`,exists:m}})}return{success:!0,message:"Image accessibility test completed",summary:{importedImages:a.length,oldImages:i.length,importedDirectory:e,oldDirectory:o},testResults:p,importedImages:a.slice(0,10),oldImages:i.slice(0,10)}}catch(e){return console.error("Error testing images:",e),{success:!1,message:"Failed to test images",error:e.message}}}));export{o as default};
//# sourceMappingURL=test.get.mjs.map
