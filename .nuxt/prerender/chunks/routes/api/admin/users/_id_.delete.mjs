import{defineEventHandler as s,createError as e,getRouterParam as t}from"file://F:/TravelinAgency/node_modules/h3/dist/index.mjs";const r=s((async s=>{var r,o;try{const a=await getServerSession(s);if(!(null==(r=null==a?void 0:a.user)?void 0:r.role)||!["admin"].includes(a.user.role))throw e({statusCode:403,statusMessage:"غير مصرح بالوصول - صلاحيات المدير مطلوبة"});const u=t(s,"id");if(!u)throw e({statusCode:400,statusMessage:"معرف المستخدم مطلوب"});if("1"===u)throw e({statusCode:400,statusMessage:"لا يمكن حذف المدير الرئيسي"});if((null==(o=a.user.id)?void 0:o.toString())===u)throw e({statusCode:400,statusMessage:"لا يمكن حذف حسابك الخاص"});return console.log(`Deleting user with ID: ${u}`),{success:!0,message:"تم حذف المستخدم بنجاح"}}catch(s){return console.error("Error deleting user:",s),{success:!1,error:s.message||"فشل في حذف المستخدم"}}}));export{r as default};
//# sourceMappingURL=_id_.delete.mjs.map
