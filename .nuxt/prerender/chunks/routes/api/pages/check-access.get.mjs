import{defineEventHandler as s,getQuery as e,createError as t}from"file://F:/TravelinAgency/node_modules/h3/dist/index.mjs";const a=s((async s=>{try{const{path:a}=e(s);if(!a)throw t({statusCode:400,statusMessage:"Path is required"});const o={"/":1,"/packages/":2,"/custom-package/":3,"/about/":4}[a];if(!o)return{success:!0,accessible:!0,reason:"Not a main page"};try{const s=await import("node:fs/promises"),e=(await import("node:path")).join(process.cwd(),"page-statuses.json"),t=await s.readFile(e,"utf-8"),a=JSON.parse(t)[o.toString()],i="published"===a;return{success:!0,accessible:i,pageId:o,status:a,reason:i?"Page is published":"Page is not published"}}catch(s){return{success:!0,accessible:!0,pageId:o,status:"published",reason:"Status file not found, assuming published"}}}catch(s){throw t({statusCode:s.statusCode||500,statusMessage:s.statusMessage||"Failed to check page access"})}}));export{a as default};
//# sourceMappingURL=check-access.get.mjs.map
