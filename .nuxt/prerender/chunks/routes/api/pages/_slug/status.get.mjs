import{defineEventHandler as s,getRouterParam as t,createError as e}from"file://F:/TravelinAgency/node_modules/h3/dist/index.mjs";const a=s((async s=>{try{const a=t(s,"slug");if(!a)throw e({statusCode:400,statusMessage:"Page slug is required"});const u={"":1,packages:2,"custom-package":3,about:4}[a];if(!u)throw e({statusCode:404,statusMessage:"Page not found"});try{const s=await import("node:fs/promises"),t=(await import("node:path")).join(process.cwd(),"page-statuses.json"),e=await s.readFile(t,"utf-8"),o=JSON.parse(e)[u.toString()]||"published";return{success:!0,pageId:u,slug:a,status:o,isPublished:"published"===o}}catch(s){return{success:!0,pageId:u,slug:a,status:"published",isPublished:!0}}}catch(s){throw e({statusCode:s.statusCode||500,statusMessage:s.statusMessage||"Failed to check page status"})}}));export{a as default};
//# sourceMappingURL=status.get.mjs.map
