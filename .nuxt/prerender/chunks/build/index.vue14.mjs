import{M as e}from"./nuxt-link.mjs";import{q as t}from"./index2.mjs";import{ref as s,computed as r,watch as i,mergeProps as l,withCtx as d,createVNode as o,createTextVNode as a,unref as n,useSSRContext as u}from"file://F:/TravelinAgency/node_modules/vue/index.mjs";import{ssrRenderAttrs as m,ssrRenderComponent as c,ssrRenderAttr as p,ssrIncludeBooleanAttr as x,ssrLooseContain as v,ssrLooseEqual as g,ssrRenderList as y,ssrInterpolate as f,ssrRenderClass as b}from"file://F:/TravelinAgency/node_modules/vue/server-renderer/index.mjs";import"./server.mjs";import"file://F:/TravelinAgency/node_modules/hookable/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unctx/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/h3/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/vue-router/dist/vue-router.node.mjs";import"file://F:/TravelinAgency/node_modules/radix3/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/defu/dist/defu.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/vue/dist/iconify.mjs";import"file://F:/TravelinAgency/node_modules/klona/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/cookie-es/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/destr/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ohash/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/vue-devtools-stub/dist/index.mjs";import"../_/renderer.mjs";import"file://F:/TravelinAgency/node_modules/vue-bundle-renderer/dist/runtime.mjs";import"../_/nitro.mjs";import"file://F:/TravelinAgency/node_modules/ofetch/dist/node.mjs";import"file://F:/TravelinAgency/node_modules/node-mock-http/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/scule/dist/index.mjs";import"node:fs";import"node:url";import"file://F:/TravelinAgency/node_modules/pathe/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/utils/lib/index.mjs";import"file://F:/TravelinAgency/node_modules/consola/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ipx/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs.mjs";import"file:///F:/TravelinAgency/node_modules/nuxt/dist/core/runtime/nitro/utils/cache-driver.js";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs-lite.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/server.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/utils.mjs";import"file://F:/TravelinAgency/node_modules/devalue/index.js";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/plugins.mjs";import"file://F:/TravelinAgency/node_modules/@unhead/schema-org/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/@unhead/schema-org/dist/vue.mjs";import"file://F:/TravelinAgency/node_modules/floating-vue/dist/floating-vue.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/utils/lib/css/icon.mjs";const h={__name:"index",__ssrInlineRender:!0,setup(u){const h=s(!0),A=s([]),w=s(""),_=s(""),j=s(""),F=s(1),T=r((()=>{let e=A.value;if(w.value){const t=w.value.toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(t)||e.slug.toLowerCase().includes(t)))}return _.value&&(e=e.filter((e=>e.status===_.value))),j.value&&(e=e.filter((e=>e.template===j.value))),e})),$=r((()=>Math.ceil(T.value.length/10))),k=r((()=>{const e=10*(F.value-1),t=e+10;return T.value.slice(e,t)})),L=r((()=>{const e=[],t=Math.max(1,F.value-2),s=Math.min($.value,F.value+2);for(let r=t;r<=s;r++)e.push(r);return e}));return i([w,_,j],(()=>{F.value=1})),(s,r,i,u)=>{const A=e,M=t;r(`<div${m(l({class:"space-y-6"},u))}><div class="h-16"></div><div class="flex justify-between items-center"><div><h1 class="text-2xl font-bold text-gray-900">إدارة الصفحات</h1><p class="text-gray-600">إدارة صفحات الموقع والمحتوى</p></div>`),r(c(A,{to:"/admin/cms/pages/new",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center"},{default:d(((e,t,s,r)=>{if(!t)return[o(M,{name:"material-symbols:add",class:"h-5 w-5 ml-2"}),a(" صفحة جديدة ")];t(c(M,{name:"material-symbols:add",class:"h-5 w-5 ml-2"},null,s,r)),t(" صفحة جديدة ")})),_:1},i)),r(`</div><div class="bg-white rounded-xl p-6 shadow-sm border border-gray-200"><div class="flex flex-wrap gap-4"><div class="flex-1 min-w-64"><label class="block text-sm font-medium text-gray-700 mb-2">البحث</label><input${p("value",n(w))} type="text" placeholder="البحث في الصفحات..." class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div class="min-w-48"><label class="block text-sm font-medium text-gray-700 mb-2">الحالة</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${x(Array.isArray(n(_))?v(n(_),""):g(n(_),""))?" selected":""}>جميع الحالات</option><option value="published"${x(Array.isArray(n(_))?v(n(_),"published"):g(n(_),"published"))?" selected":""}>منشور</option><option value="draft"${x(Array.isArray(n(_))?v(n(_),"draft"):g(n(_),"draft"))?" selected":""}>مسودة</option><option value="archived"${x(Array.isArray(n(_))?v(n(_),"archived"):g(n(_),"archived"))?" selected":""}>مؤرشف</option></select></div><div class="min-w-48"><label class="block text-sm font-medium text-gray-700 mb-2">القالب</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${x(Array.isArray(n(j))?v(n(j),""):g(n(j),""))?" selected":""}>جميع القوالب</option><option value="home"${x(Array.isArray(n(j))?v(n(j),"home"):g(n(j),"home"))?" selected":""}>الرئيسية</option><option value="about"${x(Array.isArray(n(j))?v(n(j),"about"):g(n(j),"about"))?" selected":""}>من نحن</option><option value="services"${x(Array.isArray(n(j))?v(n(j),"services"):g(n(j),"services"))?" selected":""}>الخدمات</option><option value="contact"${x(Array.isArray(n(j))?v(n(j),"contact"):g(n(j),"contact"))?" selected":""}>اتصل بنا</option><option value="default"${x(Array.isArray(n(j))?v(n(j),"default"):g(n(j),"default"))?" selected":""}>افتراضي</option></select></div></div></div><div class="bg-white rounded-xl shadow-sm border border-gray-200"><div class="p-6 border-b border-gray-200"><h2 class="text-lg font-semibold text-gray-900">الصفحات</h2></div>`),n(h)?(r('<div class="text-center py-8">'),r(c(M,{name:"material-symbols:refresh",class:"h-8 w-8 text-gray-400 animate-spin mx-auto"},null,i)),r('<p class="text-gray-600 mt-2">جاري التحميل...</p></div>')):0===n(T).length?(r('<div class="text-center py-8">'),r(c(M,{name:"material-symbols:description",class:"h-12 w-12 text-gray-400 mx-auto"},null,i)),r('<p class="text-gray-600 mt-2">لا توجد صفحات</p></div>')):(r('<div class="overflow-x-auto"><table class="w-full"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الصفحة</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الحالة</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">القالب</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">آخر تحديث</th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">الإجراءات</th></tr></thead><tbody class="bg-white divide-y divide-gray-200">\x3c!--[--\x3e'),y(n(k),(e=>{r(`<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div><div class="text-sm font-medium text-gray-900">${f(e.title)}</div><div class="text-sm text-gray-500">${f(e.slug)}</div></div></td><td class="px-6 py-4 whitespace-nowrap"><span class="${b(["px-2 py-1 text-xs font-medium rounded-full","published"===e.status?"bg-green-100 text-green-800":"draft"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])}">${f((e=>({published:"منشور",draft:"مسودة",archived:"مؤرشف"}[e]||e))(e.status))}</span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${f((e=>({home:"الرئيسية",about:"من نحن",services:"الخدمات",contact:"اتصل بنا",default:"افتراضي"}[e]||e))(e.template))}</td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${f((e=>new Date(e).toLocaleDateString("ar-SA"))(e.updated_at))}</td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><div class="flex items-center space-x-3 space-x-reverse">`),r(c(A,{to:`/admin/cms/pages/${e.id}`,class:"text-blue-600 hover:text-blue-900"},{default:d(((e,t,s,r)=>{if(!t)return[a(" تعديل ")];t(" تعديل ")})),_:2},i)),r(`<button class="${b(["px-2 py-1 text-xs rounded","published"===e.status?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-green-100 text-green-800 hover:bg-green-200"])}">${f("published"===e.status?"إلغاء النشر":"نشر")}</button><button class="text-red-600 hover:text-red-900"> حذف </button></div></td></tr>`)})),r("\x3c!--]--\x3e</tbody></table></div>")),n($)>1?(r(`<div class="px-6 py-4 border-t border-gray-200"><div class="flex items-center justify-between"><div class="text-sm text-gray-700"> عرض ${f(10*(n(F)-1)+1)} إلى ${f(Math.min(10*n(F),n(T).length))} من ${f(n(T).length)} صفحة </div><div class="flex space-x-2 space-x-reverse"><button${x(1===n(F))?" disabled":""} class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"> السابق </button>\x3c!--[--\x3e`),y(n(L),(e=>{r(`<span class="${b(["px-3 py-1 text-sm border rounded cursor-pointer",e===n(F)?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"])}">${f(e)}</span>`)})),r(`\x3c!--]--\x3e<button${x(n(F)===n($))?" disabled":""} class="px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"> التالي </button></div></div></div>`)):r("\x3c!----\x3e"),r("</div></div>")}}},A=h.setup;h.setup=(e,t)=>{const s=u();return(s.modules||(s.modules=new Set)).add("pages/admin/cms/pages/index.vue"),A?A(e,t):void 0};export{h as default};
//# sourceMappingURL=index.vue14.mjs.map
