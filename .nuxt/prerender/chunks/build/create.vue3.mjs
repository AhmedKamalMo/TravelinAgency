import{M as e}from"./nuxt-link.mjs";import{q as t}from"./index2.mjs";import{ref as r,computed as s,watch as a,mergeProps as o,withCtx as l,createVNode as n,createTextVNode as i,unref as d,useSSRContext as u}from"file://F:/TravelinAgency/node_modules/vue/index.mjs";import{ssrRenderAttrs as c,ssrRenderComponent as m,ssrRenderAttr as p,ssrIncludeBooleanAttr as g,ssrLooseContain as y,ssrLooseEqual as v,ssrRenderList as f,ssrInterpolate as x}from"file://F:/TravelinAgency/node_modules/vue/server-renderer/index.mjs";import{H as _}from"./server.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/utils/lib/css/icon.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/vue/dist/iconify.mjs";import"file://F:/TravelinAgency/node_modules/hookable/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unctx/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/h3/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/vue-router/dist/vue-router.node.mjs";import"file://F:/TravelinAgency/node_modules/radix3/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/defu/dist/defu.mjs";import"file://F:/TravelinAgency/node_modules/klona/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/cookie-es/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/destr/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ohash/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/vue-devtools-stub/dist/index.mjs";import"../_/renderer.mjs";import"file://F:/TravelinAgency/node_modules/vue-bundle-renderer/dist/runtime.mjs";import"../_/nitro.mjs";import"file://F:/TravelinAgency/node_modules/ofetch/dist/node.mjs";import"file://F:/TravelinAgency/node_modules/node-mock-http/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/scule/dist/index.mjs";import"node:fs";import"node:url";import"file://F:/TravelinAgency/node_modules/pathe/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/utils/lib/index.mjs";import"file://F:/TravelinAgency/node_modules/consola/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ipx/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs.mjs";import"file:///F:/TravelinAgency/node_modules/nuxt/dist/core/runtime/nitro/utils/cache-driver.js";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs-lite.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/server.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/utils.mjs";import"file://F:/TravelinAgency/node_modules/devalue/index.js";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/plugins.mjs";import"file://F:/TravelinAgency/node_modules/@unhead/schema-org/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/@unhead/schema-org/dist/vue.mjs";import"file://F:/TravelinAgency/node_modules/floating-vue/dist/floating-vue.mjs";const A={__name:"create",__ssrInlineRender:!0,setup(u){const A=r(!1),h=r([]),k=r(null),$=r({customer_name:"",customer_email:"",customer_phone:"",package_id:"",guests_count:1,departure_date:"",return_date:"",total_amount:0,paid_amount:0,currency:"SAR",payment_method:"",payment_reference:"",booking_status:"pending",payment_status:"pending",special_requests:"",notes:"",booking_number:"",confirmed_at:""}),j=s((()=>$.value.customer_name&&$.value.customer_email&&$.value.customer_phone&&$.value.package_id&&$.value.departure_date&&$.value.total_amount>0)),b=e=>e?new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR"}).format(e):"0.00 ر.س";return a((()=>$.value.guests_count),(()=>{k.value&&($.value.total_amount=k.value.price*$.value.guests_count)})),a((()=>$.value.departure_date),(()=>{var e;if($.value.departure_date&&null!=(e=k.value)&&e.duration_days){const e=new Date($.value.departure_date),t=new Date(e);t.setDate(t.getDate()+k.value.duration_days),$.value.return_date=t.toISOString().split("T")[0]}})),_({title:"إضافة حجز جديد - Wonder Land Admin",meta:[{name:"description",content:"إنشاء حجز جديد للعميل"},{name:"robots",content:"noindex, nofollow"}]}),(r,s,a,u)=>{const _=e,w=t;s(`<div${c(o({class:"space-y-6"},u))}><div class="h-16"></div><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between"><div><h1 class="text-2xl font-bold text-gray-900">إضافة حجز جديد</h1><p class="mt-1 text-sm text-gray-600">إنشاء حجز جديد للعميل</p></div><div class="mt-4 sm:mt-0">`),s(m(_,{to:"/admin/bookings",class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:l(((e,t,r,s)=>{if(!t)return[n(w,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),i(" العودة ")];t(m(w,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"},null,r,s)),t(" العودة ")})),_:1},a)),s(`</div></div><form class="space-y-6"><div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><div class="grid grid-cols-1 lg:grid-cols-3 gap-6"><div class="lg:col-span-2 space-y-6"><div><h2 class="text-lg font-semibold text-gray-900 mb-4">معلومات العميل</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">اسم العميل *</label><input${p("value",d($).customer_name)} type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل اسم العميل"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">البريد الإلكتروني *</label><input${p("value",d($).customer_email)} type="email" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل البريد الإلكتروني"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">رقم الهاتف *</label><input${p("value",d($).customer_phone)} type="tel" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="+966501234567"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">عدد الضيوف *</label><input${p("value",d($).guests_count)} type="number" min="1" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div></div><div><h2 class="text-lg font-semibold text-gray-900 mb-4">تفاصيل الباقة</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">اختيار الباقة *</label><select required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${g(Array.isArray(d($).package_id)?y(d($).package_id,""):v(d($).package_id,""))?" selected":""}>اختر الباقة</option>\x3c!--[--\x3e`),f(d(h),(e=>{s(`<option${p("value",e.id)}${g(Array.isArray(d($).package_id)?y(d($).package_id,e.id):v(d($).package_id,e.id))?" selected":""}>${x(e.title_ar||e.title_en||e.title)} - ${x(b(e.price))}</option>`)})),s("\x3c!--]--\x3e</select></div>"),d(k)?s(`<div><label class="block text-sm font-medium text-gray-700 mb-2">مدة الرحلة</label><input${p("value",d(k).duration_days+" أيام")} type="text" readonly class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"></div>`):s("\x3c!----\x3e"),s(`<div><label class="block text-sm font-medium text-gray-700 mb-2">تاريخ المغادرة *</label><input${p("value",d($).departure_date)} type="date" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">تاريخ العودة</label><input${p("value",d($).return_date)} type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div>`),d(k)?s(`<div class="mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200"><h3 class="text-sm font-medium text-blue-900 mb-2">تفاصيل الباقة المختارة</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800"><div><span class="font-medium">العنوان:</span> ${x(d(k).title_ar||d(k).title_en||d(k).title)}</div><div><span class="font-medium">السعر:</span> ${x(b(d(k).price))}</div><div><span class="font-medium">المدة:</span> ${x(d(k).duration_days)} أيام </div><div><span class="font-medium">الوجهة:</span> ${x(d(k).location||d(k).travel_period)}</div></div></div>`):s("\x3c!----\x3e"),s(`</div><div><h2 class="text-lg font-semibold text-gray-900 mb-4">تفاصيل الدفع</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">المبلغ الإجمالي *</label><input${p("value",d($).total_amount)} type="number" min="0" step="0.01" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0.00"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">المبلغ المدفوع</label><input${p("value",d($).paid_amount)} type="number" min="0" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0.00"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">العملة</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="SAR"${g(Array.isArray(d($).currency)?y(d($).currency,"SAR"):v(d($).currency,"SAR"))?" selected":""}>ريال سعودي (SAR)</option><option value="USD"${g(Array.isArray(d($).currency)?y(d($).currency,"USD"):v(d($).currency,"USD"))?" selected":""}>دولار أمريكي (USD)</option><option value="EUR"${g(Array.isArray(d($).currency)?y(d($).currency,"EUR"):v(d($).currency,"EUR"))?" selected":""}>يورو (EUR)</option><option value="AED"${g(Array.isArray(d($).currency)?y(d($).currency,"AED"):v(d($).currency,"AED"))?" selected":""}>درهم إماراتي (AED)</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">طريقة الدفع</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${g(Array.isArray(d($).payment_method)?y(d($).payment_method,""):v(d($).payment_method,""))?" selected":""}>اختر طريقة الدفع</option><option value="cash"${g(Array.isArray(d($).payment_method)?y(d($).payment_method,"cash"):v(d($).payment_method,"cash"))?" selected":""}>نقداً</option><option value="bank_transfer"${g(Array.isArray(d($).payment_method)?y(d($).payment_method,"bank_transfer"):v(d($).payment_method,"bank_transfer"))?" selected":""}>تحويل بنكي</option><option value="credit_card"${g(Array.isArray(d($).payment_method)?y(d($).payment_method,"credit_card"):v(d($).payment_method,"credit_card"))?" selected":""}>بطاقة ائتمان</option><option value="online"${g(Array.isArray(d($).payment_method)?y(d($).payment_method,"online"):v(d($).payment_method,"online"))?" selected":""}>دفع إلكتروني</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">مرجع الدفع</label><input${p("value",d($).payment_reference)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="رقم المرجع أو المعاملة"></div></div></div><div><h2 class="text-lg font-semibold text-gray-900 mb-4">طلبات خاصة وملاحظات</h2><div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">طلبات خاصة</label><textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أي طلبات خاصة من العميل">${x(d($).special_requests)}</textarea></div><div><label class="block text-sm font-medium text-gray-700 mb-2">ملاحظات إدارية</label><textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="ملاحظات إدارية أو تفاصيل إضافية">${x(d($).notes)}</textarea></div></div></div></div><div class="space-y-6"><div class="bg-gray-50 rounded-lg p-4"><h3 class="text-lg font-semibold text-gray-900 mb-4">حالة الحجز</h3><div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">حالة الحجز *</label><select required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="pending"${g(Array.isArray(d($).booking_status)?y(d($).booking_status,"pending"):v(d($).booking_status,"pending"))?" selected":""}>في الانتظار</option><option value="confirmed"${g(Array.isArray(d($).booking_status)?y(d($).booking_status,"confirmed"):v(d($).booking_status,"confirmed"))?" selected":""}>مؤكدة</option><option value="cancelled"${g(Array.isArray(d($).booking_status)?y(d($).booking_status,"cancelled"):v(d($).booking_status,"cancelled"))?" selected":""}>ملغية</option><option value="completed"${g(Array.isArray(d($).booking_status)?y(d($).booking_status,"completed"):v(d($).booking_status,"completed"))?" selected":""}>مكتملة</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">حالة الدفع *</label><select required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="pending"${g(Array.isArray(d($).payment_status)?y(d($).payment_status,"pending"):v(d($).payment_status,"pending"))?" selected":""}>في الانتظار</option><option value="partial"${g(Array.isArray(d($).payment_status)?y(d($).payment_status,"partial"):v(d($).payment_status,"partial"))?" selected":""}>مدفوع جزئياً</option><option value="paid"${g(Array.isArray(d($).payment_status)?y(d($).payment_status,"paid"):v(d($).payment_status,"paid"))?" selected":""}>مدفوع بالكامل</option><option value="refunded"${g(Array.isArray(d($).payment_status)?y(d($).payment_status,"refunded"):v(d($).payment_status,"refunded"))?" selected":""}>مسترد</option></select></div></div></div><div class="bg-blue-50 rounded-lg border border-blue-200 p-4"><h3 class="text-lg font-semibold text-blue-900 mb-3">ملخص الحجز</h3><div class="space-y-2 text-sm text-blue-800"><div class="flex justify-between"><span>العميل:</span><span>${x(d($).customer_name||"غير محدد")}</span></div><div class="flex justify-between"><span>عدد الضيوف:</span><span>${x(d($).guests_count||0)}</span></div><div class="flex justify-between"><span>تاريخ المغادرة:</span><span>${x(d($).departure_date||"غير محدد")}</span></div><div class="flex justify-between"><span>المبلغ الإجمالي:</span><span>${x(b(d($).total_amount))}</span></div><div class="flex justify-between"><span>المبلغ المدفوع:</span><span>${x(b(d($).paid_amount))}</span></div><div class="flex justify-between"><span>المتبقي:</span><span>${x(b(d($).total_amount-d($).paid_amount))}</span></div><div class="flex justify-between"><span>حالة الحجز:</span><span>${x((e=>({confirmed:"مؤكدة",pending:"في الانتظار",cancelled:"ملغية",completed:"مكتملة"}[e]||e))(d($).booking_status))}</span></div><div class="flex justify-between"><span>حالة الدفع:</span><span>${x((e=>({paid:"مدفوع",partial:"مدفوع جزئياً",pending:"في الانتظار",refunded:"مسترد"}[e]||e))(d($).payment_status))}</span></div></div></div><div class="bg-gray-50 rounded-lg p-4"><h3 class="text-lg font-semibold text-gray-900 mb-4">معلومات إضافية</h3><div class="space-y-3"><div><label class="block text-sm font-medium text-gray-700 mb-2">رقم الحجز</label><input${p("value",d($).booking_number)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="سيتم إنشاؤه تلقائياً"><p class="text-xs text-gray-500 mt-1">اتركه فارغاً لإنشاء رقم تلقائي</p></div><div><label class="block text-sm font-medium text-gray-700 mb-2">تاريخ التأكيد</label><input${p("value",d($).confirmed_at)} type="datetime-local" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div></div></div></div><div class="flex justify-end space-x-3 space-x-reverse pt-6 border-t border-gray-200">`),s(m(_,{to:"/admin/bookings",class:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},{default:l(((e,t,r,s)=>{if(!t)return[i(" إلغاء ")];t(" إلغاء ")})),_:1},a)),s(`<button type="submit"${g(d(A)||!d(j))?" disabled":""} class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50">`),d(A)?s(m(w,{name:"material-symbols:progress-activity",class:"animate-spin h-4 w-4 ml-2 inline"},null,a)):s("\x3c!----\x3e"),s(` ${x(d(A)?"جاري الإنشاء...":"إنشاء الحجز")}</button></div></div></form></div>`)}}},h=A.setup;A.setup=(e,t)=>{const r=u();return(r.modules||(r.modules=new Set)).add("pages/admin/bookings/create.vue"),h?h(e,t):void 0};export{A as default};
//# sourceMappingURL=create.vue3.mjs.map
