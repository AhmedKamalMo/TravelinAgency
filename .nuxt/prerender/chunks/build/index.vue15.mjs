import{i as e}from"./AdminPageHeader.vue.mjs";import{q as t}from"./index2.mjs";import{M as s}from"./nuxt-link.mjs";import{ref as i,computed as n,watch as a,mergeProps as r,withCtx as l,createVNode as o,unref as d,createTextVNode as m,useSSRContext as c}from"file://F:/TravelinAgency/node_modules/vue/index.mjs";import{ssrRenderAttrs as u,ssrRenderComponent as p,ssrRenderAttr as v,ssrIncludeBooleanAttr as g,ssrLooseContain as x,ssrLooseEqual as y,ssrRenderList as b,ssrInterpolate as f,ssrRenderClass as h}from"file://F:/TravelinAgency/node_modules/vue/server-renderer/index.mjs";import{p as w}from"./useExcelExport.mjs";import{H as _}from"./server.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/utils/lib/css/icon.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/vue/dist/iconify.mjs";import"F:\\TravelinAgency\\node_modules\\xlsx\\dist\\cpexcel.js";import"node:fs";import"node:stream";import"file://F:/TravelinAgency/node_modules/hookable/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unctx/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/h3/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/vue-router/dist/vue-router.node.mjs";import"file://F:/TravelinAgency/node_modules/radix3/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/defu/dist/defu.mjs";import"file://F:/TravelinAgency/node_modules/klona/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/cookie-es/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/destr/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ohash/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/vue-devtools-stub/dist/index.mjs";import"../_/renderer.mjs";import"file://F:/TravelinAgency/node_modules/vue-bundle-renderer/dist/runtime.mjs";import"../_/nitro.mjs";import"file://F:/TravelinAgency/node_modules/ofetch/dist/node.mjs";import"file://F:/TravelinAgency/node_modules/node-mock-http/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/scule/dist/index.mjs";import"node:url";import"file://F:/TravelinAgency/node_modules/pathe/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/utils/lib/index.mjs";import"file://F:/TravelinAgency/node_modules/consola/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ipx/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs.mjs";import"file:///F:/TravelinAgency/node_modules/nuxt/dist/core/runtime/nitro/utils/cache-driver.js";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs-lite.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/server.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/utils.mjs";import"file://F:/TravelinAgency/node_modules/devalue/index.js";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/plugins.mjs";import"file://F:/TravelinAgency/node_modules/@unhead/schema-org/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/@unhead/schema-org/dist/vue.mjs";import"file://F:/TravelinAgency/node_modules/floating-vue/dist/floating-vue.mjs";const A={__name:"index",__ssrInlineRender:!0,setup(c){const A=i([]),j=i(!0),T=i(""),F=i(""),$=i(""),L=i(1),C=n((()=>{let e=A.value;return T.value&&(e=e.filter((e=>e.name_ar&&e.name_ar.toLowerCase().includes(T.value.toLowerCase())||e.name_en&&e.name_en.toLowerCase().includes(T.value.toLowerCase())||e.name&&e.name.toLowerCase().includes(T.value.toLowerCase())||e.description_ar&&e.description_ar.toLowerCase().includes(T.value.toLowerCase())||e.description_en&&e.description_en.toLowerCase().includes(T.value.toLowerCase())||e.description&&e.description.toLowerCase().includes(T.value.toLowerCase())))),F.value&&(e=e.filter((e=>e.category===F.value))),$.value&&(e=e.filter((e=>{const t=1===e.active||!0===e.active;return"active"===$.value?t:!t}))),e.slice(10*(L.value-1),10*L.value)})),k=n((()=>{let e=A.value;return T.value&&(e=e.filter((e=>e.name_ar&&e.name_ar.toLowerCase().includes(T.value.toLowerCase())||e.name_en&&e.name_en.toLowerCase().includes(T.value.toLowerCase())||e.name&&e.name.toLowerCase().includes(T.value.toLowerCase())||e.description_ar&&e.description_ar.toLowerCase().includes(T.value.toLowerCase())||e.description_en&&e.description_en.toLowerCase().includes(T.value.toLowerCase())||e.description&&e.description.toLowerCase().includes(T.value.toLowerCase())))),F.value&&(e=e.filter((e=>e.category===F.value))),$.value&&(e=e.filter((e=>{const t=1===e.active||!0===e.active;return"active"===$.value?t:!t}))),e.length})),D=n((()=>Math.ceil(k.value/10))),H$1=()=>{try{const{exportDestinationsToExcel:e}=w();e(A.value)?console.log("تم تصدير الوجهات بنجاح"):console.error("فشل في تصدير الوجهات")}catch(e){console.error("خطأ في تصدير الوجهات:",e)}},z=e=>({saudi:"bg-green-100 text-green-800",international:"bg-blue-100 text-blue-800"}[e]||"bg-gray-100 text-gray-800"),Q=e=>({active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800");return a([T,F,$],(()=>{L.value=1})),_({title:"إدارة الوجهات - Wonder Land Admin",meta:[{name:"description",content:"إدارة وتحرير الوجهات السياحية"},{name:"robots",content:"noindex, nofollow"}]}),(i,n,a,c)=>{const w=e,_=t,A=s;n(`<div${u(r({class:"space-y-6"},c))}><div class="h-16"></div>`),n(p(w,{title:"إدارة الوجهات السياحية",description:"إدارة وتحرير الوجهات السياحية المتاحة"},{actions:l(((e,t,s,i)=>{if(!t)return[o("button",{onClick:H$1,class:"inline-flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm"},[o(_,{name:"material-symbols:download",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),o("span",{class:"hidden sm:inline"},"تصدير البيانات"),o("span",{class:"sm:hidden"},"تصدير")]),o(A,{to:"/admin/destinations/create",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm"},{default:l((()=>[o(_,{name:"material-symbols:add",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),o("span",{class:"hidden sm:inline"},"إضافة وجهة جديدة"),o("span",{class:"sm:hidden"},"إضافة")])),_:1})];t(`<button class="inline-flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm"${i}>`),t(p(_,{name:"material-symbols:download",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"},null,s,i)),t(`<span class="hidden sm:inline"${i}>تصدير البيانات</span><span class="sm:hidden"${i}>تصدير</span></button>`),t(p(A,{to:"/admin/destinations/create",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm"},{default:l(((e,t,s,i)=>{if(!t)return[o(_,{name:"material-symbols:add",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),o("span",{class:"hidden sm:inline"},"إضافة وجهة جديدة"),o("span",{class:"sm:hidden"},"إضافة")];t(p(_,{name:"material-symbols:add",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"},null,s,i)),t(`<span class="hidden sm:inline"${i}>إضافة وجهة جديدة</span><span class="sm:hidden"${i}>إضافة</span>`)})),_:1},s,i))})),_:1},a)),n('<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="relative">'),n(p(_,{name:"material-symbols:search",class:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"},null,a)),n(`<input${v("value",d(T))} type="text" placeholder="البحث في الوجهات..." class="w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${g(Array.isArray(d(F))?x(d(F),""):y(d(F),""))?" selected":""}>جميع الأنواع</option><option value="saudi"${g(Array.isArray(d(F))?x(d(F),"saudi"):y(d(F),"saudi"))?" selected":""}>سعودي</option><option value="international"${g(Array.isArray(d(F))?x(d(F),"international"):y(d(F),"international"))?" selected":""}>عالمي</option></select><select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${g(Array.isArray(d($))?x(d($),""):y(d($),""))?" selected":""}>جميع الحالات</option><option value="active"${g(Array.isArray(d($))?x(d($),"active"):y(d($),"active"))?" selected":""}>نشط</option><option value="inactive"${g(Array.isArray(d($))?x(d($),"inactive"):y(d($),"inactive"))?" selected":""}>غير نشط</option></select></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200">`),d(j)?(n('<div class="flex justify-center items-center py-12">'),n(p(_,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"},null,a)),n('<span class="mr-3 text-gray-600">جارٍ تحميل الوجهات...</span></div>')):d(C).length>0?(n('<div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> الوجهة </th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> النوع </th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> الحالة </th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> تاريخ الإنشاء </th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> الإجراءات </th></tr></thead><tbody class="bg-white divide-y divide-gray-200">\x3c!--[--\x3e'),b(d(C),(e=>{n(`<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div class="flex items-center"><img${v("src",e.image||e.image_url||"/images/placeholder.jpg")}${v("alt",e.name_ar||e.name_en)} class="h-12 w-12 rounded-lg object-cover ml-4" loading="lazy"><div><div class="text-sm font-medium text-gray-900">${f(e.name_ar||e.name_en||e.name)}</div><div class="text-sm text-gray-500">${f(((e,t)=>e?e.length>t?e.substring(0,t)+"...":e:"")(e.description_ar||e.description_en||e.description,50))}</div></div></div></td><td class="px-6 py-4 whitespace-nowrap"><span class="${h([z(e.category),"px-2 py-1 text-xs font-medium rounded-full"])}">${f((e=>({saudi:"سعودي",international:"عالمي"}[e]||e))(e.category))}</span></td><td class="px-6 py-4 whitespace-nowrap"><span class="${h([Q(e.active?"active":"inactive"),"px-2 py-1 text-xs font-medium rounded-full"])}">${f((e=>({active:"نشط",inactive:"غير نشط"}[e]||e))(e.active?"active":"inactive"))}</span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${f((e=>new Date(e).toLocaleDateString("ar-SA"))(e.created_at))}</td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><div class="flex items-center space-x-2 space-x-reverse">`),n(p(A,{to:`/admin/destinations/${e.id}`,class:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"عرض"},{default:l(((e,t,s,i)=>{if(!t)return[o(_,{name:"material-symbols:visibility",class:"h-4 w-4"})];t(p(_,{name:"material-symbols:visibility",class:"h-4 w-4"},null,s,i))})),_:2},a)),n(p(A,{to:`/admin/destinations/${e.id}/edit`,class:"text-green-600 hover:text-green-900 p-1 rounded",title:"تحرير"},{default:l(((e,t,s,i)=>{if(!t)return[o(_,{name:"material-symbols:edit",class:"h-4 w-4"})];t(p(_,{name:"material-symbols:edit",class:"h-4 w-4"},null,s,i))})),_:2},a)),n(`<button class="${h([e.active?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900","p-1 rounded"])}"${v("title",e.active?"إلغاء التفعيل":"تفعيل")}>`),n(p(_,{name:e.active?"material-symbols:pause":"material-symbols:play-arrow",class:"h-4 w-4"},null,a)),n('</button><button class="text-red-600 hover:text-red-900 p-1 rounded" title="حذف">'),n(p(_,{name:"material-symbols:delete",class:"h-4 w-4"},null,a)),n("</button></div></td></tr>")})),n("\x3c!--]--\x3e</tbody></table></div>")):(n('<div class="text-center py-12">'),n(p(_,{name:"material-symbols:place",class:"h-16 w-16 text-gray-300 mx-auto mb-4"},null,a)),n('<h3 class="text-lg font-medium text-gray-900 mb-2">لا توجد وجهات</h3><p class="text-gray-500 mb-6">لم يتم العثور على أي وجهات سياحية</p>'),n(p(A,{to:"/admin/destinations/create",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:l(((e,t,s,i)=>{if(!t)return[o(_,{name:"material-symbols:add",class:"h-5 w-5 ml-2"}),m(" إضافة وجهة جديدة ")];t(p(_,{name:"material-symbols:add",class:"h-5 w-5 ml-2"},null,s,i)),t(" إضافة وجهة جديدة ")})),_:1},a)),n("</div>")),n("</div>"),d(D)>1?n(`<div class="flex items-center justify-between"><div class="text-sm text-gray-700"> عرض ${f(10*(d(L)-1)+1)} إلى ${f(Math.min(10*d(L),d(k)))} من أصل ${f(d(k))} وجهة </div><div class="flex space-x-1 space-x-reverse"><button${g(1===d(L))?" disabled":""} class="px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"> السابق </button><span class="px-3 py-2 text-sm bg-blue-600 text-white border border-blue-600 rounded-md">${f(d(L))}</span><button${g(d(L)===d(D))?" disabled":""} class="px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"> التالي </button></div></div>`):n("\x3c!----\x3e"),n("</div>")}}},j=A.setup;A.setup=(e,t)=>{const s=c();return(s.modules||(s.modules=new Set)).add("pages/admin/destinations/index.vue"),j?j(e,t):void 0};export{A as default};
//# sourceMappingURL=index.vue15.mjs.map
