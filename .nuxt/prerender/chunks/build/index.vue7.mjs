import{i as e}from"./AdminPageHeader.vue.mjs";import{M as t}from"./nuxt-link.mjs";import{q as s}from"./index2.mjs";import{d as l}from"./AdminStats.vue.mjs";import{ref as n,computed as a,watch as i,mergeProps as r,withCtx as o,createVNode as d,unref as m,createTextVNode as c,useSSRContext as u}from"file://F:/TravelinAgency/node_modules/vue/index.mjs";import{ssrRenderAttrs as p,ssrRenderComponent as g,ssrRenderAttr as b,ssrIncludeBooleanAttr as y,ssrLooseContain as v,ssrLooseEqual as x,ssrRenderList as h,ssrInterpolate as f,ssrRenderClass as w}from"file://F:/TravelinAgency/node_modules/vue/server-renderer/index.mjs";import{H as A}from"./server.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/utils/lib/css/icon.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/vue/dist/iconify.mjs";import"file://F:/TravelinAgency/node_modules/hookable/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unctx/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/h3/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/vue-router/dist/vue-router.node.mjs";import"file://F:/TravelinAgency/node_modules/radix3/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/defu/dist/defu.mjs";import"file://F:/TravelinAgency/node_modules/klona/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/cookie-es/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/destr/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ohash/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/vue-devtools-stub/dist/index.mjs";import"../_/renderer.mjs";import"file://F:/TravelinAgency/node_modules/vue-bundle-renderer/dist/runtime.mjs";import"../_/nitro.mjs";import"file://F:/TravelinAgency/node_modules/ofetch/dist/node.mjs";import"file://F:/TravelinAgency/node_modules/node-mock-http/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/scule/dist/index.mjs";import"node:fs";import"node:url";import"file://F:/TravelinAgency/node_modules/pathe/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/@iconify/utils/lib/index.mjs";import"file://F:/TravelinAgency/node_modules/consola/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/ipx/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs.mjs";import"file:///F:/TravelinAgency/node_modules/nuxt/dist/core/runtime/nitro/utils/cache-driver.js";import"file://F:/TravelinAgency/node_modules/unstorage/drivers/fs-lite.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/server.mjs";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/utils.mjs";import"file://F:/TravelinAgency/node_modules/devalue/index.js";import"file://F:/TravelinAgency/node_modules/nuxt/node_modules/unhead/dist/plugins.mjs";import"file://F:/TravelinAgency/node_modules/@unhead/schema-org/dist/index.mjs";import"file://F:/TravelinAgency/node_modules/@unhead/schema-org/dist/vue.mjs";import"file://F:/TravelinAgency/node_modules/floating-vue/dist/floating-vue.mjs";const j={__name:"index",__ssrInlineRender:!0,setup(u){const j=n([]),$=n(!0),C=n(""),F=n(""),T=n(""),L=n(1),k=a((()=>{let e=j.value;return C.value&&(e=e.filter((e=>e.title_ar&&e.title_ar.toLowerCase().includes(C.value.toLowerCase())||e.title_en&&e.title_en.toLowerCase().includes(C.value.toLowerCase())||e.title&&e.title.toLowerCase().includes(C.value.toLowerCase())||e.content_ar&&e.content_ar.toLowerCase().includes(C.value.toLowerCase())||e.content_en&&e.content_en.toLowerCase().includes(C.value.toLowerCase())||e.content&&e.content.toLowerCase().includes(C.value.toLowerCase())))),F.value&&(e=e.filter((e=>e.status===F.value))),T.value&&(e=e.filter((e=>e.type===T.value))),e.slice(10*(L.value-1),10*L.value)})),S=a((()=>{let e=j.value;return C.value&&(e=e.filter((e=>e.title_ar&&e.title_ar.toLowerCase().includes(C.value.toLowerCase())||e.title_en&&e.title_en.toLowerCase().includes(C.value.toLowerCase())||e.title&&e.title.toLowerCase().includes(C.value.toLowerCase())||e.content_ar&&e.content_ar.toLowerCase().includes(C.value.toLowerCase())||e.content_en&&e.content_en.toLowerCase().includes(C.value.toLowerCase())||e.content&&e.content.toLowerCase().includes(C.value.toLowerCase())))),F.value&&(e=e.filter((e=>e.status===F.value))),T.value&&(e=e.filter((e=>e.type===T.value))),e.length})),D=a((()=>Math.ceil(S.value/10))),O=a((()=>j.value.length)),B=a((()=>j.value.filter((e=>"published"===e.status)).length)),M=a((()=>j.value.filter((e=>"draft"===e.status)).length)),P=a((()=>{const e=new Date;return e.setHours(0,0,0,0),j.value.filter((t=>new Date(t.created_at)>=e)).length})),H=a((()=>[{key:"total",label:"إجمالي الصفحات",value:O.value,icon:"material-symbols:article",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{key:"published",label:"منشور",value:B.value,icon:"material-symbols:visibility",iconBg:"bg-green-100",iconColor:"text-green-600"},{key:"draft",label:"مسودة",value:M.value,icon:"material-symbols:edit",iconBg:"bg-orange-100",iconColor:"text-orange-600"},{key:"today",label:"اليوم",value:P.value,icon:"material-symbols:today",iconBg:"bg-purple-100",iconColor:"text-purple-600"}]));a((()=>{const e=j.value.reduce(((e,t)=>(e[t.type]=(e[t.type]||0)+1,e)),{});return{labels:Object.keys(e).map((e=>_(e))),datasets:[{data:Object.values(e),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(239, 68, 68)"]}]}})),a((()=>{const e=j.value.reduce(((e,t)=>(e[t.status]=(e[t.status]||0)+1,e)),{});return{labels:Object.keys(e).map((e=>E(e))),datasets:[{data:Object.values(e),backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(245, 158, 11, 0.8)","rgba(107, 114, 128, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(245, 158, 11)","rgb(107, 114, 128)"]}]}})),a((()=>{const e={},t=["يناير","فبراير","مارس","أبريل","مايو","يونيو"];return t.forEach((t=>{e[t]=0})),j.value.forEach((s=>{if("published"===s.status){const l=new Date(s.created_at).getMonth();l<6&&e[t[l]]++}})),{labels:t,datasets:[{label:"عدد الصفحات المنشورة",data:Object.values(e),backgroundColor:"rgba(139, 92, 246, 0.8)",borderColor:"rgb(139, 92, 246)",borderWidth:1}]}})),n({plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0}}}}),n({plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0}}}}),n({plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}});const _=e=>({page:"صفحة",post:"مقال",news:"أخبار"}[e]||e),K=e=>({page:"bg-blue-100 text-blue-800",post:"bg-green-100 text-green-800",news:"bg-purple-100 text-purple-800"}[e]||"bg-gray-100 text-gray-800"),E=e=>({published:"منشور",draft:"مسودة",archived:"مؤرشف"}[e]||e),U=e=>({published:"bg-green-100 text-green-800",draft:"bg-orange-100 text-orange-800",archived:"bg-gray-100 text-gray-800"}[e]||"bg-gray-100 text-gray-800");return i([C,F,T],(()=>{L.value=1})),A({title:"إدارة المحتوى - Wonder Land Admin",meta:[{name:"description",content:"إدارة صفحات الموقع والمحتوى"},{name:"robots",content:"noindex, nofollow"}]}),(n,a,i,u)=>{const A=e,j=t,O=s,B=l;a(`<div${p(r({class:"space-y-6"},u))}><div class="h-16"></div>`),a(g(A,{title:"إدارة المحتوى",description:"إدارة صفحات الموقع والمحتوى"},{actions:o(((e,t,s,l)=>{if(!t)return[d(j,{to:"/admin/content/analytics",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm"},{default:o((()=>[d(O,{name:"material-symbols:analytics",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),d("span",{class:"hidden sm:inline"},"الإحصائيات"),d("span",{class:"sm:hidden"},"إحصائيات")])),_:1}),d(j,{to:"/admin/content/templates",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm"},{default:o((()=>[d(O,{name:"material-symbols:widgets",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),d("span",{class:"hidden sm:inline"},"القوالب"),d("span",{class:"sm:hidden"},"قوالب")])),_:1}),d(j,{to:"/admin/content/editor",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm"},{default:o((()=>[d(O,{name:"material-symbols:edit",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),d("span",{class:"hidden sm:inline"},"محرر المحتوى"),d("span",{class:"sm:hidden"},"محرر")])),_:1}),d(j,{to:"/admin/content/create",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm"},{default:o((()=>[d(O,{name:"material-symbols:add",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),d("span",{class:"hidden sm:inline"},"إضافة صفحة جديدة"),d("span",{class:"sm:hidden"},"إضافة")])),_:1})];t(g(j,{to:"/admin/content/analytics",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm"},{default:o(((e,t,s,l)=>{if(!t)return[d(O,{name:"material-symbols:analytics",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),d("span",{class:"hidden sm:inline"},"الإحصائيات"),d("span",{class:"sm:hidden"},"إحصائيات")];t(g(O,{name:"material-symbols:analytics",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"},null,s,l)),t(`<span class="hidden sm:inline"${l}>الإحصائيات</span><span class="sm:hidden"${l}>إحصائيات</span>`)})),_:1},s,l)),t(g(j,{to:"/admin/content/templates",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm"},{default:o(((e,t,s,l)=>{if(!t)return[d(O,{name:"material-symbols:widgets",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),d("span",{class:"hidden sm:inline"},"القوالب"),d("span",{class:"sm:hidden"},"قوالب")];t(g(O,{name:"material-symbols:widgets",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"},null,s,l)),t(`<span class="hidden sm:inline"${l}>القوالب</span><span class="sm:hidden"${l}>قوالب</span>`)})),_:1},s,l)),t(g(j,{to:"/admin/content/editor",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm"},{default:o(((e,t,s,l)=>{if(!t)return[d(O,{name:"material-symbols:edit",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),d("span",{class:"hidden sm:inline"},"محرر المحتوى"),d("span",{class:"sm:hidden"},"محرر")];t(g(O,{name:"material-symbols:edit",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"},null,s,l)),t(`<span class="hidden sm:inline"${l}>محرر المحتوى</span><span class="sm:hidden"${l}>محرر</span>`)})),_:1},s,l)),t(g(j,{to:"/admin/content/create",class:"inline-flex items-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm"},{default:o(((e,t,s,l)=>{if(!t)return[d(O,{name:"material-symbols:add",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"}),d("span",{class:"hidden sm:inline"},"إضافة صفحة جديدة"),d("span",{class:"sm:hidden"},"إضافة")];t(g(O,{name:"material-symbols:add",class:"h-4 w-4 sm:h-5 sm:w-5 ml-2"},null,s,l)),t(`<span class="hidden sm:inline"${l}>إضافة صفحة جديدة</span><span class="sm:hidden"${l}>إضافة</span>`)})),_:1},s,l))})),_:1},i)),a(g(B,{stats:m(H)},null,i)),a('<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div class="relative">'),a(g(O,{name:"material-symbols:search",class:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"},null,i)),a(`<input${b("value",m(C))} type="text" placeholder="البحث في الصفحات..." class="w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${y(Array.isArray(m(F))?v(m(F),""):x(m(F),""))?" selected":""}>جميع الحالات</option><option value="published"${y(Array.isArray(m(F))?v(m(F),"published"):x(m(F),"published"))?" selected":""}>منشور</option><option value="draft"${y(Array.isArray(m(F))?v(m(F),"draft"):x(m(F),"draft"))?" selected":""}>مسودة</option><option value="archived"${y(Array.isArray(m(F))?v(m(F),"archived"):x(m(F),"archived"))?" selected":""}>مؤرشف</option></select><select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value=""${y(Array.isArray(m(T))?v(m(T),""):x(m(T),""))?" selected":""}>جميع الأنواع</option><option value="page"${y(Array.isArray(m(T))?v(m(T),"page"):x(m(T),"page"))?" selected":""}>صفحة</option><option value="post"${y(Array.isArray(m(T))?v(m(T),"post"):x(m(T),"post"))?" selected":""}>مقال</option><option value="news"${y(Array.isArray(m(T))?v(m(T),"news"):x(m(T),"news"))?" selected":""}>أخبار</option></select></div></div><div class="bg-white rounded-lg shadow-sm border border-gray-200">`),m($)?(a('<div class="flex justify-center items-center py-12">'),a(g(O,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"},null,i)),a('<span class="mr-3 text-gray-600">جارٍ تحميل الصفحات...</span></div>')):m(k).length>0?(a('<div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> الصفحة </th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> النوع </th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> الحالة </th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> تاريخ الإنشاء </th><th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> الإجراءات </th></tr></thead><tbody class="bg-white divide-y divide-gray-200">\x3c!--[--\x3e'),h(m(k),(e=>{a('<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div class="flex items-center"><div class="flex-shrink-0 h-10 w-10"><div class="h-10 w-10 rounded-lg bg-gray-300 flex items-center justify-center">'),a(g(O,{name:"material-symbols:article",class:"h-6 w-6 text-gray-600"},null,i)),a(`</div></div><div class="mr-4"><div class="text-sm font-medium text-gray-900">${f(e.title_ar||e.title_en||e.title)}</div><div class="text-sm text-gray-500">${f(((e,t)=>e?e.length>t?e.substring(0,t)+"...":e:"")(e.content_ar||e.content_en||e.content,50))}</div></div></div></td><td class="px-6 py-4 whitespace-nowrap"><span class="${w([K(e.type),"px-2 py-1 text-xs font-medium rounded-full"])}">${f(_(e.type))}</span></td><td class="px-6 py-4 whitespace-nowrap"><span class="${w([U(e.status),"px-2 py-1 text-xs font-medium rounded-full"])}">${f(E(e.status))}</span></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${f((e=>new Date(e).toLocaleDateString("ar-SA"))(e.created_at))}</td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><div class="flex items-center space-x-2 space-x-reverse">`),a(g(j,{to:`/admin/content/preview/${e.id}`,class:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"معاينة"},{default:o(((e,t,s,l)=>{if(!t)return[d(O,{name:"material-symbols:visibility",class:"h-4 w-4"})];t(g(O,{name:"material-symbols:visibility",class:"h-4 w-4"},null,s,l))})),_:2},i)),a(g(j,{to:`/admin/content/editor?page=${e.id}`,class:"text-purple-600 hover:text-purple-900 p-1 rounded",title:"تحرير متقدم"},{default:o(((e,t,s,l)=>{if(!t)return[d(O,{name:"material-symbols:design-services",class:"h-4 w-4"})];t(g(O,{name:"material-symbols:design-services",class:"h-4 w-4"},null,s,l))})),_:2},i)),a(g(j,{to:`/admin/content/${e.id}/edit`,class:"text-green-600 hover:text-green-900 p-1 rounded",title:"تحرير"},{default:o(((e,t,s,l)=>{if(!t)return[d(O,{name:"material-symbols:edit",class:"h-4 w-4"})];t(g(O,{name:"material-symbols:edit",class:"h-4 w-4"},null,s,l))})),_:2},i)),a(`<button class="${w(["published"===e.status?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900","p-1 rounded"])}"${b("title","published"===e.status?"إلغاء النشر":"نشر")}>`),a(g(O,{name:"published"===e.status?"material-symbols:visibility-off":"material-symbols:visibility",class:"h-4 w-4"},null,i)),a('</button><button class="text-red-600 hover:text-red-900 p-1 rounded" title="حذف">'),a(g(O,{name:"material-symbols:delete",class:"h-4 w-4"},null,i)),a("</button></div></td></tr>")})),a("\x3c!--]--\x3e</tbody></table></div>")):(a('<div class="text-center py-12">'),a(g(O,{name:"material-symbols:article",class:"h-16 w-16 text-gray-300 mx-auto mb-4"},null,i)),a('<h3 class="text-lg font-medium text-gray-900 mb-2">لا توجد صفحات</h3><p class="text-gray-500 mb-6">لم يتم العثور على أي صفحات</p>'),a(g(j,{to:"/admin/content/create",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:o(((e,t,s,l)=>{if(!t)return[d(O,{name:"material-symbols:add",class:"h-5 w-5 ml-2"}),c(" إضافة صفحة جديدة ")];t(g(O,{name:"material-symbols:add",class:"h-5 w-5 ml-2"},null,s,l)),t(" إضافة صفحة جديدة ")})),_:1},i)),a("</div>")),a("</div>"),m(D)>1?a(`<div class="flex items-center justify-between"><div class="text-sm text-gray-700"> عرض ${f(10*(m(L)-1)+1)} إلى ${f(Math.min(10*m(L),m(S)))} من أصل ${f(m(S))} صفحة </div><div class="flex space-x-1 space-x-reverse"><button${y(1===m(L))?" disabled":""} class="px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"> السابق </button><span class="px-3 py-2 text-sm bg-blue-600 text-white border border-blue-600 rounded-md">${f(m(L))}</span><button${y(m(L)===m(D))?" disabled":""} class="px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"> التالي </button></div></div>`):a("\x3c!----\x3e"),a("</div>")}}},$=j.setup;j.setup=(e,t)=>{const s=u();return(s.modules||(s.modules=new Set)).add("pages/admin/content/index.vue"),$?$(e,t):void 0};export{j as default};
//# sourceMappingURL=index.vue7.mjs.map
