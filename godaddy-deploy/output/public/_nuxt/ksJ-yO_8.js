import q from"./CiRDkbrd.js";import{_ as I}from"./KJx1jOS2.js";import{A as P,h as D,m as R,c as n,o as r,a as t,t as l,i as e,b as d,w as y,d as f,f as u,H as C}from"./CNW6Qy33.js";import{u as H}from"./Dp9yiPXt.js";const T={class:"space-y-6"},z={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},E={class:"mt-1 text-sm text-gray-600"},F={class:"mt-4 sm:mt-0 flex space-x-3 space-x-reverse"},M={key:0,class:"flex justify-center items-center py-12"},W={key:1,class:"space-y-6"},G={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},J={class:"flex items-center justify-between mb-6"},K={class:"flex space-x-2 space-x-reverse"},O={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Q={class:"text-lg font-semibold text-gray-900"},U={class:"text-gray-900"},X={class:"text-gray-900"},Y={class:"text-gray-900"},Z={class:"text-gray-900"},tt={class:"text-gray-900"},st={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},et={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ot={class:"text-gray-900"},lt={class:"text-gray-900"},at={class:"text-gray-900"},nt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},rt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},dt={class:"text-gray-900"},it={class:"text-gray-900"},mt={class:"text-gray-900"},gt={class:"text-gray-900"},bt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ut={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},xt={class:"text-lg font-semibold text-gray-900"},ct={class:"text-lg font-semibold text-green-600"},pt={class:"text-lg font-semibold text-orange-600"},yt={class:"text-gray-900"},ft={class:"text-gray-900"},_t={class:"text-gray-900"},vt={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},kt={class:"space-y-4"},wt={key:0},ht={class:"text-gray-900 bg-gray-50 p-3 rounded-lg"},St={key:1},Nt={class:"text-gray-900 bg-gray-50 p-3 rounded-lg"},At={key:1,class:"bg-red-50 rounded-lg border border-red-200 p-6"},Dt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ct={class:"text-red-900"},$t={class:"text-red-900"},Bt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Lt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Vt={class:"text-gray-900"},jt={class:"text-gray-900"},qt={key:2,class:"text-center py-12"},Et={__name:"[id]",setup(It){const m=P().params.id,x=D(!0),o=D(null),$=async()=>{try{x.value=!0;const a=await $fetch(`/api/bookings/${m}`);o.value=(a==null?void 0:a.data)||a}catch(a){console.error("خطأ في تحميل الحجز:",a),o.value=null}finally{x.value=!1}},c=a=>a?new Date(a).toLocaleDateString("ar-SA"):"غير محدد",g=a=>a?new Date(a).toLocaleString("ar-SA"):"غير محدد",b=a=>a?new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR"}).format(a):"0.00 ر.س",B=a=>({confirmed:"مؤكدة",pending:"في الانتظار",cancelled:"ملغية",completed:"مكتملة"})[a]||a,L=a=>({confirmed:"bg-green-100 text-green-800",pending:"bg-orange-100 text-orange-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"})[a]||"bg-gray-100 text-gray-800",V=a=>({paid:"مدفوع",partial:"مدفوع جزئياً",pending:"في الانتظار",refunded:"مسترد"})[a]||a,j=a=>({paid:"bg-green-100 text-green-800",partial:"bg-yellow-100 text-yellow-800",pending:"bg-orange-100 text-orange-800",refunded:"bg-red-100 text-red-800"})[a]||"bg-gray-100 text-gray-800";return R(()=>{$()}),H({title:`عرض الحجز #${m} - Wonder Land Admin`,meta:[{name:"description",content:"عرض تفاصيل الحجز"},{name:"robots",content:"noindex, nofollow"}]}),(a,s)=>{var _,v,k,w,h,S,N,A;const i=q,p=I;return r(),n("div",T,[s[39]||(s[39]=t("div",{class:"h-16"},null,-1)),t("div",z,[t("div",null,[s[0]||(s[0]=t("h1",{class:"text-2xl font-bold text-gray-900"},"عرض الحجز",-1)),t("p",E,"تفاصيل الحجز #"+l(((_=e(o))==null?void 0:_.booking_number)||e(m)),1)]),t("div",F,[d(p,{to:`/admin/bookings/${e(m)}/edit`,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:y(()=>[d(i,{name:"material-symbols:edit",class:"h-5 w-5 ml-2"}),s[1]||(s[1]=f(" تحرير "))]),_:1},8,["to"]),d(p,{to:"/admin/bookings",class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors"},{default:y(()=>[d(i,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),s[2]||(s[2]=f(" العودة "))]),_:1})])]),e(x)?(r(),n("div",M,[d(i,{name:"material-symbols:progress-activity",class:"animate-spin h-8 w-8 text-blue-600"}),s[3]||(s[3]=t("span",{class:"mr-3 text-gray-600"},"جارٍ تحميل الحجز...",-1))])):e(o)?(r(),n("div",W,[t("div",G,[t("div",J,[s[4]||(s[4]=t("h2",{class:"text-lg font-semibold text-gray-900"},"معلومات الحجز",-1)),t("div",K,[t("span",{class:C([L(e(o).booking_status),"px-3 py-1 text-sm font-medium rounded-full"])},l(B(e(o).booking_status)),3),t("span",{class:C([j(e(o).payment_status),"px-3 py-1 text-sm font-medium rounded-full"])},l(V(e(o).payment_status)),3)])]),t("div",O,[t("div",null,[s[5]||(s[5]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"رقم الحجز",-1)),t("p",Q,"#"+l(e(o).booking_number),1)]),t("div",null,[s[6]||(s[6]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"تاريخ الحجز",-1)),t("p",U,l(c(e(o).created_at)),1)]),t("div",null,[s[7]||(s[7]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"عدد الضيوف",-1)),t("p",X,l(e(o).guests_count)+" شخص",1)]),t("div",null,[s[8]||(s[8]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"تاريخ المغادرة",-1)),t("p",Y,l(c(e(o).departure_date)),1)]),t("div",null,[s[9]||(s[9]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"تاريخ العودة",-1)),t("p",Z,l(e(o).return_date?c(e(o).return_date):"غير محدد"),1)]),t("div",null,[s[10]||(s[10]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"تاريخ التأكيد",-1)),t("p",tt,l(e(o).confirmed_at?g(e(o).confirmed_at):"غير مؤكد"),1)])])]),t("div",st,[s[14]||(s[14]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"معلومات العميل",-1)),t("div",et,[t("div",null,[s[11]||(s[11]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"الاسم",-1)),t("p",ot,l(e(o).customer_name),1)]),t("div",null,[s[12]||(s[12]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"البريد الإلكتروني",-1)),t("p",lt,l(e(o).customer_email),1)]),t("div",null,[s[13]||(s[13]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"رقم الهاتف",-1)),t("p",at,l(e(o).customer_phone),1)])])]),t("div",nt,[s[19]||(s[19]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"تفاصيل الباقة",-1)),t("div",rt,[t("div",null,[s[15]||(s[15]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"اسم الباقة",-1)),t("p",dt,l(((v=e(o).package)==null?void 0:v.title_ar)||((k=e(o).package)==null?void 0:k.title_en)||((w=e(o).package)==null?void 0:w.title)||"غير محدد"),1)]),t("div",null,[s[16]||(s[16]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"الوجهة",-1)),t("p",it,l(((h=e(o).package)==null?void 0:h.location)||((S=e(o).package)==null?void 0:S.travel_period)||"غير محدد"),1)]),t("div",null,[s[17]||(s[17]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"مدة الرحلة",-1)),t("p",mt,l(((N=e(o).package)==null?void 0:N.duration_days)||"غير محدد")+" أيام",1)]),t("div",null,[s[18]||(s[18]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"سعر الباقة",-1)),t("p",gt,l(b((A=e(o).package)==null?void 0:A.price)),1)])])]),t("div",bt,[s[26]||(s[26]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"تفاصيل الدفع",-1)),t("div",ut,[t("div",null,[s[20]||(s[20]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"المبلغ الإجمالي",-1)),t("p",xt,l(b(e(o).total_amount)),1)]),t("div",null,[s[21]||(s[21]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"المبلغ المدفوع",-1)),t("p",ct,l(b(e(o).paid_amount)),1)]),t("div",null,[s[22]||(s[22]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"المبلغ المتبقي",-1)),t("p",pt,l(b(e(o).total_amount-e(o).paid_amount)),1)]),t("div",null,[s[23]||(s[23]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"العملة",-1)),t("p",yt,l(e(o).currency||"SAR"),1)]),t("div",null,[s[24]||(s[24]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"طريقة الدفع",-1)),t("p",ft,l(e(o).payment_method||"غير محدد"),1)]),t("div",null,[s[25]||(s[25]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"مرجع الدفع",-1)),t("p",_t,l(e(o).payment_reference||"غير محدد"),1)])])]),e(o).special_requests||e(o).notes?(r(),n("div",vt,[s[29]||(s[29]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"طلبات خاصة وملاحظات",-1)),t("div",kt,[e(o).special_requests?(r(),n("div",wt,[s[27]||(s[27]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"طلبات خاصة",-1)),t("p",ht,l(e(o).special_requests),1)])):u("",!0),e(o).notes?(r(),n("div",St,[s[28]||(s[28]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"ملاحظات إدارية",-1)),t("p",Nt,l(e(o).notes),1)])):u("",!0)])])):u("",!0),e(o).booking_status==="cancelled"?(r(),n("div",At,[s[32]||(s[32]=t("h2",{class:"text-lg font-semibold text-red-900 mb-4"},"معلومات الإلغاء",-1)),t("div",Dt,[t("div",null,[s[30]||(s[30]=t("label",{class:"block text-sm font-medium text-red-700 mb-1"},"سبب الإلغاء",-1)),t("p",Ct,l(e(o).cancellation_reason||"غير محدد"),1)]),t("div",null,[s[31]||(s[31]=t("label",{class:"block text-sm font-medium text-red-700 mb-1"},"تاريخ الإلغاء",-1)),t("p",$t,l(e(o).cancellation_date?g(e(o).cancellation_date):"غير محدد"),1)])])])):u("",!0),t("div",Bt,[s[35]||(s[35]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"معلومات إضافية",-1)),t("div",Lt,[t("div",null,[s[33]||(s[33]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"تاريخ الإنشاء",-1)),t("p",Vt,l(g(e(o).created_at)),1)]),t("div",null,[s[34]||(s[34]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"آخر تحديث",-1)),t("p",jt,l(g(e(o).updated_at)),1)])])])])):(r(),n("div",qt,[d(i,{name:"material-symbols:book-online",class:"h-16 w-16 text-gray-300 mx-auto mb-4"}),s[37]||(s[37]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"الحجز غير موجود",-1)),s[38]||(s[38]=t("p",{class:"text-gray-500 mb-6"},"لم يتم العثور على الحجز المطلوب",-1)),d(p,{to:"/admin/bookings",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:y(()=>[d(i,{name:"material-symbols:arrow-back",class:"h-5 w-5 ml-2"}),s[36]||(s[36]=f(" العودة إلى الحجوزات "))]),_:1})]))])}}};export{Et as default};
