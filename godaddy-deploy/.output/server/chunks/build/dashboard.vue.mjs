import{d as e}from"./AdminStats.vue.mjs";import{q as t}from"./index2.mjs";import{M as s}from"./nuxt-link.mjs";import{ref as a,readonly as l,computed as r,mergeProps as o,withCtx as d,createTextVNode as i,unref as n,useSSRContext as c,createVNode as m}from"vue";import{ssrRenderAttrs as v,ssrRenderComponent as p,ssrInterpolate as g,ssrRenderClass as x,ssrRenderStyle as b,ssrRenderList as h,ssrRenderAttr as f}from"vue/server-renderer";import{P as y,w}from"./DoughnutChart.vue.mjs";import{s as S,H as k}from"./server.mjs";import"@iconify/utils/lib/css/icon";import"@iconify/vue";import"chart.js";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"ipx";import"node:path";import"vue-router";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";const $={__name:"AdminSEODashboard",__ssrInlineRender:!0,setup(e){const{seoStats:c,loading:m,getSeoRecommendations:f}=(()=>{const e=a({siteTitleAr:"",siteTitleEn:"",siteDescriptionAr:"",siteDescriptionEn:"",keywords:"",siteUrl:"",ogImage:"",twitterHandle:"",googleAnalytics:"",googleSearchConsole:""}),t=a({indexedPages:0,performanceScore:0,seoIssues:0,internalLinks:0}),s=a([]),r=a(!1),o=a(null);return{seoData:l(e),seoStats:l(t),seoPages:l(s),loading:l(r),error:l(o),loadSeoData:async()=>{try{r.value=!0,o.value=null;const a=await $fetch("/api/seo");if(a.success){const{seoData:l,seoStats:r,seoPages:o}=a.data;e.value={...e.value,...l},t.value={...t.value,...r},s.value=o}}catch(e){o.value=e,console.error("Error loading SEO data:",e)}finally{r.value=!1}},saveSeoSettings:async t=>{try{r.value=!0,o.value=null;const s=await $fetch("/api/seo",{method:"PUT",body:t});if(s.success)return e.value={...e.value,...t.seoData},{success:!0,message:s.message}}catch(e){return o.value=e,console.error("Error saving SEO settings:",e),{success:!1,error:e}}finally{r.value=!1}},generateSitemap:async e=>{try{r.value=!0,o.value=null;const t=await $fetch("/api/seo/sitemap/generate",{method:"POST",body:e});if(t.success)return{success:!0,data:t.data}}catch(e){return o.value=e,console.error("Error generating sitemap:",e),{success:!1,error:e}}finally{r.value=!1}},createSeoPage:async e=>{try{r.value=!0,o.value=null;const t=await $fetch("/api/seo/pages",{method:"POST",body:e});if(t.success)return s.value.push(t.data),{success:!0,data:t.data}}catch(e){return o.value=e,console.error("Error creating SEO page:",e),{success:!1,error:e}}finally{r.value=!1}},updateSeoPage:async(e,t)=>{try{r.value=!0,o.value=null;const a=await $fetch(`/api/seo/pages/${e}`,{method:"PUT",body:t});if(a.success){const t=s.value.findIndex((t=>t.id===e));return-1!==t&&(s.value[t]={...s.value[t],...a.data}),{success:!0,data:a.data}}}catch(e){return o.value=e,console.error("Error updating SEO page:",e),{success:!1,error:e}}finally{r.value=!1}},deleteSeoPage:async e=>{try{r.value=!0,o.value=null;const t=await $fetch(`/api/seo/pages/${e}`,{method:"DELETE"});if(t.success)return s.value=s.value.filter((t=>t.id!==e)),{success:!0,message:t.message}}catch(e){return o.value=e,console.error("Error deleting SEO page:",e),{success:!1,error:e}}finally{r.value=!1}},analyzeSeoScore:e=>{let t=0;const s=[];return e.title&&e.title.length>0?t+=20:s.push("عنوان الصفحة مفقود"),e.description&&e.description.length>0?t+=20:s.push("وصف الصفحة مفقود"),e.keywords&&e.keywords.length>0?t+=15:s.push("الكلمات المفتاحية مفقودة"),e.title&&e.title.length>=30&&e.title.length<=60?t+=15:e.title&&s.push("طول العنوان غير مناسب (يجب أن يكون بين 30-60 حرف)"),e.description&&e.description.length>=120&&e.description.length<=160?t+=15:e.description&&s.push("طول الوصف غير مناسب (يجب أن يكون بين 120-160 حرف)"),e.ogImage&&e.ogImage.length>0?t+=15:s.push("صورة Open Graph مفقودة"),{score:Math.min(t,100),issues:s,status:t>=80?"optimized":t>=60?"needs-work":"not-optimized"}},getSeoRecommendations:()=>{const t=[];return e.value.siteTitleAr||t.push("أضف عنوان الموقع باللغة العربية"),e.value.siteDescriptionAr||t.push("أضف وصف الموقع باللغة العربية"),e.value.keywords||t.push("أضف الكلمات المفتاحية للموقع"),e.value.googleAnalytics||t.push("أضف كود Google Analytics لتتبع الزوار"),e.value.googleSearchConsole||t.push("أضف كود Google Search Console لتحسين الفهرسة"),t}}})(),y=r((()=>f())),u=e=>e>=80?"bg-green-500":e>=60?"bg-orange-500":"bg-red-500";return(e,a,l,r)=>{const f=s,w=t;a(`<div${v(o({class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},r))}><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900">إحصائيات SEO</h3>`),a(p(f,{to:"/admin/seo",class:"text-blue-600 hover:text-blue-800 text-sm font-medium"},{default:d(((e,t,s,a)=>{if(!t)return[i(" عرض التفاصيل ")];t(" عرض التفاصيل ")})),_:1},l)),a(`</div><div class="grid grid-cols-2 gap-4 mb-4"><div class="text-center"><div class="text-2xl font-bold text-blue-600">${g(n(c).indexedPages)}</div><div class="text-sm text-gray-600">صفحات مفهرسة</div></div><div class="text-center"><div class="text-2xl font-bold text-green-600">${g(n(c).performanceScore)}%</div><div class="text-sm text-gray-600">معدل الأداء</div></div></div><div class="mb-4"><div class="flex justify-between text-sm text-gray-600 mb-1"><span>حالة SEO</span><span>${g(n(c).performanceScore)}%</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div class="${x([u(n(c).performanceScore),"h-2 rounded-full transition-all duration-300"])}" style="${b({width:`${n(c).performanceScore}%`})}"></div></div></div>`),n(c).seoIssues>0?(a('<div class="bg-orange-50 border border-orange-200 rounded-lg p-3"><div class="flex items-center">'),a(p(w,{name:"material-symbols:warning",class:"h-5 w-5 text-orange-600 ml-2"},null,l)),a(`<div><div class="text-sm font-medium text-orange-800">${g(n(c).seoIssues)} مشكلة SEO تحتاج انتباه </div><div class="text-xs text-orange-600"> راجع صفحة إدارة SEO لحل هذه المشاكل </div></div></div></div>`)):a("\x3c!----\x3e"),n(y).length>0?(a('<div class="mt-4"><h4 class="text-sm font-medium text-gray-900 mb-2">توصيات سريعة</h4><ul class="space-y-1">\x3c!--[--\x3e'),h(n(y).slice(0,3),((e,t)=>{a('<li class="text-xs text-gray-600 flex items-center">'),a(p(w,{name:"material-symbols:check-circle-outline",class:"h-3 w-3 text-green-500 ml-1"},null,l)),a(` ${g(e)}</li>`)})),a("\x3c!--]--\x3e</ul></div>")):a("\x3c!----\x3e"),n(m)?(a('<div class="flex items-center justify-center py-4">'),a(p(w,{name:"material-symbols:progress-activity",class:"animate-spin h-5 w-5 text-blue-600"},null,l)),a('<span class="mr-2 text-sm text-gray-600">جارٍ التحميل...</span></div>')):a("\x3c!----\x3e"),a("</div>")}}},E=$.setup;$.setup=(e,t)=>{const s=c();return(s.modules||(s.modules=new Set)).add("components/admin/AdminSEODashboard.vue"),E?E(e,t):void 0};const A={__name:"dashboard",__ssrInlineRender:!0,setup(l){const i=a({totalPackages:0,totalDestinations:0,newMessages:0,totalUsers:0,totalBookings:0}),c=a([]),b=a([]),S=a(!0),E=a(!0),A=r((()=>[{key:"packages",label:"إجمالي الباقات",value:i.value.totalPackages,icon:"material-symbols:package-2",iconBg:"bg-slate-100",iconColor:"text-slate-600"},{key:"destinations",label:"إجمالي الوجهات",value:i.value.totalDestinations,icon:"material-symbols:location-on",iconBg:"bg-slate-100",iconColor:"text-slate-600"},{key:"messages",label:"رسائل جديدة",value:i.value.newMessages,icon:"material-symbols:mail",iconBg:"bg-slate-100",iconColor:"text-slate-600"},{key:"users",label:"المستخدمين",value:i.value.totalUsers,icon:"material-symbols:group",iconBg:"bg-slate-100",iconColor:"text-slate-600"},{key:"bookings",label:"إجمالي الحجوزات",value:i.value.totalBookings,icon:"material-symbols:book-online",iconBg:"bg-slate-100",iconColor:"text-slate-600"}])),_=a({labels:["يناير","فبراير","مارس","أبريل","مايو","يونيو"],datasets:[{label:"المبيعات (ريال)",data:[45e3,52e3,48e3,61e3,55e3,67e3],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]}),j=a({labels:["رحلات داخلية","رحلات خارجية","عمرة","حج","رحلات ترفيهية"],datasets:[{data:[35,25,20,15,5],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(245, 158, 11)","rgb(239, 68, 68)","rgb(139, 92, 246)"]}]}),O=a({plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return new Intl.NumberFormat("ar-SA").format(e)+" ريال"}}}}}),D=a({plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0}}}});return k({title:"لوحة التحكم - Wonder Land Admin",meta:[{name:"description",content:"لوحة تحكم إدارة موقع Wonder Land Traveling Agency"},{name:"robots",content:"noindex, nofollow"}]}),(a,l,r,i)=>{const k=e,P=t,C=$,I=s;l(`<div${v(o({class:"space-y-6"},i))} data-v-d04888d2><div class="h-16" data-v-d04888d2></div><div class="bg-gradient-to-r from-slate-500 to-slate-600 rounded-xl p-6 text-white shadow-sm" data-v-d04888d2><h1 class="text-2xl font-semibold mb-2" data-v-d04888d2>مرحباً بك في لوحة التحكم</h1><p class="text-slate-200" data-v-d04888d2>إدارة شاملة لموقع Wonder Land Traveling Agency</p></div>`),l(p(k,{stats:n(A)},null,r)),l('<div class="grid grid-cols-1 lg:grid-cols-2 gap-6" data-v-d04888d2><div class="bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-slate-200/60 p-6 hover:shadow-md transition-all duration-200" data-v-d04888d2><div class="flex items-center justify-between mb-4" data-v-d04888d2><h2 class="text-lg font-semibold text-slate-800" data-v-d04888d2>المبيعات الشهرية</h2><div class="flex items-center space-x-2 space-x-reverse" data-v-d04888d2><span class="text-sm text-slate-500" data-v-d04888d2>آخر 6 أشهر</span>'),l(p(P,{name:"material-symbols:trending-up",class:"h-5 w-5 text-slate-600"},null,r)),l("</div></div>"),l(p(n(y),{data:n(_),height:250,options:n(O)},null,r)),l('</div><div class="bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-slate-200/60 p-6 hover:shadow-md transition-all duration-200" data-v-d04888d2><div class="flex items-center justify-between mb-4" data-v-d04888d2><h2 class="text-lg font-semibold text-slate-800" data-v-d04888d2>توزيع الحجوزات</h2><div class="flex items-center space-x-2 space-x-reverse" data-v-d04888d2><span class="text-sm text-slate-500" data-v-d04888d2>حسب النوع</span>'),l(p(P,{name:"material-symbols:pie-chart",class:"h-5 w-5 text-slate-600"},null,r)),l("</div></div>"),l(p(n(w),{data:n(j),height:250,options:n(D)},null,r)),l('</div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6" data-v-d04888d2><div class="bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-slate-200/60 hover:shadow-md transition-all duration-200" data-v-d04888d2><div class="p-6 border-b border-slate-200/60" data-v-d04888d2><h2 class="text-lg font-semibold text-slate-800" data-v-d04888d2>الأنشطة الحديثة</h2></div><div class="p-6" data-v-d04888d2><div class="space-y-4" data-v-d04888d2>\x3c!--[--\x3e'),h(n(c),(e=>{l(`<div class="flex items-start space-x-3 space-x-reverse" data-v-d04888d2><div class="${x(["flex-shrink-0 w-2 h-2 rounded-full mt-2","package"===e.type?"bg-slate-500":"message"===e.type?"bg-slate-400":"user"===e.type?"bg-slate-600":"bg-slate-300"])}" data-v-d04888d2></div><div class="flex-1 min-w-0" data-v-d04888d2><p class="text-sm text-slate-800" data-v-d04888d2>${g(e.title)}</p><p class="text-xs text-slate-500 mt-1" data-v-d04888d2>${g((e=>new Date(e).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))(e.created_at))}</p></div></div>`)})),l("\x3c!--]--\x3e</div>"),n(S)?(l('<div class="flex justify-center py-4" data-v-d04888d2>'),l(p(P,{name:"material-symbols:progress-activity",class:"animate-spin h-6 w-6 text-slate-400"},null,r)),l("</div>")):l("\x3c!----\x3e"),0!==n(c).length||n(S)?l("\x3c!----\x3e"):(l('<div class="text-center py-8" data-v-d04888d2>'),l(p(P,{name:"material-symbols:inbox",class:"h-12 w-12 text-slate-300 mx-auto mb-2"},null,r)),l('<p class="text-slate-500" data-v-d04888d2>لا توجد أنشطة حديثة</p></div>')),l('</div></div><div class="bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-slate-200/60 hover:shadow-md transition-all duration-200" data-v-d04888d2><div class="p-6 border-b border-slate-200/60" data-v-d04888d2><h2 class="text-lg font-semibold text-slate-800" data-v-d04888d2>الباقات الأكثر شعبية</h2></div><div class="p-6" data-v-d04888d2><div class="space-y-4" data-v-d04888d2>\x3c!--[--\x3e'),h(n(b),(e=>{l(`<div class="flex items-center justify-between" data-v-d04888d2><div class="flex items-center space-x-3 space-x-reverse" data-v-d04888d2><img${f("src",e.image)}${f("alt",e.title)} class="w-10 h-10 rounded-lg object-cover" loading="lazy" data-v-d04888d2><div data-v-d04888d2><p class="text-sm font-medium text-slate-800" data-v-d04888d2>${g(e.title)}</p><p class="text-xs text-slate-500" data-v-d04888d2>${g(e.views)} مشاهدة</p></div></div><span class="text-sm font-medium text-slate-600" data-v-d04888d2>${g((e=>new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SAR"}).format(e))(e.price))}</span></div>`)})),l("\x3c!--]--\x3e</div>"),n(E)?(l('<div class="flex justify-center py-4" data-v-d04888d2>'),l(p(P,{name:"material-symbols:progress-activity",class:"animate-spin h-6 w-6 text-slate-400"},null,r)),l("</div>")):l("\x3c!----\x3e"),0!==n(b).length||n(E)?l("\x3c!----\x3e"):(l('<div class="text-center py-8" data-v-d04888d2>'),l(p(P,{name:"material-symbols:package-2-outline",class:"h-12 w-12 text-slate-300 mx-auto mb-2"},null,r)),l('<p class="text-slate-500" data-v-d04888d2>لا توجد حزم متاحة</p></div>')),l("</div></div>"),l(p(C,null,null,r)),l('</div><div class="bg-white/80 backdrop-blur-sm rounded-xl shadow-sm border border-slate-200/60 p-4 sm:p-6 hover:shadow-md transition-all duration-200" data-v-d04888d2><h2 class="text-lg font-semibold text-slate-800 mb-4" data-v-d04888d2>الروابط السريعة</h2><div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4" data-v-d04888d2>'),l(p(I,{to:"/admin/packages/create",class:"flex flex-col items-center p-3 sm:p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-all duration-200 group"},{default:d(((e,t,s,a)=>{if(!t)return[m(P,{name:"material-symbols:add-box",class:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600 mb-2 group-hover:scale-110 transition-transform"}),m("span",{class:"text-xs sm:text-sm font-medium text-slate-700 text-center"},"إضافة باقة")];t(p(P,{name:"material-symbols:add-box",class:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600 mb-2 group-hover:scale-110 transition-transform"},null,s,a)),t(`<span class="text-xs sm:text-sm font-medium text-slate-700 text-center" data-v-d04888d2${a}>إضافة باقة</span>`)})),_:1},r)),l(p(I,{to:"/admin/destinations/create",class:"flex flex-col items-center p-3 sm:p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-all duration-200 group"},{default:d(((e,t,s,a)=>{if(!t)return[m(P,{name:"material-symbols:add-location",class:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600 mb-2 group-hover:scale-110 transition-transform"}),m("span",{class:"text-xs sm:text-sm font-medium text-slate-700 text-center"},"إضافة وجهة")];t(p(P,{name:"material-symbols:add-location",class:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600 mb-2 group-hover:scale-110 transition-transform"},null,s,a)),t(`<span class="text-xs sm:text-sm font-medium text-slate-700 text-center" data-v-d04888d2${a}>إضافة وجهة</span>`)})),_:1},r)),l(p(I,{to:"/admin/contacts",class:"flex flex-col items-center p-3 sm:p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-all duration-200 group"},{default:d(((e,t,s,a)=>{if(!t)return[m(P,{name:"material-symbols:mail-outline",class:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600 mb-2 group-hover:scale-110 transition-transform"}),m("span",{class:"text-xs sm:text-sm font-medium text-slate-700 text-center"},"عرض الرسائل")];t(p(P,{name:"material-symbols:mail-outline",class:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600 mb-2 group-hover:scale-110 transition-transform"},null,s,a)),t(`<span class="text-xs sm:text-sm font-medium text-slate-700 text-center" data-v-d04888d2${a}>عرض الرسائل</span>`)})),_:1},r)),l(p(I,{to:"/admin/seo",class:"flex flex-col items-center p-3 sm:p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-all duration-200 group"},{default:d(((e,t,s,a)=>{if(!t)return[m(P,{name:"material-symbols:search",class:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600 mb-2 group-hover:scale-110 transition-transform"}),m("span",{class:"text-xs sm:text-sm font-medium text-slate-700 text-center"},"إدارة SEO")];t(p(P,{name:"material-symbols:search",class:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600 mb-2 group-hover:scale-110 transition-transform"},null,s,a)),t(`<span class="text-xs sm:text-sm font-medium text-slate-700 text-center" data-v-d04888d2${a}>إدارة SEO</span>`)})),_:1},r)),l(p(I,{to:"/admin/settings",class:"flex flex-col items-center p-3 sm:p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-all duration-200 group"},{default:d(((e,t,s,a)=>{if(!t)return[m(P,{name:"material-symbols:settings",class:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600 mb-2 group-hover:scale-110 transition-transform"}),m("span",{class:"text-xs sm:text-sm font-medium text-slate-700 text-center"},"الإعدادات")];t(p(P,{name:"material-symbols:settings",class:"h-6 w-6 sm:h-8 sm:w-8 text-slate-600 mb-2 group-hover:scale-110 transition-transform"},null,s,a)),t(`<span class="text-xs sm:text-sm font-medium text-slate-700 text-center" data-v-d04888d2${a}>الإعدادات</span>`)})),_:1},r)),l("</div></div></div>")}}},_=A.setup;A.setup=(e,t)=>{const s=c();return(s.modules||(s.modules=new Set)).add("pages/admin/dashboard.vue"),_?_(e,t):void 0};const j=S(A,[["__scopeId","data-v-d04888d2"]]);export{j as default};
//# sourceMappingURL=dashboard.vue.mjs.map
