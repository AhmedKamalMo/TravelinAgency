import{i as e}from"./AdminPageHeader.vue.mjs";import{q as r}from"./index2.mjs";import{ref as a,mergeProps as t,withCtx as l,unref as s,createVNode as o,createBlock as i,createCommentVNode as n,createTextVNode as c,openBlock as d,toDisplayString as u,useSSRContext as b}from"vue";import{ssrRenderAttrs as g,ssrRenderComponent as p,ssrIncludeBooleanAttr as m,ssrInterpolate as y,ssrRenderList as f,ssrRenderClass as x,ssrRenderAttr as v,ssrLooseContain as _,ssrLooseEqual as h}from"vue/server-renderer";import{w}from"./useSettings.mjs";import{H as A}from"./server.mjs";import"@iconify/utils/lib/css/icon";import"@iconify/vue";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"ipx";import"node:path";import"vue-router";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"unhead/utils";import"devalue";import"unhead/plugins";import"@unhead/schema-org";import"@unhead/schema-org/vue";import"floating-vue";const $={__name:"index",__ssrInlineRender:!0,setup(b){const $=a(!1),T=a("general"),E=[{id:"general",name:"عام",icon:"material-symbols:settings"},{id:"contact",name:"التواصل",icon:"material-symbols:contact-phone"},{id:"social",name:"وسائل التواصل",icon:"material-symbols:share"},{id:"seo",name:"SEO",icon:"material-symbols:search"},{id:"system",name:"النظام",icon:"material-symbols:computer"},{id:"security",name:"الأمان",icon:"material-symbols:security"}],X=a({site_name_ar:"Wonder Land",site_name_en:"Wonder Land",site_tagline_ar:"وكالة السفر الرائدة",site_tagline_en:"Leading Travel Agency",site_description_ar:"وكالة سفر رائدة في المملكة العربية السعودية",site_description_en:"Leading travel agency in Saudi Arabia",site_logo:"/images/logo.png",contact_email:"info@wonderland.com",contact_phone:"+966501234567",contact_whatsapp:"+966501234567",contact_address:"الرياض، المملكة العربية السعودية",website_url:"https://wonderland.com",social_facebook:"",social_twitter:"",social_instagram:"",social_youtube:"",social_linkedin:"",social_snapchat:"",seo_keywords:"سفر، سياحة، رحلات، السعودية، وكالة سفر",seo_description:"اكتشف أفضل الوجهات السياحية مع Wonder Land وكالة السفر الرائدة في المملكة العربية السعودية",google_analytics:"",google_tag_manager:"",facebook_pixel:"",default_language:"ar",timezone:"Asia/Riyadh",default_currency:"SAR",items_per_page:20,maintenance_mode:!1,allow_registration:!0,enable_notifications:!0,enable_analytics:!0,session_timeout:60,max_login_attempts:5,require_2fa:!1,enable_captcha:!1,log_activities:!0,force_https:!0}),{updateSettings:R}=w(),k=async()=>{try{$.value=!0;const e=[];Object.keys(X.value).forEach((r=>{const a=X.value[r];let t="text";"boolean"==typeof a?t="boolean":"number"==typeof a?t="number":(r.includes("description")||r.includes("address"))&&(t="textarea");let l="general";r.startsWith("contact_")||r.includes("email")||r.includes("phone")||r.includes("address")?l="contact":r.startsWith("social_")?l="social":r.startsWith("seo_")||r.includes("analytics")||r.includes("pixel")?l="seo":r.includes("language")||r.includes("currency")||r.includes("timezone")||r.includes("page")||r.includes("maintenance")||r.includes("registration")||r.includes("notifications")?l="system":(r.includes("session")||r.includes("login")||r.includes("2fa")||r.includes("captcha")||r.includes("log")||r.includes("https"))&&(l="security"),e.push({setting_key:r,setting_value:a.toString(),setting_type:t,category:l,description:S(r),is_public:"security"!==l&&!r.includes("admin")})})),await $fetch("/api/cms/site-settings",{method:"PUT",body:{settings:e}}),await R(X.value),alert("تم حفظ الإعدادات بنجاح")}catch(e){console.error("خطأ في حفظ الإعدادات:",e),alert("حدث خطأ أثناء حفظ الإعدادات")}finally{$.value=!1}},S=e=>({site_name_ar:"اسم الموقع باللغة العربية",site_name_en:"اسم الموقع باللغة الإنجليزية",site_tagline_ar:"شعار الموقع باللغة العربية",site_tagline_en:"شعار الموقع باللغة الإنجليزية",site_description_ar:"وصف الموقع باللغة العربية",site_description_en:"وصف الموقع باللغة الإنجليزية",site_logo:"رابط شعار الموقع",contact_email:"البريد الإلكتروني للتواصل",contact_phone:"رقم الهاتف",contact_whatsapp:"رقم الواتساب",contact_address:"العنوان",website_url:"الموقع الإلكتروني",social_facebook:"رابط صفحة الفيسبوك",social_twitter:"رابط حساب تويتر",social_instagram:"رابط حساب الإنستغرام",social_youtube:"رابط قناة اليوتيوب",social_linkedin:"رابط حساب لينكد إن",social_snapchat:"رابط حساب سناب شات",seo_keywords:"الكلمات المفتاحية الافتراضية",seo_description:"الوصف الافتراضي للصفحات",google_analytics:"كود Google Analytics",google_tag_manager:"كود Google Tag Manager",facebook_pixel:"كود Facebook Pixel",default_language:"اللغة الافتراضية للموقع",timezone:"المنطقة الزمنية",default_currency:"العملة الافتراضية",items_per_page:"عدد العناصر في الصفحة الواحدة",maintenance_mode:"تفعيل وضع الصيانة",allow_registration:"السماح بتسجيل المستخدمين الجدد",enable_notifications:"تفعيل الإشعارات",enable_analytics:"تفعيل التحليلات",session_timeout:"مدة انتهاء الجلسة بالدقائق",max_login_attempts:"عدد محاولات تسجيل الدخول المسموحة",require_2fa:"تفعيل المصادقة الثنائية",enable_captcha:"تفعيل CAPTCHA",log_activities:"تسجيل أنشطة المستخدمين",force_https:"فرض استخدام HTTPS"}[e]||`إعداد ${e}`);return A({title:"إعدادات النظام - Wonder Land Admin",meta:[{name:"description",content:"إدارة إعدادات الموقع والنظام"},{name:"robots",content:"noindex, nofollow"}]}),(a,b,w,A)=>{const R=e,U=r;b(`<div${g(t({class:"space-y-6"},A))}><div class="h-16"></div>`),b(p(R,{title:"إعدادات النظام",description:"إدارة إعدادات الموقع والنظام"},{actions:l(((e,r,a,t)=>{if(!r)return[o("button",{onClick:k,disabled:s($),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"},[s($)?(d(),i(U,{key:0,name:"material-symbols:progress-activity",class:"animate-spin h-5 w-5 ml-2"})):n("",!0),c(" "+u(s($)?"جاري الحفظ...":"حفظ الإعدادات"),1)],8,["disabled"])];r(`<button${m(s($))?" disabled":""} class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"${t}>`),s($)?r(p(U,{name:"material-symbols:progress-activity",class:"animate-spin h-5 w-5 ml-2"},null,a,t)):r("\x3c!----\x3e"),r(` ${y(s($)?"جاري الحفظ...":"حفظ الإعدادات")}</button>`)})),_:1},w)),b('<div class="bg-white rounded-xl shadow-sm border border-gray-200"><div class="border-b border-gray-200"><nav class="flex space-x-8 space-x-reverse px-6">\x3c!--[--\x3e'),f(E,(e=>{b(`<button class="${x(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",s(T)===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}">`),b(p(U,{name:e.icon,class:"h-5 w-5 ml-2 inline"},null,w)),b(` ${y(e.name)}</button>`)})),b('\x3c!--]--\x3e</nav></div><div class="p-6">'),"general"===s(T)?b(`<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">اسم الموقع (عربي)</label><input${v("value",s(X).site_name_ar)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل اسم الموقع بالعربية"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">اسم الموقع (إنجليزي)</label><input${v("value",s(X).site_name_en)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter site name in English"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">شعار الموقع (عربي)</label><input${v("value",s(X).site_tagline_ar)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل شعار الموقع بالعربية"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">شعار الموقع (إنجليزي)</label><input${v("value",s(X).site_tagline_en)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter site tagline in English"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">وصف الموقع (عربي)</label><textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="أدخل وصف الموقع بالعربية">${y(s(X).site_description_ar)}</textarea></div><div><label class="block text-sm font-medium text-gray-700 mb-2">وصف الموقع (إنجليزي)</label><textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Enter site description in English">${y(s(X).site_description_en)}</textarea></div></div><div><label class="block text-sm font-medium text-gray-700 mb-2">شعار الموقع (URL)</label><input${v("value",s(X).site_logo)} type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="/images/logo.png"></div></div>`):b("\x3c!----\x3e"),"contact"===s(T)?b(`<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">البريد الإلكتروني</label><input${v("value",s(X).contact_email)} type="email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="info@wonderland.com"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">رقم الهاتف</label><input${v("value",s(X).contact_phone)} type="tel" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="+966501234567"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">رقم الواتساب</label><input${v("value",s(X).contact_whatsapp)} type="tel" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="+966501234567"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">الموقع الإلكتروني</label><input${v("value",s(X).website_url)} type="url" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://wonderland.com"></div></div><div><label class="block text-sm font-medium text-gray-700 mb-2">العنوان</label><textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="الرياض، المملكة العربية السعودية">${y(s(X).contact_address)}</textarea></div></div>`):b("\x3c!----\x3e"),"social"===s(T)?b(`<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">فيسبوك</label><input${v("value",s(X).social_facebook)} type="url" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://facebook.com/wonderland"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">تويتر</label><input${v("value",s(X).social_twitter)} type="url" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://twitter.com/wonderland"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">إنستغرام</label><input${v("value",s(X).social_instagram)} type="url" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://instagram.com/wonderland"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">يوتيوب</label><input${v("value",s(X).social_youtube)} type="url" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://youtube.com/wonderland"></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">لينكد إن</label><input${v("value",s(X).social_linkedin)} type="url" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://linkedin.com/company/wonderland"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">سناب شات</label><input${v("value",s(X).social_snapchat)} type="url" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://snapchat.com/add/wonderland"></div></div></div>`):b("\x3c!----\x3e"),"seo"===s(T)?b(`<div class="space-y-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">كلمات مفتاحية افتراضية</label><input${v("value",s(X).seo_keywords)} type="text" placeholder="سفر، سياحة، رحلات، السعودية، وكالة سفر" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">وصف افتراضي للصفحات</label><textarea rows="3" placeholder="وصف الموقع الافتراضي لمحركات البحث" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">${y(s(X).seo_description)}</textarea></div><div><label class="block text-sm font-medium text-gray-700 mb-2">كود Google Analytics</label><input${v("value",s(X).google_analytics)} type="text" placeholder="G-XXXXXXXXXX" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">كود Google Tag Manager</label><input${v("value",s(X).google_tag_manager)} type="text" placeholder="GTM-XXXXXXX" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">كود Facebook Pixel</label><input${v("value",s(X).facebook_pixel)} type="text" placeholder="123456789012345" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div>`):b("\x3c!----\x3e"),"system"===s(T)?b(`<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">اللغة الافتراضية</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="ar"${m(Array.isArray(s(X).default_language)?_(s(X).default_language,"ar"):h(s(X).default_language,"ar"))?" selected":""}>العربية</option><option value="en"${m(Array.isArray(s(X).default_language)?_(s(X).default_language,"en"):h(s(X).default_language,"en"))?" selected":""}>English</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">المنطقة الزمنية</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="Asia/Riyadh"${m(Array.isArray(s(X).timezone)?_(s(X).timezone,"Asia/Riyadh"):h(s(X).timezone,"Asia/Riyadh"))?" selected":""}>الرياض (GMT+3)</option><option value="Asia/Dubai"${m(Array.isArray(s(X).timezone)?_(s(X).timezone,"Asia/Dubai"):h(s(X).timezone,"Asia/Dubai"))?" selected":""}>دبي (GMT+4)</option><option value="UTC"${m(Array.isArray(s(X).timezone)?_(s(X).timezone,"UTC"):h(s(X).timezone,"UTC"))?" selected":""}>UTC (GMT+0)</option></select></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">العملة الافتراضية</label><select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option value="SAR"${m(Array.isArray(s(X).default_currency)?_(s(X).default_currency,"SAR"):h(s(X).default_currency,"SAR"))?" selected":""}>ريال سعودي (SAR)</option><option value="USD"${m(Array.isArray(s(X).default_currency)?_(s(X).default_currency,"USD"):h(s(X).default_currency,"USD"))?" selected":""}>دولار أمريكي (USD)</option><option value="EUR"${m(Array.isArray(s(X).default_currency)?_(s(X).default_currency,"EUR"):h(s(X).default_currency,"EUR"))?" selected":""}>يورو (EUR)</option><option value="AED"${m(Array.isArray(s(X).default_currency)?_(s(X).default_currency,"AED"):h(s(X).default_currency,"AED"))?" selected":""}>درهم إماراتي (AED)</option></select></div><div><label class="block text-sm font-medium text-gray-700 mb-2">عدد العناصر في الصفحة</label><input${v("value",s(X).items_per_page)} type="number" min="10" max="100" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div><div class="space-y-4"><div class="flex items-center"><input${m(Array.isArray(s(X).maintenance_mode)?_(s(X).maintenance_mode,null):s(X).maintenance_mode)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><label class="mr-2 text-sm text-gray-700">وضع الصيانة</label></div><div class="flex items-center"><input${m(Array.isArray(s(X).allow_registration)?_(s(X).allow_registration,null):s(X).allow_registration)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><label class="mr-2 text-sm text-gray-700">السماح بالتسجيل</label></div><div class="flex items-center"><input${m(Array.isArray(s(X).enable_notifications)?_(s(X).enable_notifications,null):s(X).enable_notifications)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><label class="mr-2 text-sm text-gray-700">تفعيل الإشعارات</label></div><div class="flex items-center"><input${m(Array.isArray(s(X).enable_analytics)?_(s(X).enable_analytics,null):s(X).enable_analytics)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><label class="mr-2 text-sm text-gray-700">تفعيل التحليلات</label></div></div></div>`):b("\x3c!----\x3e"),"security"===s(T)?b(`<div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">مدة انتهاء الجلسة (دقيقة)</label><input${v("value",s(X).session_timeout)} type="number" min="15" max="1440" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">عدد محاولات تسجيل الدخول</label><input${v("value",s(X).max_login_attempts)} type="number" min="3" max="10" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></div></div><div class="space-y-4"><div class="flex items-center"><input${m(Array.isArray(s(X).require_2fa)?_(s(X).require_2fa,null):s(X).require_2fa)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><label class="mr-2 text-sm text-gray-700">تفعيل المصادقة الثنائية</label></div><div class="flex items-center"><input${m(Array.isArray(s(X).enable_captcha)?_(s(X).enable_captcha,null):s(X).enable_captcha)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><label class="mr-2 text-sm text-gray-700">تفعيل CAPTCHA</label></div><div class="flex items-center"><input${m(Array.isArray(s(X).log_activities)?_(s(X).log_activities,null):s(X).log_activities)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><label class="mr-2 text-sm text-gray-700">تسجيل الأنشطة</label></div><div class="flex items-center"><input${m(Array.isArray(s(X).force_https)?_(s(X).force_https,null):s(X).force_https)?" checked":""} type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"><label class="mr-2 text-sm text-gray-700">فرض استخدام HTTPS</label></div></div></div>`):b("\x3c!----\x3e"),b("</div></div></div>")}}},T=$.setup;$.setup=(e,r)=>{const a=b();return(a.modules||(a.modules=new Set)).add("pages/admin/settings/index.vue"),T?T(e,r):void 0};export{$ as default};
//# sourceMappingURL=index.vue13.mjs.map
