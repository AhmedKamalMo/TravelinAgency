import{c as t,g as o,e as s}from"../../../../_/nitro.mjs";import{e}from"../../../../_/database.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"vue";import"node:fs";import"node:url";import"@iconify/utils";import"node:crypto";import"consola";import"ipx";import"node:path";import"mysql2/promise";import"bcryptjs";import"jsonwebtoken";const i=t((async t=>{try{const i=o(t,"id");if(!i)throw s({statusCode:400,statusMessage:"Section ID is required"});if(0===(await e("SELECT id FROM cms_sections WHERE id = ?",[i])).length)throw s({statusCode:404,statusMessage:"Section not found"});return await e("DELETE FROM cms_content_blocks WHERE section_id = ?",[i]),await e("DELETE FROM cms_sections WHERE id = ?",[i]),{success:!0,message:"Section deleted successfully"}}catch(t){if(console.error("Error deleting section:",t),t.statusCode)throw t;throw s({statusCode:500,statusMessage:"Error deleting section"})}}));export{i as default};
//# sourceMappingURL=_id_.delete.mjs.map
