import { useHead, useRequestEvent, useServerHead } from "#imports";
import { useSchemaOrgConfig } from "../utils/config.js";
export function useSchemaOrg(input) {
  const config = useSchemaOrgConfig();
  const script = {
    type: "application/ld+json",
    key: "schema-org-graph",
    nodes: input,
    ...config.scriptAttributes
  };
  if (import.meta.dev) {
    return useHead({
      script: [script]
    });
  }
  if (import.meta.server) {
    const event = useRequestEvent();
    if (typeof event?.context.robots !== "undefined" && !event.context.robots?.indexable) {
      return;
    }
    return useServerHead({
      script: [script]
    });
  } else if (config?.reactive) {
    return useHead({
      script: [script]
    });
  }
}
